function Ny(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();function mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pp={exports:{}},es={},hp={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vi=Symbol.for("react.element"),Sy=Symbol.for("react.portal"),Ey=Symbol.for("react.fragment"),ky=Symbol.for("react.strict_mode"),Py=Symbol.for("react.profiler"),My=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),Dy=Symbol.for("react.forward_ref"),Iy=Symbol.for("react.suspense"),Oy=Symbol.for("react.memo"),Ry=Symbol.for("react.lazy"),Qd=Symbol.iterator;function Ay(e){return e===null||typeof e!="object"?null:(e=Qd&&e[Qd]||e["@@iterator"],typeof e=="function"?e:null)}var vp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gp=Object.assign,xp={};function pa(e,t,n){this.props=e,this.context=t,this.refs=xp,this.updater=n||vp}pa.prototype.isReactComponent={};pa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};pa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yp(){}yp.prototype=pa.prototype;function su(e,t,n){this.props=e,this.context=t,this.refs=xp,this.updater=n||vp}var lu=su.prototype=new yp;lu.constructor=su;gp(lu,pa.prototype);lu.isPureReactComponent=!0;var Kd=Array.isArray,wp=Object.prototype.hasOwnProperty,cu={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function jp(e,t,n){var r,a={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)wp.call(t,r)&&!bp.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)a[r]===void 0&&(a[r]=c[r]);return{$$typeof:vi,type:e,key:o,ref:s,props:a,_owner:cu.current}}function _y(e,t){return{$$typeof:vi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===vi}function Ly(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xd=/\/+/g;function Ys(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ly(""+e.key):t.toString(36)}function Ki(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vi:case Sy:s=!0}}if(s)return s=e,a=a(s),e=r===""?"."+Ys(s,0):r,Kd(a)?(n="",e!=null&&(n=e.replace(Xd,"$&/")+"/"),Ki(a,t,n,"",function(u){return u})):a!=null&&(uu(a)&&(a=_y(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(Xd,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=r===""?".":r+":",Kd(e))for(var c=0;c<e.length;c++){o=e[c];var l=r+Ys(o,c);s+=Ki(o,t,n,l,a)}else if(l=Ay(e),typeof l=="function")for(e=l.call(e),c=0;!(o=e.next()).done;)o=o.value,l=r+Ys(o,c++),s+=Ki(o,t,n,l,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ni(e,t,n){if(e==null)return e;var r=[],a=0;return Ki(e,r,"","",function(o){return t.call(n,o,a++)}),r}function Fy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var it={current:null},Xi={transition:null},$y={ReactCurrentDispatcher:it,ReactCurrentBatchConfig:Xi,ReactCurrentOwner:cu};function Cp(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ni,forEach:function(e,t,n){Ni(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ni(e,function(){t++}),t},toArray:function(e){return Ni(e,function(t){return t})||[]},only:function(e){if(!uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=pa;Q.Fragment=Ey;Q.Profiler=Py;Q.PureComponent=su;Q.StrictMode=ky;Q.Suspense=Iy;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$y;Q.act=Cp;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=gp({},e.props),a=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=cu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)wp.call(t,l)&&!bp.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];r.children=c}return{$$typeof:vi,type:e.type,key:a,ref:o,props:r,_owner:s}};Q.createContext=function(e){return e={$$typeof:Ty,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:My,_context:e},e.Consumer=e};Q.createElement=jp;Q.createFactory=function(e){var t=jp.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Dy,render:e}};Q.isValidElement=uu;Q.lazy=function(e){return{$$typeof:Ry,_payload:{_status:-1,_result:e},_init:Fy}};Q.memo=function(e,t){return{$$typeof:Oy,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Xi.transition;Xi.transition={};try{e()}finally{Xi.transition=t}};Q.unstable_act=Cp;Q.useCallback=function(e,t){return it.current.useCallback(e,t)};Q.useContext=function(e){return it.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return it.current.useDeferredValue(e)};Q.useEffect=function(e,t){return it.current.useEffect(e,t)};Q.useId=function(){return it.current.useId()};Q.useImperativeHandle=function(e,t,n){return it.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return it.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return it.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return it.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return it.current.useReducer(e,t,n)};Q.useRef=function(e){return it.current.useRef(e)};Q.useState=function(e){return it.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return it.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return it.current.useTransition()};Q.version="18.3.1";hp.exports=Q;var p=hp.exports;const pt=mp(p),Np=Ny({__proto__:null,default:pt},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy=p,Uy=Symbol.for("react.element"),Wy=Symbol.for("react.fragment"),By=Object.prototype.hasOwnProperty,Vy=zy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hy={key:!0,ref:!0,__self:!0,__source:!0};function Sp(e,t,n){var r,a={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)By.call(t,r)&&!Hy.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Uy,type:e,key:o,ref:s,props:a,_owner:Vy.current}}es.Fragment=Wy;es.jsx=Sp;es.jsxs=Sp;pp.exports=es;var i=pp.exports,Gl={},Ep={exports:{}},wt={},kp={exports:{}},Pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var M=R.length;R.push(U);e:for(;0<M;){var O=M-1>>>1,_=R[O];if(0<a(_,U))R[O]=U,R[M]=_,M=O;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var U=R[0],M=R.pop();if(M!==U){R[0]=M;e:for(var O=0,_=R.length,K=_>>>1;O<K;){var Se=2*(O+1)-1,Jt=R[Se],Ge=Se+1,Zt=R[Ge];if(0>a(Jt,M))Ge<_&&0>a(Zt,Jt)?(R[O]=Zt,R[Ge]=M,O=Ge):(R[O]=Jt,R[Se]=M,O=Se);else if(Ge<_&&0>a(Zt,M))R[O]=Zt,R[Ge]=M,O=Ge;else break e}}return U}function a(R,U){var M=R.sortIndex-U.sortIndex;return M!==0?M:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();e.unstable_now=function(){return s.now()-c}}var l=[],u=[],f=1,d=null,m=3,g=!1,w=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(R){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=R)r(u),U.sortIndex=U.expirationTime,t(l,U);else break;U=n(u)}}function j(R){if(x=!1,h(R),!w)if(n(l)!==null)w=!0,G(C);else{var U=n(u);U!==null&&se(j,U.startTime-R)}}function C(R,U){w=!1,x&&(x=!1,y(T),T=-1),g=!0;var M=m;try{for(h(U),d=n(l);d!==null&&(!(d.expirationTime>U)||R&&!V());){var O=d.callback;if(typeof O=="function"){d.callback=null,m=d.priorityLevel;var _=O(d.expirationTime<=U);U=e.unstable_now(),typeof _=="function"?d.callback=_:d===n(l)&&r(l),h(U)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var Se=n(u);Se!==null&&se(j,Se.startTime-U),K=!1}return K}finally{d=null,m=M,g=!1}}var E=!1,S=null,T=-1,$=5,L=-1;function V(){return!(e.unstable_now()-L<$)}function B(){if(S!==null){var R=e.unstable_now();L=R;var U=!0;try{U=S(!0,R)}finally{U?ue():(E=!1,S=null)}}else E=!1}var ue;if(typeof v=="function")ue=function(){v(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=B,ue=function(){H.postMessage(null)}}else ue=function(){b(B,0)};function G(R){S=R,E||(E=!0,ue())}function se(R,U){T=b(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,G(C))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var M=m;m=U;try{return R()}finally{m=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=m;m=R;try{return U()}finally{m=M}},e.unstable_scheduleCallback=function(R,U,M){var O=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?O+M:O):M=O,R){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=M+_,R={id:f++,callback:U,priorityLevel:R,startTime:M,expirationTime:_,sortIndex:-1},M>O?(R.sortIndex=M,t(u,R),n(l)===null&&R===n(u)&&(x?(y(T),T=-1):x=!0,se(j,M-O))):(R.sortIndex=_,t(l,R),w||g||(w=!0,G(C))),R},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(R){var U=m;return function(){var M=m;m=U;try{return R.apply(this,arguments)}finally{m=M}}}})(Pp);kp.exports=Pp;var qy=kp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=p,gt=qy;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mp=new Set,Ga={};function Sr(e,t){aa(e,t),aa(e+"Capture",t)}function aa(e,t){for(Ga[e]=t,e=0;e<t.length;e++)Mp.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ql=Object.prototype.hasOwnProperty,Gy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jd={},Zd={};function Qy(e){return Ql.call(Zd,e)?!0:Ql.call(Jd,e)?!1:Gy.test(e)?Zd[e]=!0:(Jd[e]=!0,!1)}function Ky(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Xy(e,t,n,r){if(t===null||typeof t>"u"||Ky(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ot(e,t,n,r,a,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new ot(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new ot(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new ot(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new ot(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new ot(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new ot(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new ot(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new ot(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new ot(e,5,!1,e.toLowerCase(),null,!1,!1)});var du=/[\-:]([a-z])/g;function fu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(du,fu);qe[t]=new ot(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(du,fu);qe[t]=new ot(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(du,fu);qe[t]=new ot(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new ot(e,1,!1,e.toLowerCase(),null,!0,!0)});function mu(e,t,n,r){var a=qe.hasOwnProperty(t)?qe[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Xy(t,n,a,r)&&(n=null),r||a===null?Qy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pn=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Si=Symbol.for("react.element"),Rr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),pu=Symbol.for("react.strict_mode"),Kl=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),Dp=Symbol.for("react.context"),hu=Symbol.for("react.forward_ref"),Xl=Symbol.for("react.suspense"),Jl=Symbol.for("react.suspense_list"),vu=Symbol.for("react.memo"),Nn=Symbol.for("react.lazy"),Ip=Symbol.for("react.offscreen"),ef=Symbol.iterator;function ja(e){return e===null||typeof e!="object"?null:(e=ef&&e[ef]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Gs;function Ia(e){if(Gs===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Gs=t&&t[1]||""}return`
`+Gs+e}var Qs=!1;function Ks(e,t){if(!e||Qs)return"";Qs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),o=r.stack.split(`
`),s=a.length-1,c=o.length-1;1<=s&&0<=c&&a[s]!==o[c];)c--;for(;1<=s&&0<=c;s--,c--)if(a[s]!==o[c]){if(s!==1||c!==1)do if(s--,c--,0>c||a[s]!==o[c]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=c);break}}}finally{Qs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ia(e):""}function Jy(e){switch(e.tag){case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 2:case 15:return e=Ks(e.type,!1),e;case 11:return e=Ks(e.type.render,!1),e;case 1:return e=Ks(e.type,!0),e;default:return""}}function Zl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Rr:return"Portal";case Kl:return"Profiler";case pu:return"StrictMode";case Xl:return"Suspense";case Jl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dp:return(e.displayName||"Context")+".Consumer";case Tp:return(e._context.displayName||"Context")+".Provider";case hu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vu:return t=e.displayName||null,t!==null?t:Zl(e.type)||"Memo";case Nn:t=e._payload,e=e._init;try{return Zl(e(t))}catch{}}return null}function Zy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zl(t);case 8:return t===pu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Op(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function e0(e){var t=Op(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ei(e){e._valueTracker||(e._valueTracker=e0(e))}function Rp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Op(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ec(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tf(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ap(e,t){t=t.checked,t!=null&&mu(e,"checked",t,!1)}function tc(e,t){Ap(e,t);var n=qn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nc(e,t.type,n):t.hasOwnProperty("defaultValue")&&nc(e,t.type,qn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nc(e,t,n){(t!=="number"||xo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Oa=Array.isArray;function Yr(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function rc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Oa(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qn(n)}}function _p(e,t){var n=qn(t.value),r=qn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function af(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ac(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,Fp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},t0=["Webkit","ms","Moz","O"];Object.keys(Fa).forEach(function(e){t0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fa[t]=Fa[e]})});function $p(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Fa.hasOwnProperty(e)&&Fa[e]?(""+t).trim():t+"px"}function zp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=$p(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var n0=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ic(e,t){if(t){if(n0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function oc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sc=null;function gu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var lc=null,Gr=null,Qr=null;function of(e){if(e=yi(e)){if(typeof lc!="function")throw Error(I(280));var t=e.stateNode;t&&(t=is(t),lc(e.stateNode,e.type,t))}}function Up(e){Gr?Qr?Qr.push(e):Qr=[e]:Gr=e}function Wp(){if(Gr){var e=Gr,t=Qr;if(Qr=Gr=null,of(e),t)for(e=0;e<t.length;e++)of(t[e])}}function Bp(e,t){return e(t)}function Vp(){}var Xs=!1;function Hp(e,t,n){if(Xs)return e(t,n);Xs=!0;try{return Bp(e,t,n)}finally{Xs=!1,(Gr!==null||Qr!==null)&&(Vp(),Wp())}}function Ka(e,t){var n=e.stateNode;if(n===null)return null;var r=is(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var cc=!1;if(ln)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){cc=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{cc=!1}function r0(e,t,n,r,a,o,s,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var $a=!1,yo=null,wo=!1,uc=null,a0={onError:function(e){$a=!0,yo=e}};function i0(e,t,n,r,a,o,s,c,l){$a=!1,yo=null,r0.apply(a0,arguments)}function o0(e,t,n,r,a,o,s,c,l){if(i0.apply(this,arguments),$a){if($a){var u=yo;$a=!1,yo=null}else throw Error(I(198));wo||(wo=!0,uc=u)}}function Er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function qp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sf(e){if(Er(e)!==e)throw Error(I(188))}function s0(e){var t=e.alternate;if(!t){if(t=Er(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return sf(a),e;if(o===r)return sf(a),t;o=o.sibling}throw Error(I(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function Yp(e){return e=s0(e),e!==null?Gp(e):null}function Gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gp(e);if(t!==null)return t;e=e.sibling}return null}var Qp=gt.unstable_scheduleCallback,lf=gt.unstable_cancelCallback,l0=gt.unstable_shouldYield,c0=gt.unstable_requestPaint,ke=gt.unstable_now,u0=gt.unstable_getCurrentPriorityLevel,xu=gt.unstable_ImmediatePriority,Kp=gt.unstable_UserBlockingPriority,bo=gt.unstable_NormalPriority,d0=gt.unstable_LowPriority,Xp=gt.unstable_IdlePriority,ts=null,Gt=null;function f0(e){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(ts,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:h0,m0=Math.log,p0=Math.LN2;function h0(e){return e>>>=0,e===0?32:31-(m0(e)/p0|0)|0}var Pi=64,Mi=4194304;function Ra(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var c=s&~a;c!==0?r=Ra(c):(o&=s,o!==0&&(r=Ra(o)))}else s=n&~a,s!==0?r=Ra(s):o!==0&&(r=Ra(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Lt(t),a=1<<n,r|=e[n],t&=~a;return r}function v0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Lt(o),c=1<<s,l=a[s];l===-1?(!(c&n)||c&r)&&(a[s]=v0(c,t)):l<=t&&(e.expiredLanes|=c),o&=~c}}function dc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jp(){var e=Pi;return Pi<<=1,!(Pi&4194240)&&(Pi=64),e}function Js(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=n}function x0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Lt(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function yu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Lt(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var ae=0;function Zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eh,wu,th,nh,rh,fc=!1,Ti=[],On=null,Rn=null,An=null,Xa=new Map,Ja=new Map,En=[],y0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Rn=null;break;case"mouseover":case"mouseout":An=null;break;case"pointerover":case"pointerout":Xa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(t.pointerId)}}function Na(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=yi(t),t!==null&&wu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function w0(e,t,n,r,a){switch(t){case"focusin":return On=Na(On,e,t,n,r,a),!0;case"dragenter":return Rn=Na(Rn,e,t,n,r,a),!0;case"mouseover":return An=Na(An,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Xa.set(o,Na(Xa.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,Ja.set(o,Na(Ja.get(o)||null,e,t,n,r,a)),!0}return!1}function ah(e){var t=ir(e.target);if(t!==null){var n=Er(t);if(n!==null){if(t=n.tag,t===13){if(t=qp(n),t!==null){e.blockedOn=t,rh(e.priority,function(){th(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=mc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sc=r,n.target.dispatchEvent(r),sc=null}else return t=yi(n),t!==null&&wu(t),e.blockedOn=n,!1;t.shift()}return!0}function uf(e,t,n){Ji(e)&&n.delete(t)}function b0(){fc=!1,On!==null&&Ji(On)&&(On=null),Rn!==null&&Ji(Rn)&&(Rn=null),An!==null&&Ji(An)&&(An=null),Xa.forEach(uf),Ja.forEach(uf)}function Sa(e,t){e.blockedOn===t&&(e.blockedOn=null,fc||(fc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,b0)))}function Za(e){function t(a){return Sa(a,e)}if(0<Ti.length){Sa(Ti[0],e);for(var n=1;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}}for(On!==null&&Sa(On,e),Rn!==null&&Sa(Rn,e),An!==null&&Sa(An,e),Xa.forEach(t),Ja.forEach(t),n=0;n<En.length;n++)r=En[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<En.length&&(n=En[0],n.blockedOn===null);)ah(n),n.blockedOn===null&&En.shift()}var Kr=pn.ReactCurrentBatchConfig,Co=!0;function j0(e,t,n,r){var a=ae,o=Kr.transition;Kr.transition=null;try{ae=1,bu(e,t,n,r)}finally{ae=a,Kr.transition=o}}function C0(e,t,n,r){var a=ae,o=Kr.transition;Kr.transition=null;try{ae=4,bu(e,t,n,r)}finally{ae=a,Kr.transition=o}}function bu(e,t,n,r){if(Co){var a=mc(e,t,n,r);if(a===null)ll(e,t,r,No,n),cf(e,r);else if(w0(a,e,t,n,r))r.stopPropagation();else if(cf(e,r),t&4&&-1<y0.indexOf(e)){for(;a!==null;){var o=yi(a);if(o!==null&&eh(o),o=mc(e,t,n,r),o===null&&ll(e,t,r,No,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else ll(e,t,r,null,n)}}var No=null;function mc(e,t,n,r){if(No=null,e=gu(r),e=ir(e),e!==null)if(t=Er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=qp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return No=e,null}function ih(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u0()){case xu:return 1;case Kp:return 4;case bo:case d0:return 16;case Xp:return 536870912;default:return 16}default:return 16}}var Tn=null,ju=null,Zi=null;function oh(){if(Zi)return Zi;var e,t=ju,n=t.length,r,a="value"in Tn?Tn.value:Tn.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[o-r];r++);return Zi=a.slice(e,1<r?1-r:void 0)}function eo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function df(){return!1}function bt(e){function t(n,r,a,o,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Di:df,this.isPropagationStopped=df,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),t}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=bt(ha),xi=Ne({},ha,{view:0,detail:0}),N0=bt(xi),Zs,el,Ea,ns=Ne({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(Zs=e.screenX-Ea.screenX,el=e.screenY-Ea.screenY):el=Zs=0,Ea=e),Zs)},movementY:function(e){return"movementY"in e?e.movementY:el}}),ff=bt(ns),S0=Ne({},ns,{dataTransfer:0}),E0=bt(S0),k0=Ne({},xi,{relatedTarget:0}),tl=bt(k0),P0=Ne({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),M0=bt(P0),T0=Ne({},ha,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),D0=bt(T0),I0=Ne({},ha,{data:0}),mf=bt(I0),O0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},R0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},A0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=A0[e])?!!t[e]:!1}function Nu(){return _0}var L0=Ne({},xi,{key:function(e){if(e.key){var t=O0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=eo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?R0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(e){return e.type==="keypress"?eo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?eo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),F0=bt(L0),$0=Ne({},ns,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=bt($0),z0=Ne({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),U0=bt(z0),W0=Ne({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),B0=bt(W0),V0=Ne({},ns,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H0=bt(V0),q0=[9,13,27,32],Su=ln&&"CompositionEvent"in window,za=null;ln&&"documentMode"in document&&(za=document.documentMode);var Y0=ln&&"TextEvent"in window&&!za,sh=ln&&(!Su||za&&8<za&&11>=za),hf=String.fromCharCode(32),vf=!1;function lh(e,t){switch(e){case"keyup":return q0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _r=!1;function G0(e,t){switch(e){case"compositionend":return ch(t);case"keypress":return t.which!==32?null:(vf=!0,hf);case"textInput":return e=t.data,e===hf&&vf?null:e;default:return null}}function Q0(e,t){if(_r)return e==="compositionend"||!Su&&lh(e,t)?(e=oh(),Zi=ju=Tn=null,_r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var K0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!K0[e.type]:t==="textarea"}function uh(e,t,n,r){Up(r),t=So(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ua=null,ei=null;function X0(e){bh(e,0)}function rs(e){var t=$r(e);if(Rp(t))return e}function J0(e,t){if(e==="change")return t}var dh=!1;if(ln){var nl;if(ln){var rl="oninput"in document;if(!rl){var xf=document.createElement("div");xf.setAttribute("oninput","return;"),rl=typeof xf.oninput=="function"}nl=rl}else nl=!1;dh=nl&&(!document.documentMode||9<document.documentMode)}function yf(){Ua&&(Ua.detachEvent("onpropertychange",fh),ei=Ua=null)}function fh(e){if(e.propertyName==="value"&&rs(ei)){var t=[];uh(t,ei,e,gu(e)),Hp(X0,t)}}function Z0(e,t,n){e==="focusin"?(yf(),Ua=t,ei=n,Ua.attachEvent("onpropertychange",fh)):e==="focusout"&&yf()}function ew(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return rs(ei)}function tw(e,t){if(e==="click")return rs(t)}function nw(e,t){if(e==="input"||e==="change")return rs(t)}function rw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:rw;function ti(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Ql.call(t,a)||!$t(e[a],t[a]))return!1}return!0}function wf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var n=wf(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wf(n)}}function mh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ph(){for(var e=window,t=xo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xo(e.document)}return t}function Eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function aw(e){var t=ph(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mh(n.ownerDocument.documentElement,n)){if(r!==null&&Eu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=bf(n,o);var s=bf(n,r);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var iw=ln&&"documentMode"in document&&11>=document.documentMode,Lr=null,pc=null,Wa=null,hc=!1;function jf(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hc||Lr==null||Lr!==xo(r)||(r=Lr,"selectionStart"in r&&Eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wa&&ti(Wa,r)||(Wa=r,r=So(pc,"onSelect"),0<r.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Lr)))}function Ii(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Fr={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionend:Ii("Transition","TransitionEnd")},al={},hh={};ln&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function as(e){if(al[e])return al[e];if(!Fr[e])return e;var t=Fr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hh)return al[e]=t[n];return e}var vh=as("animationend"),gh=as("animationiteration"),xh=as("animationstart"),yh=as("transitionend"),wh=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,t){wh.set(e,t),Sr(t,[e])}for(var il=0;il<Cf.length;il++){var ol=Cf[il],ow=ol.toLowerCase(),sw=ol[0].toUpperCase()+ol.slice(1);Kn(ow,"on"+sw)}Kn(vh,"onAnimationEnd");Kn(gh,"onAnimationIteration");Kn(xh,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(yh,"onTransitionEnd");aa("onMouseEnter",["mouseout","mouseover"]);aa("onMouseLeave",["mouseout","mouseover"]);aa("onPointerEnter",["pointerout","pointerover"]);aa("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Nf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,o0(r,t,void 0,e),e.currentTarget=null}function bh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var c=r[s],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==o&&a.isPropagationStopped())break e;Nf(a,c,u),o=l}else for(s=0;s<r.length;s++){if(c=r[s],l=c.instance,u=c.currentTarget,c=c.listener,l!==o&&a.isPropagationStopped())break e;Nf(a,c,u),o=l}}}if(wo)throw e=uc,wo=!1,uc=null,e}function he(e,t){var n=t[wc];n===void 0&&(n=t[wc]=new Set);var r=e+"__bubble";n.has(r)||(jh(t,e,2,!1),n.add(r))}function sl(e,t,n){var r=0;t&&(r|=4),jh(n,e,r,t)}var Oi="_reactListening"+Math.random().toString(36).slice(2);function ni(e){if(!e[Oi]){e[Oi]=!0,Mp.forEach(function(n){n!=="selectionchange"&&(lw.has(n)||sl(n,!1,e),sl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oi]||(t[Oi]=!0,sl("selectionchange",!1,t))}}function jh(e,t,n,r){switch(ih(t)){case 1:var a=j0;break;case 4:a=C0;break;default:a=bu}n=a.bind(null,t,n,e),a=void 0,!cc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ll(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;c!==null;){if(s=ir(c),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}c=c.parentNode}}r=r.return}Hp(function(){var u=o,f=gu(n),d=[];e:{var m=wh.get(e);if(m!==void 0){var g=Cu,w=e;switch(e){case"keypress":if(eo(n)===0)break e;case"keydown":case"keyup":g=F0;break;case"focusin":w="focus",g=tl;break;case"focusout":w="blur",g=tl;break;case"beforeblur":case"afterblur":g=tl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=E0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=U0;break;case vh:case gh:case xh:g=M0;break;case yh:g=B0;break;case"scroll":g=N0;break;case"wheel":g=H0;break;case"copy":case"cut":case"paste":g=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pf}var x=(t&4)!==0,b=!x&&e==="scroll",y=x?m!==null?m+"Capture":null:m;x=[];for(var v=u,h;v!==null;){h=v;var j=h.stateNode;if(h.tag===5&&j!==null&&(h=j,y!==null&&(j=Ka(v,y),j!=null&&x.push(ri(v,j,h)))),b)break;v=v.return}0<x.length&&(m=new g(m,w,null,n,f),d.push({event:m,listeners:x}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",m&&n!==sc&&(w=n.relatedTarget||n.fromElement)&&(ir(w)||w[cn]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?ir(w):null,w!==null&&(b=Er(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(x=ff,j="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=pf,j="onPointerLeave",y="onPointerEnter",v="pointer"),b=g==null?m:$r(g),h=w==null?m:$r(w),m=new x(j,v+"leave",g,n,f),m.target=b,m.relatedTarget=h,j=null,ir(f)===u&&(x=new x(y,v+"enter",w,n,f),x.target=h,x.relatedTarget=b,j=x),b=j,g&&w)t:{for(x=g,y=w,v=0,h=x;h;h=Mr(h))v++;for(h=0,j=y;j;j=Mr(j))h++;for(;0<v-h;)x=Mr(x),v--;for(;0<h-v;)y=Mr(y),h--;for(;v--;){if(x===y||y!==null&&x===y.alternate)break t;x=Mr(x),y=Mr(y)}x=null}else x=null;g!==null&&Sf(d,m,g,x,!1),w!==null&&b!==null&&Sf(d,b,w,x,!0)}}e:{if(m=u?$r(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var C=J0;else if(gf(m))if(dh)C=nw;else{C=ew;var E=Z0}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(C=tw);if(C&&(C=C(e,u))){uh(d,C,n,f);break e}E&&E(e,m,u),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&nc(m,"number",m.value)}switch(E=u?$r(u):window,e){case"focusin":(gf(E)||E.contentEditable==="true")&&(Lr=E,pc=u,Wa=null);break;case"focusout":Wa=pc=Lr=null;break;case"mousedown":hc=!0;break;case"contextmenu":case"mouseup":case"dragend":hc=!1,jf(d,n,f);break;case"selectionchange":if(iw)break;case"keydown":case"keyup":jf(d,n,f)}var S;if(Su)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else _r?lh(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sh&&n.locale!=="ko"&&(_r||T!=="onCompositionStart"?T==="onCompositionEnd"&&_r&&(S=oh()):(Tn=f,ju="value"in Tn?Tn.value:Tn.textContent,_r=!0)),E=So(u,T),0<E.length&&(T=new mf(T,e,null,n,f),d.push({event:T,listeners:E}),S?T.data=S:(S=ch(n),S!==null&&(T.data=S)))),(S=Y0?G0(e,n):Q0(e,n))&&(u=So(u,"onBeforeInput"),0<u.length&&(f=new mf("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=S))}bh(d,t)})}function ri(e,t,n){return{instance:e,listener:t,currentTarget:n}}function So(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=Ka(e,n),o!=null&&r.unshift(ri(e,o,a)),o=Ka(e,t),o!=null&&r.push(ri(e,o,a))),e=e.return}return r}function Mr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sf(e,t,n,r,a){for(var o=t._reactName,s=[];n!==null&&n!==r;){var c=n,l=c.alternate,u=c.stateNode;if(l!==null&&l===r)break;c.tag===5&&u!==null&&(c=u,a?(l=Ka(n,o),l!=null&&s.unshift(ri(n,l,c))):a||(l=Ka(n,o),l!=null&&s.push(ri(n,l,c)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var cw=/\r\n?/g,uw=/\u0000|\uFFFD/g;function Ef(e){return(typeof e=="string"?e:""+e).replace(cw,`
`).replace(uw,"")}function Ri(e,t,n){if(t=Ef(t),Ef(e)!==t&&n)throw Error(I(425))}function Eo(){}var vc=null,gc=null;function xc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yc=typeof setTimeout=="function"?setTimeout:void 0,dw=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(mw)}:yc;function mw(e){setTimeout(function(){throw e})}function cl(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Za(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Za(t)}function _n(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Pf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),Vt="__reactFiber$"+va,ai="__reactProps$"+va,cn="__reactContainer$"+va,wc="__reactEvents$"+va,pw="__reactListeners$"+va,hw="__reactHandles$"+va;function ir(e){var t=e[Vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[cn]||n[Vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Pf(e);e!==null;){if(n=e[Vt])return n;e=Pf(e)}return t}e=n,n=e.parentNode}return null}function yi(e){return e=e[Vt]||e[cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function $r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function is(e){return e[ai]||null}var bc=[],zr=-1;function Xn(e){return{current:e}}function xe(e){0>zr||(e.current=bc[zr],bc[zr]=null,zr--)}function de(e,t){zr++,bc[zr]=e.current,e.current=t}var Yn={},nt=Xn(Yn),ut=Xn(!1),pr=Yn;function ia(e,t){var n=e.type.contextTypes;if(!n)return Yn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function dt(e){return e=e.childContextTypes,e!=null}function ko(){xe(ut),xe(nt)}function Mf(e,t,n){if(nt.current!==Yn)throw Error(I(168));de(nt,t),de(ut,n)}function Ch(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(I(108,Zy(e)||"Unknown",a));return Ne({},n,r)}function Po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,pr=nt.current,de(nt,e),de(ut,ut.current),!0}function Tf(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Ch(e,t,pr),r.__reactInternalMemoizedMergedChildContext=e,xe(ut),xe(nt),de(nt,e)):xe(ut),de(ut,n)}var nn=null,os=!1,ul=!1;function Nh(e){nn===null?nn=[e]:nn.push(e)}function vw(e){os=!0,Nh(e)}function Jn(){if(!ul&&nn!==null){ul=!0;var e=0,t=ae;try{var n=nn;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}nn=null,os=!1}catch(a){throw nn!==null&&(nn=nn.slice(e+1)),Qp(xu,Jn),a}finally{ae=t,ul=!1}}return null}var Ur=[],Wr=0,Mo=null,To=0,Ct=[],Nt=0,hr=null,an=1,on="";function tr(e,t){Ur[Wr++]=To,Ur[Wr++]=Mo,Mo=e,To=t}function Sh(e,t,n){Ct[Nt++]=an,Ct[Nt++]=on,Ct[Nt++]=hr,hr=e;var r=an;e=on;var a=32-Lt(r)-1;r&=~(1<<a),n+=1;var o=32-Lt(t)+a;if(30<o){var s=a-a%5;o=(r&(1<<s)-1).toString(32),r>>=s,a-=s,an=1<<32-Lt(t)+a|n<<a|r,on=o+e}else an=1<<o|n<<a|r,on=e}function ku(e){e.return!==null&&(tr(e,1),Sh(e,1,0))}function Pu(e){for(;e===Mo;)Mo=Ur[--Wr],Ur[Wr]=null,To=Ur[--Wr],Ur[Wr]=null;for(;e===hr;)hr=Ct[--Nt],Ct[Nt]=null,on=Ct[--Nt],Ct[Nt]=null,an=Ct[--Nt],Ct[Nt]=null}var vt=null,ht=null,we=!1,At=null;function Eh(e,t){var n=St(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Df(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,ht=_n(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hr!==null?{id:an,overflow:on}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=St(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,ht=null,!0):!1;default:return!1}}function jc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cc(e){if(we){var t=ht;if(t){var n=t;if(!Df(e,t)){if(jc(e))throw Error(I(418));t=_n(n.nextSibling);var r=vt;t&&Df(e,t)?Eh(r,n):(e.flags=e.flags&-4097|2,we=!1,vt=e)}}else{if(jc(e))throw Error(I(418));e.flags=e.flags&-4097|2,we=!1,vt=e}}}function If(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function Ai(e){if(e!==vt)return!1;if(!we)return If(e),we=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xc(e.type,e.memoizedProps)),t&&(t=ht)){if(jc(e))throw kh(),Error(I(418));for(;t;)Eh(e,t),t=_n(t.nextSibling)}if(If(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=_n(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=vt?_n(e.stateNode.nextSibling):null;return!0}function kh(){for(var e=ht;e;)e=_n(e.nextSibling)}function oa(){ht=vt=null,we=!1}function Mu(e){At===null?At=[e]:At.push(e)}var gw=pn.ReactCurrentBatchConfig;function ka(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var c=a.refs;s===null?delete c[o]:c[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function _i(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Of(e){var t=e._init;return t(e._payload)}function Ph(e){function t(y,v){if(e){var h=y.deletions;h===null?(y.deletions=[v],y.flags|=16):h.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function a(y,v){return y=zn(y,v),y.index=0,y.sibling=null,y}function o(y,v,h){return y.index=h,e?(h=y.alternate,h!==null?(h=h.index,h<v?(y.flags|=2,v):h):(y.flags|=2,v)):(y.flags|=1048576,v)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,v,h,j){return v===null||v.tag!==6?(v=gl(h,y.mode,j),v.return=y,v):(v=a(v,h),v.return=y,v)}function l(y,v,h,j){var C=h.type;return C===Ar?f(y,v,h.props.children,j,h.key):v!==null&&(v.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nn&&Of(C)===v.type)?(j=a(v,h.props),j.ref=ka(y,v,h),j.return=y,j):(j=so(h.type,h.key,h.props,null,y.mode,j),j.ref=ka(y,v,h),j.return=y,j)}function u(y,v,h,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==h.containerInfo||v.stateNode.implementation!==h.implementation?(v=xl(h,y.mode,j),v.return=y,v):(v=a(v,h.children||[]),v.return=y,v)}function f(y,v,h,j,C){return v===null||v.tag!==7?(v=ur(h,y.mode,j,C),v.return=y,v):(v=a(v,h),v.return=y,v)}function d(y,v,h){if(typeof v=="string"&&v!==""||typeof v=="number")return v=gl(""+v,y.mode,h),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Si:return h=so(v.type,v.key,v.props,null,y.mode,h),h.ref=ka(y,null,v),h.return=y,h;case Rr:return v=xl(v,y.mode,h),v.return=y,v;case Nn:var j=v._init;return d(y,j(v._payload),h)}if(Oa(v)||ja(v))return v=ur(v,y.mode,h,null),v.return=y,v;_i(y,v)}return null}function m(y,v,h,j){var C=v!==null?v.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:c(y,v,""+h,j);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Si:return h.key===C?l(y,v,h,j):null;case Rr:return h.key===C?u(y,v,h,j):null;case Nn:return C=h._init,m(y,v,C(h._payload),j)}if(Oa(h)||ja(h))return C!==null?null:f(y,v,h,j,null);_i(y,h)}return null}function g(y,v,h,j,C){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(h)||null,c(v,y,""+j,C);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Si:return y=y.get(j.key===null?h:j.key)||null,l(v,y,j,C);case Rr:return y=y.get(j.key===null?h:j.key)||null,u(v,y,j,C);case Nn:var E=j._init;return g(y,v,h,E(j._payload),C)}if(Oa(j)||ja(j))return y=y.get(h)||null,f(v,y,j,C,null);_i(v,j)}return null}function w(y,v,h,j){for(var C=null,E=null,S=v,T=v=0,$=null;S!==null&&T<h.length;T++){S.index>T?($=S,S=null):$=S.sibling;var L=m(y,S,h[T],j);if(L===null){S===null&&(S=$);break}e&&S&&L.alternate===null&&t(y,S),v=o(L,v,T),E===null?C=L:E.sibling=L,E=L,S=$}if(T===h.length)return n(y,S),we&&tr(y,T),C;if(S===null){for(;T<h.length;T++)S=d(y,h[T],j),S!==null&&(v=o(S,v,T),E===null?C=S:E.sibling=S,E=S);return we&&tr(y,T),C}for(S=r(y,S);T<h.length;T++)$=g(S,y,T,h[T],j),$!==null&&(e&&$.alternate!==null&&S.delete($.key===null?T:$.key),v=o($,v,T),E===null?C=$:E.sibling=$,E=$);return e&&S.forEach(function(V){return t(y,V)}),we&&tr(y,T),C}function x(y,v,h,j){var C=ja(h);if(typeof C!="function")throw Error(I(150));if(h=C.call(h),h==null)throw Error(I(151));for(var E=C=null,S=v,T=v=0,$=null,L=h.next();S!==null&&!L.done;T++,L=h.next()){S.index>T?($=S,S=null):$=S.sibling;var V=m(y,S,L.value,j);if(V===null){S===null&&(S=$);break}e&&S&&V.alternate===null&&t(y,S),v=o(V,v,T),E===null?C=V:E.sibling=V,E=V,S=$}if(L.done)return n(y,S),we&&tr(y,T),C;if(S===null){for(;!L.done;T++,L=h.next())L=d(y,L.value,j),L!==null&&(v=o(L,v,T),E===null?C=L:E.sibling=L,E=L);return we&&tr(y,T),C}for(S=r(y,S);!L.done;T++,L=h.next())L=g(S,y,T,L.value,j),L!==null&&(e&&L.alternate!==null&&S.delete(L.key===null?T:L.key),v=o(L,v,T),E===null?C=L:E.sibling=L,E=L);return e&&S.forEach(function(B){return t(y,B)}),we&&tr(y,T),C}function b(y,v,h,j){if(typeof h=="object"&&h!==null&&h.type===Ar&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Si:e:{for(var C=h.key,E=v;E!==null;){if(E.key===C){if(C=h.type,C===Ar){if(E.tag===7){n(y,E.sibling),v=a(E,h.props.children),v.return=y,y=v;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nn&&Of(C)===E.type){n(y,E.sibling),v=a(E,h.props),v.ref=ka(y,E,h),v.return=y,y=v;break e}n(y,E);break}else t(y,E);E=E.sibling}h.type===Ar?(v=ur(h.props.children,y.mode,j,h.key),v.return=y,y=v):(j=so(h.type,h.key,h.props,null,y.mode,j),j.ref=ka(y,v,h),j.return=y,y=j)}return s(y);case Rr:e:{for(E=h.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===h.containerInfo&&v.stateNode.implementation===h.implementation){n(y,v.sibling),v=a(v,h.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=xl(h,y.mode,j),v.return=y,y=v}return s(y);case Nn:return E=h._init,b(y,v,E(h._payload),j)}if(Oa(h))return w(y,v,h,j);if(ja(h))return x(y,v,h,j);_i(y,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,v!==null&&v.tag===6?(n(y,v.sibling),v=a(v,h),v.return=y,y=v):(n(y,v),v=gl(h,y.mode,j),v.return=y,y=v),s(y)):n(y,v)}return b}var sa=Ph(!0),Mh=Ph(!1),Do=Xn(null),Io=null,Br=null,Tu=null;function Du(){Tu=Br=Io=null}function Iu(e){var t=Do.current;xe(Do),e._currentValue=t}function Nc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xr(e,t){Io=e,Tu=Br=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ct=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Tu!==e)if(e={context:e,memoizedValue:t,next:null},Br===null){if(Io===null)throw Error(I(308));Br=e,Io.dependencies={lanes:0,firstContext:e}}else Br=Br.next=e;return t}var or=null;function Ou(e){or===null?or=[e]:or.push(e)}function Th(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Ou(t)):(n.next=a.next,a.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Sn=!1;function Ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function sn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,un(e,n)}return a=r.interleaved,a===null?(t.next=t,Ou(r)):(t.next=a.next,a.next=t),r.interleaved=t,un(e,n)}function to(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}function Rf(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Oo(e,t,n,r){var a=e.updateQueue;Sn=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var l=c,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var f=e.alternate;f!==null&&(f=f.updateQueue,c=f.lastBaseUpdate,c!==s&&(c===null?f.firstBaseUpdate=u:c.next=u,f.lastBaseUpdate=l))}if(o!==null){var d=a.baseState;s=0,f=u=l=null,c=o;do{var m=c.lane,g=c.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var w=e,x=c;switch(m=t,g=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){d=w.call(g,d,m);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,m=typeof w=="function"?w.call(g,d,m):w,m==null)break e;d=Ne({},d,m);break e;case 2:Sn=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,m=a.effects,m===null?a.effects=[c]:m.push(c))}else g={eventTime:g,lane:m,tag:c.tag,payload:c.payload,callback:c.callback,next:null},f===null?(u=f=g,l=d):f=f.next=g,s|=m;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;m=c,c=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(1);if(f===null&&(l=d),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);gr|=s,e.lanes=s,e.memoizedState=d}}function Af(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(I(191,a));a.call(r)}}}var wi={},Qt=Xn(wi),ii=Xn(wi),oi=Xn(wi);function sr(e){if(e===wi)throw Error(I(174));return e}function Au(e,t){switch(de(oi,t),de(ii,e),de(Qt,wi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ac(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ac(t,e)}xe(Qt),de(Qt,t)}function la(){xe(Qt),xe(ii),xe(oi)}function Ih(e){sr(oi.current);var t=sr(Qt.current),n=ac(t,e.type);t!==n&&(de(ii,e),de(Qt,n))}function _u(e){ii.current===e&&(xe(Qt),xe(ii))}var je=Xn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var dl=[];function Lu(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var no=pn.ReactCurrentDispatcher,fl=pn.ReactCurrentBatchConfig,vr=0,Ce=null,De=null,Ae=null,Ao=!1,Ba=!1,si=0,xw=0;function Ke(){throw Error(I(321))}function Fu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function $u(e,t,n,r,a,o){if(vr=o,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,no.current=e===null||e.memoizedState===null?jw:Cw,e=n(r,a),Ba){o=0;do{if(Ba=!1,si=0,25<=o)throw Error(I(301));o+=1,Ae=De=null,t.updateQueue=null,no.current=Nw,e=n(r,a)}while(Ba)}if(no.current=_o,t=De!==null&&De.next!==null,vr=0,Ae=De=Ce=null,Ao=!1,t)throw Error(I(300));return e}function zu(){var e=si!==0;return si=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?Ce.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function Pt(){if(De===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ae===null?Ce.memoizedState:Ae.next;if(t!==null)Ae=t,De=e;else{if(e===null)throw Error(I(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ae===null?Ce.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function li(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=Pt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=De,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var c=s=null,l=null,u=o;do{var f=u.lane;if((vr&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=d,s=r):l=l.next=d,Ce.lanes|=f,gr|=f}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=c,$t(r,t.memoizedState)||(ct=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,Ce.lanes|=o,gr|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pl(e){var t=Pt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);$t(o,t.memoizedState)||(ct=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oh(){}function Rh(e,t){var n=Ce,r=Pt(),a=t(),o=!$t(r.memoizedState,a);if(o&&(r.memoizedState=a,ct=!0),r=r.queue,Uu(Lh.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,ci(9,_h.bind(null,n,r,a,t),void 0,null),_e===null)throw Error(I(349));vr&30||Ah(n,t,a)}return a}function Ah(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _h(e,t,n,r){t.value=n,t.getSnapshot=r,Fh(t)&&$h(e)}function Lh(e,t,n){return n(function(){Fh(t)&&$h(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function $h(e){var t=un(e,1);t!==null&&Ft(t,e,1,-1)}function _f(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:e},t.queue=e,e=e.dispatch=bw.bind(null,Ce,e),[t.memoizedState,e]}function ci(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function zh(){return Pt().memoizedState}function ro(e,t,n,r){var a=Bt();Ce.flags|=e,a.memoizedState=ci(1|t,n,void 0,r===void 0?null:r)}function ss(e,t,n,r){var a=Pt();r=r===void 0?null:r;var o=void 0;if(De!==null){var s=De.memoizedState;if(o=s.destroy,r!==null&&Fu(r,s.deps)){a.memoizedState=ci(t,n,o,r);return}}Ce.flags|=e,a.memoizedState=ci(1|t,n,o,r)}function Lf(e,t){return ro(8390656,8,e,t)}function Uu(e,t){return ss(2048,8,e,t)}function Uh(e,t){return ss(4,2,e,t)}function Wh(e,t){return ss(4,4,e,t)}function Bh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vh(e,t,n){return n=n!=null?n.concat([e]):null,ss(4,4,Bh.bind(null,t,e),n)}function Wu(){}function Hh(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qh(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Fu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yh(e,t,n){return vr&21?($t(n,t)||(n=Jp(),Ce.lanes|=n,gr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ct=!0),e.memoizedState=n)}function yw(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=fl.transition;fl.transition={};try{e(!1),t()}finally{ae=n,fl.transition=r}}function Gh(){return Pt().memoizedState}function ww(e,t,n){var r=$n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qh(e))Kh(t,n);else if(n=Th(e,t,n,r),n!==null){var a=at();Ft(n,e,r,a),Xh(n,t,r)}}function bw(e,t,n){var r=$n(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qh(e))Kh(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,c=o(s,n);if(a.hasEagerState=!0,a.eagerState=c,$t(c,s)){var l=t.interleaved;l===null?(a.next=a,Ou(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=Th(e,t,a,r),n!==null&&(a=at(),Ft(n,e,r,a),Xh(n,t,r))}}function Qh(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Kh(e,t){Ba=Ao=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,yu(e,n)}}var _o={readContext:kt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},jw={readContext:kt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:Lf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ro(4194308,4,Bh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4194308,4,e,t)},useInsertionEffect:function(e,t){return ro(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Bt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ww.bind(null,Ce,e),[r.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:_f,useDebugValue:Wu,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=_f(!1),t=e[0];return e=yw.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ce,a=Bt();if(we){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),_e===null)throw Error(I(349));vr&30||Ah(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Lf(Lh.bind(null,r,o,e),[e]),r.flags|=2048,ci(9,_h.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Bt(),t=_e.identifierPrefix;if(we){var n=on,r=an;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=si++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Cw={readContext:kt,useCallback:Hh,useContext:kt,useEffect:Uu,useImperativeHandle:Vh,useInsertionEffect:Uh,useLayoutEffect:Wh,useMemo:qh,useReducer:ml,useRef:zh,useState:function(){return ml(li)},useDebugValue:Wu,useDeferredValue:function(e){var t=Pt();return Yh(t,De.memoizedState,e)},useTransition:function(){var e=ml(li)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Oh,useSyncExternalStore:Rh,useId:Gh,unstable_isNewReconciler:!1},Nw={readContext:kt,useCallback:Hh,useContext:kt,useEffect:Uu,useImperativeHandle:Vh,useInsertionEffect:Uh,useLayoutEffect:Wh,useMemo:qh,useReducer:pl,useRef:zh,useState:function(){return pl(li)},useDebugValue:Wu,useDeferredValue:function(e){var t=Pt();return De===null?t.memoizedState=e:Yh(t,De.memoizedState,e)},useTransition:function(){var e=pl(li)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Oh,useSyncExternalStore:Rh,useId:Gh,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Sc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ls={isMounted:function(e){return(e=e._reactInternals)?Er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=at(),a=$n(e),o=sn(r,a);o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,a),t!==null&&(Ft(t,e,a,r),to(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=at(),a=$n(e),o=sn(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Ln(e,o,a),t!==null&&(Ft(t,e,a,r),to(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=at(),r=$n(e),a=sn(n,r);a.tag=2,t!=null&&(a.callback=t),t=Ln(e,a,r),t!==null&&(Ft(t,e,r,n),to(t,e,r))}};function Ff(e,t,n,r,a,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!ti(n,r)||!ti(a,o):!0}function Jh(e,t,n){var r=!1,a=Yn,o=t.contextType;return typeof o=="object"&&o!==null?o=kt(o):(a=dt(t)?pr:nt.current,r=t.contextTypes,o=(r=r!=null)?ia(e,a):Yn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ls,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function $f(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ls.enqueueReplaceState(t,t.state,null)}function Ec(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ru(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=kt(o):(o=dt(t)?pr:nt.current,a.context=ia(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Sc(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&ls.enqueueReplaceState(a,a.state,null),Oo(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do n+=Jy(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function hl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function kc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sw=typeof WeakMap=="function"?WeakMap:Map;function Zh(e,t,n){n=sn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Fo||(Fo=!0,Lc=r),kc(e,t)},n}function ev(e,t,n){n=sn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){kc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){kc(e,t),typeof r!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function zf(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sw;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=$w.bind(null,e,t,n),t.then(e,e))}function Uf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wf(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=sn(-1,1),t.tag=2,Ln(n,t,1))),n.lanes|=1),e)}var Ew=pn.ReactCurrentOwner,ct=!1;function rt(e,t,n,r){t.child=e===null?Mh(t,null,n,r):sa(t,e.child,n,r)}function Bf(e,t,n,r,a){n=n.render;var o=t.ref;return Xr(t,a),r=$u(e,t,n,r,o,a),n=zu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,dn(e,t,a)):(we&&n&&ku(t),t.flags|=1,rt(e,t,r,a),t.child)}function Vf(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!Ku(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,tv(e,t,o,r,a)):(e=so(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:ti,n(s,r)&&e.ref===t.ref)return dn(e,t,a)}return t.flags|=1,e=zn(o,r),e.ref=t.ref,e.return=t,t.child=e}function tv(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(ti(o,r)&&e.ref===t.ref)if(ct=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(ct=!0);else return t.lanes=e.lanes,dn(e,t,a)}return Pc(e,t,n,r,a)}function nv(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Hr,mt),mt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Hr,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,de(Hr,mt),mt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,de(Hr,mt),mt|=r;return rt(e,t,a,n),t.child}function rv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pc(e,t,n,r,a){var o=dt(n)?pr:nt.current;return o=ia(t,o),Xr(t,a),n=$u(e,t,n,r,o,a),r=zu(),e!==null&&!ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,dn(e,t,a)):(we&&r&&ku(t),t.flags|=1,rt(e,t,n,a),t.child)}function Hf(e,t,n,r,a){if(dt(n)){var o=!0;Po(t)}else o=!1;if(Xr(t,a),t.stateNode===null)ao(e,t),Jh(t,n,r),Ec(t,n,r,a),r=!0;else if(e===null){var s=t.stateNode,c=t.memoizedProps;s.props=c;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=dt(n)?pr:nt.current,u=ia(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==r||l!==u)&&$f(t,s,r,u),Sn=!1;var m=t.memoizedState;s.state=m,Oo(t,r,s,a),l=t.memoizedState,c!==r||m!==l||ut.current||Sn?(typeof f=="function"&&(Sc(t,n,f,r),l=t.memoizedState),(c=Sn||Ff(t,n,c,r,m,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=c):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Dh(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ot(t.type,c),s.props=u,d=t.pendingProps,m=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=kt(l):(l=dt(n)?pr:nt.current,l=ia(t,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==d||m!==l)&&$f(t,s,r,l),Sn=!1,m=t.memoizedState,s.state=m,Oo(t,r,s,a);var w=t.memoizedState;c!==d||m!==w||ut.current||Sn?(typeof g=="function"&&(Sc(t,n,g,r),w=t.memoizedState),(u=Sn||Ff(t,n,u,r,m,w,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),s.props=r,s.state=w,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Mc(e,t,n,r,o,a)}function Mc(e,t,n,r,a,o){rv(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return a&&Tf(t,n,!1),dn(e,t,o);r=t.stateNode,Ew.current=t;var c=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=sa(t,e.child,null,o),t.child=sa(t,null,c,o)):rt(e,t,c,o),t.memoizedState=r.state,a&&Tf(t,n,!0),t.child}function av(e){var t=e.stateNode;t.pendingContext?Mf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Mf(e,t.context,!1),Au(e,t.containerInfo)}function qf(e,t,n,r,a){return oa(),Mu(a),t.flags|=256,rt(e,t,n,r),t.child}var Tc={dehydrated:null,treeContext:null,retryLane:0};function Dc(e){return{baseLanes:e,cachePool:null,transitions:null}}function iv(e,t,n){var r=t.pendingProps,a=je.current,o=!1,s=(t.flags&128)!==0,c;if((c=s)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),de(je,a&1),e===null)return Cc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ds(s,r,0,null),e=ur(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Dc(n),t.memoizedState=Tc,e):Bu(t,s));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return kw(e,t,s,r,c,a,n);if(o){o=r.fallback,s=t.mode,a=e.child,c=a.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=zn(a,l),r.subtreeFlags=a.subtreeFlags&14680064),c!==null?o=zn(c,o):(o=ur(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Dc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Tc,r}return o=e.child,e=o.sibling,r=zn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bu(e,t){return t=ds({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Li(e,t,n,r){return r!==null&&Mu(r),sa(t,e.child,null,n),e=Bu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function kw(e,t,n,r,a,o,s){if(n)return t.flags&256?(t.flags&=-257,r=hl(Error(I(422))),Li(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=ds({mode:"visible",children:r.children},a,0,null),o=ur(o,a,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&sa(t,e.child,null,s),t.child.memoizedState=Dc(s),t.memoizedState=Tc,o);if(!(t.mode&1))return Li(e,t,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(I(419)),r=hl(o,r,void 0),Li(e,t,s,r)}if(c=(s&e.childLanes)!==0,ct||c){if(r=_e,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,un(e,a),Ft(r,e,a,-1))}return Qu(),r=hl(Error(I(421))),Li(e,t,s,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=zw.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ht=_n(a.nextSibling),vt=t,we=!0,At=null,e!==null&&(Ct[Nt++]=an,Ct[Nt++]=on,Ct[Nt++]=hr,an=e.id,on=e.overflow,hr=t),t=Bu(t,r.children),t.flags|=4096,t)}function Yf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nc(e.return,t,n)}function vl(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function ov(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(rt(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,n,t);else if(e.tag===19)Yf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(je,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),vl(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ro(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}vl(t,!0,n,null,o);break;case"together":vl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ao(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function dn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Pw(e,t,n){switch(t.tag){case 3:av(t),oa();break;case 5:Ih(t);break;case 1:dt(t.type)&&Po(t);break;case 4:Au(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;de(Do,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?iv(e,t,n):(de(je,je.current&1),e=dn(e,t,n),e!==null?e.sibling:null);de(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ov(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),de(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,nv(e,t,n)}return dn(e,t,n)}var sv,Ic,lv,cv;sv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ic=function(){};lv=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,sr(Qt.current);var o=null;switch(n){case"input":a=ec(e,a),r=ec(e,r),o=[];break;case"select":a=Ne({},a,{value:void 0}),r=Ne({},r,{value:void 0}),o=[];break;case"textarea":a=rc(e,a),r=rc(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Eo)}ic(n,r);var s;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ga.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ga.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&he("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};cv=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pa(e,t){if(!we)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Mw(e,t,n){var r=t.pendingProps;switch(Pu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return dt(t.type)&&ko(),Xe(t),null;case 3:return r=t.stateNode,la(),xe(ut),xe(nt),Lu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,At!==null&&(zc(At),At=null))),Ic(e,t),Xe(t),null;case 5:_u(t);var a=sr(oi.current);if(n=t.type,e!==null&&t.stateNode!=null)lv(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Xe(t),null}if(e=sr(Qt.current),Ai(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Vt]=t,r[ai]=o,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(a=0;a<Aa.length;a++)he(Aa[a],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":tf(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":rf(r,o),he("invalid",r)}ic(n,o),a=null;for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Ri(r.textContent,c,e),a=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Ri(r.textContent,c,e),a=["children",""+c]):Ga.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&he("scroll",r)}switch(n){case"input":Ei(r),nf(r,o,!0);break;case"textarea":Ei(r),af(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Eo)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Vt]=t,e[ai]=r,sv(e,t,!1,!1),t.stateNode=e;e:{switch(s=oc(n,r),n){case"dialog":he("cancel",e),he("close",e),a=r;break;case"iframe":case"object":case"embed":he("load",e),a=r;break;case"video":case"audio":for(a=0;a<Aa.length;a++)he(Aa[a],e);a=r;break;case"source":he("error",e),a=r;break;case"img":case"image":case"link":he("error",e),he("load",e),a=r;break;case"details":he("toggle",e),a=r;break;case"input":tf(e,r),a=ec(e,r),he("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ne({},r,{value:void 0}),he("invalid",e);break;case"textarea":rf(e,r),a=rc(e,r),he("invalid",e);break;default:a=r}ic(n,a),c=a;for(o in c)if(c.hasOwnProperty(o)){var l=c[o];o==="style"?zp(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fp(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Qa(e,l):typeof l=="number"&&Qa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ga.hasOwnProperty(o)?l!=null&&o==="onScroll"&&he("scroll",e):l!=null&&mu(e,o,l,s))}switch(n){case"input":Ei(e),nf(e,r,!1);break;case"textarea":Ei(e),af(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Yr(e,!!r.multiple,o,!1):r.defaultValue!=null&&Yr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Eo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)cv(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=sr(oi.current),sr(Qt.current),Ai(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vt]=t,(o=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:Ri(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ri(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vt]=t,t.stateNode=r}return Xe(t),null;case 13:if(xe(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(we&&ht!==null&&t.mode&1&&!(t.flags&128))kh(),oa(),t.flags|=98560,o=!1;else if(o=Ai(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(I(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(I(317));o[Vt]=t}else oa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),o=!1}else At!==null&&(zc(At),At=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Oe===0&&(Oe=3):Qu())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return la(),Ic(e,t),e===null&&ni(t.stateNode.containerInfo),Xe(t),null;case 10:return Iu(t.type._context),Xe(t),null;case 17:return dt(t.type)&&ko(),Xe(t),null;case 19:if(xe(je),o=t.memoizedState,o===null)return Xe(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)Pa(o,!1);else{if(Oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ro(e),s!==null){for(t.flags|=128,Pa(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(je,je.current&1|2),t.child}e=e.sibling}o.tail!==null&&ke()>ua&&(t.flags|=128,r=!0,Pa(o,!1),t.lanes=4194304)}else{if(!r)if(e=Ro(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!we)return Xe(t),null}else 2*ke()-o.renderingStartTime>ua&&n!==1073741824&&(t.flags|=128,r=!0,Pa(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ke(),t.sibling=null,n=je.current,de(je,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return Gu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function Tw(e,t){switch(Pu(t),t.tag){case 1:return dt(t.type)&&ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return la(),xe(ut),xe(nt),Lu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _u(t),null;case 13:if(xe(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));oa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(je),null;case 4:return la(),null;case 10:return Iu(t.type._context),null;case 22:case 23:return Gu(),null;case 24:return null;default:return null}}var Fi=!1,et=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,z=null;function Vr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function Oc(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var Gf=!1;function Iw(e,t){if(vc=Co,e=ph(),Eu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,c=-1,l=-1,u=0,f=0,d=e,m=null;t:for(;;){for(var g;d!==n||a!==0&&d.nodeType!==3||(c=s+a),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)m=d,d=g;for(;;){if(d===e)break t;if(m===n&&++u===a&&(c=s),m===o&&++f===r&&(l=s),(g=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=g}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(gc={focusedElem:e,selectionRange:n},Co=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,b=w.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ot(t.type,x),b);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(j){Ee(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return w=Gf,Gf=!1,w}function Va(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&Oc(t,n,o)}a=a.next}while(a!==r)}}function cs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uv(e){var t=e.alternate;t!==null&&(e.alternate=null,uv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vt],delete t[ai],delete t[wc],delete t[pw],delete t[hw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dv(e){return e.tag===5||e.tag===3||e.tag===4}function Qf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ac(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Eo));else if(r!==4&&(e=e.child,e!==null))for(Ac(e,t,n),e=e.sibling;e!==null;)Ac(e,t,n),e=e.sibling}function _c(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(_c(e,t,n),e=e.sibling;e!==null;)_c(e,t,n),e=e.sibling}var $e=null,Rt=!1;function wn(e,t,n){for(n=n.child;n!==null;)fv(e,t,n),n=n.sibling}function fv(e,t,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(ts,n)}catch{}switch(n.tag){case 5:et||Vr(n,t);case 6:var r=$e,a=Rt;$e=null,wn(e,t,n),$e=r,Rt=a,$e!==null&&(Rt?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Rt?(e=$e,n=n.stateNode,e.nodeType===8?cl(e.parentNode,n):e.nodeType===1&&cl(e,n),Za(e)):cl($e,n.stateNode));break;case 4:r=$e,a=Rt,$e=n.stateNode.containerInfo,Rt=!0,wn(e,t,n),$e=r,Rt=a;break;case 0:case 11:case 14:case 15:if(!et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Oc(n,t,s),a=a.next}while(a!==r)}wn(e,t,n);break;case 1:if(!et&&(Vr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ee(n,t,c)}wn(e,t,n);break;case 21:wn(e,t,n);break;case 22:n.mode&1?(et=(r=et)||n.memoizedState!==null,wn(e,t,n),et=r):wn(e,t,n);break;default:wn(e,t,n)}}function Kf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Dw),t.forEach(function(r){var a=Uw.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Dt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,c=s;e:for(;c!==null;){switch(c.tag){case 5:$e=c.stateNode,Rt=!1;break e;case 3:$e=c.stateNode.containerInfo,Rt=!0;break e;case 4:$e=c.stateNode.containerInfo,Rt=!0;break e}c=c.return}if($e===null)throw Error(I(160));fv(o,s,a),$e=null,Rt=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Ee(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mv(t,e),t=t.sibling}function mv(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Wt(e),r&4){try{Va(3,e,e.return),cs(3,e)}catch(x){Ee(e,e.return,x)}try{Va(5,e,e.return)}catch(x){Ee(e,e.return,x)}}break;case 1:Dt(t,e),Wt(e),r&512&&n!==null&&Vr(n,n.return);break;case 5:if(Dt(t,e),Wt(e),r&512&&n!==null&&Vr(n,n.return),e.flags&32){var a=e.stateNode;try{Qa(a,"")}catch(x){Ee(e,e.return,x)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Ap(a,o),oc(c,s);var u=oc(c,o);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];f==="style"?zp(a,d):f==="dangerouslySetInnerHTML"?Fp(a,d):f==="children"?Qa(a,d):mu(a,f,d,u)}switch(c){case"input":tc(a,o);break;case"textarea":_p(a,o);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Yr(a,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?Yr(a,!!o.multiple,o.defaultValue,!0):Yr(a,!!o.multiple,o.multiple?[]:"",!1))}a[ai]=o}catch(x){Ee(e,e.return,x)}}break;case 6:if(Dt(t,e),Wt(e),r&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(x){Ee(e,e.return,x)}}break;case 3:if(Dt(t,e),Wt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Za(t.containerInfo)}catch(x){Ee(e,e.return,x)}break;case 4:Dt(t,e),Wt(e);break;case 13:Dt(t,e),Wt(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(qu=ke())),r&4&&Kf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(et=(u=et)||f,Dt(t,e),et=u):Dt(t,e),Wt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(z=e,f=e.child;f!==null;){for(d=z=f;z!==null;){switch(m=z,g=m.child,m.tag){case 0:case 11:case 14:case 15:Va(4,m,m.return);break;case 1:Vr(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ee(r,n,x)}}break;case 5:Vr(m,m.return);break;case 22:if(m.memoizedState!==null){Jf(d);continue}}g!==null?(g.return=m,z=g):Jf(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{a=d.stateNode,u?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=$p("display",s))}catch(x){Ee(e,e.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){Ee(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Dt(t,e),Wt(e),r&4&&Kf(e);break;case 21:break;default:Dt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dv(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Qa(a,""),r.flags&=-33);var o=Qf(e);_c(e,o,a);break;case 3:case 4:var s=r.stateNode.containerInfo,c=Qf(e);Ac(e,c,s);break;default:throw Error(I(161))}}catch(l){Ee(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ow(e,t,n){z=e,pv(e)}function pv(e,t,n){for(var r=(e.mode&1)!==0;z!==null;){var a=z,o=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Fi;if(!s){var c=a.alternate,l=c!==null&&c.memoizedState!==null||et;c=Fi;var u=et;if(Fi=s,(et=l)&&!u)for(z=a;z!==null;)s=z,l=s.child,s.tag===22&&s.memoizedState!==null?Zf(a):l!==null?(l.return=s,z=l):Zf(a);for(;o!==null;)z=o,pv(o),o=o.sibling;z=a,Fi=c,et=u}Xf(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,z=o):Xf(e)}}function Xf(e){for(;z!==null;){var t=z;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:et||cs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!et)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ot(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Af(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Af(t,s,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Za(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}et||t.flags&512&&Rc(t)}catch(m){Ee(t,t.return,m)}}if(t===e){z=null;break}if(n=t.sibling,n!==null){n.return=t.return,z=n;break}z=t.return}}function Jf(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var n=t.sibling;if(n!==null){n.return=t.return,z=n;break}z=t.return}}function Zf(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{cs(4,t)}catch(l){Ee(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Ee(t,a,l)}}var o=t.return;try{Rc(t)}catch(l){Ee(t,o,l)}break;case 5:var s=t.return;try{Rc(t)}catch(l){Ee(t,s,l)}}}catch(l){Ee(t,t.return,l)}if(t===e){z=null;break}var c=t.sibling;if(c!==null){c.return=t.return,z=c;break}z=t.return}}var Rw=Math.ceil,Lo=pn.ReactCurrentDispatcher,Vu=pn.ReactCurrentOwner,Et=pn.ReactCurrentBatchConfig,Z=0,_e=null,Te=null,He=0,mt=0,Hr=Xn(0),Oe=0,ui=null,gr=0,us=0,Hu=0,Ha=null,lt=null,qu=0,ua=1/0,tn=null,Fo=!1,Lc=null,Fn=null,$i=!1,Dn=null,$o=0,qa=0,Fc=null,io=-1,oo=0;function at(){return Z&6?ke():io!==-1?io:io=ke()}function $n(e){return e.mode&1?Z&2&&He!==0?He&-He:gw.transition!==null?(oo===0&&(oo=Jp()),oo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ih(e.type)),e):1}function Ft(e,t,n,r){if(50<qa)throw qa=0,Fc=null,Error(I(185));gi(e,n,r),(!(Z&2)||e!==_e)&&(e===_e&&(!(Z&2)&&(us|=n),Oe===4&&kn(e,He)),ft(e,r),n===1&&Z===0&&!(t.mode&1)&&(ua=ke()+500,os&&Jn()))}function ft(e,t){var n=e.callbackNode;g0(e,t);var r=jo(e,e===_e?He:0);if(r===0)n!==null&&lf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&lf(n),t===1)e.tag===0?vw(em.bind(null,e)):Nh(em.bind(null,e)),fw(function(){!(Z&6)&&Jn()}),n=null;else{switch(Zp(r)){case 1:n=xu;break;case 4:n=Kp;break;case 16:n=bo;break;case 536870912:n=Xp;break;default:n=bo}n=jv(n,hv.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hv(e,t){if(io=-1,oo=0,Z&6)throw Error(I(327));var n=e.callbackNode;if(Jr()&&e.callbackNode!==n)return null;var r=jo(e,e===_e?He:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=zo(e,r);else{t=r;var a=Z;Z|=2;var o=gv();(_e!==e||He!==t)&&(tn=null,ua=ke()+500,cr(e,t));do try{Lw();break}catch(c){vv(e,c)}while(1);Du(),Lo.current=o,Z=a,Te!==null?t=0:(_e=null,He=0,t=Oe)}if(t!==0){if(t===2&&(a=dc(e),a!==0&&(r=a,t=$c(e,a))),t===1)throw n=ui,cr(e,0),kn(e,r),ft(e,ke()),n;if(t===6)kn(e,r);else{if(a=e.current.alternate,!(r&30)&&!Aw(a)&&(t=zo(e,r),t===2&&(o=dc(e),o!==0&&(r=o,t=$c(e,o))),t===1))throw n=ui,cr(e,0),kn(e,r),ft(e,ke()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:nr(e,lt,tn);break;case 3:if(kn(e,r),(r&130023424)===r&&(t=qu+500-ke(),10<t)){if(jo(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){at(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=yc(nr.bind(null,e,lt,tn),t);break}nr(e,lt,tn);break;case 4:if(kn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-Lt(r);o=1<<s,s=t[s],s>a&&(a=s),r&=~o}if(r=a,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rw(r/1960))-r,10<r){e.timeoutHandle=yc(nr.bind(null,e,lt,tn),r);break}nr(e,lt,tn);break;case 5:nr(e,lt,tn);break;default:throw Error(I(329))}}}return ft(e,ke()),e.callbackNode===n?hv.bind(null,e):null}function $c(e,t){var n=Ha;return e.current.memoizedState.isDehydrated&&(cr(e,t).flags|=256),e=zo(e,t),e!==2&&(t=lt,lt=n,t!==null&&zc(t)),e}function zc(e){lt===null?lt=e:lt.push.apply(lt,e)}function Aw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!$t(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kn(e,t){for(t&=~Hu,t&=~us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lt(t),r=1<<n;e[n]=-1,t&=~r}}function em(e){if(Z&6)throw Error(I(327));Jr();var t=jo(e,0);if(!(t&1))return ft(e,ke()),null;var n=zo(e,t);if(e.tag!==0&&n===2){var r=dc(e);r!==0&&(t=r,n=$c(e,r))}if(n===1)throw n=ui,cr(e,0),kn(e,t),ft(e,ke()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,lt,tn),ft(e,ke()),null}function Yu(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(ua=ke()+500,os&&Jn())}}function xr(e){Dn!==null&&Dn.tag===0&&!(Z&6)&&Jr();var t=Z;Z|=1;var n=Et.transition,r=ae;try{if(Et.transition=null,ae=1,e)return e()}finally{ae=r,Et.transition=n,Z=t,!(Z&6)&&Jn()}}function Gu(){mt=Hr.current,xe(Hr)}function cr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,dw(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Pu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ko();break;case 3:la(),xe(ut),xe(nt),Lu();break;case 5:_u(r);break;case 4:la();break;case 13:xe(je);break;case 19:xe(je);break;case 10:Iu(r.type._context);break;case 22:case 23:Gu()}n=n.return}if(_e=e,Te=e=zn(e.current,null),He=mt=t,Oe=0,ui=null,Hu=us=gr=0,lt=Ha=null,or!==null){for(t=0;t<or.length;t++)if(n=or[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=a,r.next=s}n.pending=r}or=null}return e}function vv(e,t){do{var n=Te;try{if(Du(),no.current=_o,Ao){for(var r=Ce.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}Ao=!1}if(vr=0,Ae=De=Ce=null,Ba=!1,si=0,Vu.current=null,n===null||n.return===null){Oe=1,ui=t,Te=null;break}e:{var o=e,s=n.return,c=n,l=t;if(t=He,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=c,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Uf(s);if(g!==null){g.flags&=-257,Wf(g,s,c,o,t),g.mode&1&&zf(o,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(l),t.updateQueue=x}else w.add(l);break e}else{if(!(t&1)){zf(o,u,t),Qu();break e}l=Error(I(426))}}else if(we&&c.mode&1){var b=Uf(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Wf(b,s,c,o,t),Mu(ca(l,c));break e}}o=l=ca(l,c),Oe!==4&&(Oe=2),Ha===null?Ha=[o]:Ha.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Zh(o,l,t);Rf(o,y);break e;case 1:c=l;var v=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Fn===null||!Fn.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=ev(o,c,t);Rf(o,j);break e}}o=o.return}while(o!==null)}yv(n)}catch(C){t=C,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(1)}function gv(){var e=Lo.current;return Lo.current=_o,e===null?_o:e}function Qu(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),_e===null||!(gr&268435455)&&!(us&268435455)||kn(_e,He)}function zo(e,t){var n=Z;Z|=2;var r=gv();(_e!==e||He!==t)&&(tn=null,cr(e,t));do try{_w();break}catch(a){vv(e,a)}while(1);if(Du(),Z=n,Lo.current=r,Te!==null)throw Error(I(261));return _e=null,He=0,Oe}function _w(){for(;Te!==null;)xv(Te)}function Lw(){for(;Te!==null&&!l0();)xv(Te)}function xv(e){var t=bv(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?yv(e):Te=t,Vu.current=null}function yv(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Tw(n,t),n!==null){n.flags&=32767,Te=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Oe=6,Te=null;return}}else if(n=Mw(n,t,mt),n!==null){Te=n;return}if(t=t.sibling,t!==null){Te=t;return}Te=t=e}while(t!==null);Oe===0&&(Oe=5)}function nr(e,t,n){var r=ae,a=Et.transition;try{Et.transition=null,ae=1,Fw(e,t,n,r)}finally{Et.transition=a,ae=r}return null}function Fw(e,t,n,r){do Jr();while(Dn!==null);if(Z&6)throw Error(I(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(x0(e,o),e===_e&&(Te=_e=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$i||($i=!0,jv(bo,function(){return Jr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Et.transition,Et.transition=null;var s=ae;ae=1;var c=Z;Z|=4,Vu.current=null,Iw(e,n),mv(n,e),aw(gc),Co=!!vc,gc=vc=null,e.current=n,Ow(n),c0(),Z=c,ae=s,Et.transition=o}else e.current=n;if($i&&($i=!1,Dn=e,$o=a),o=e.pendingLanes,o===0&&(Fn=null),f0(n.stateNode),ft(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Fo)throw Fo=!1,e=Lc,Lc=null,e;return $o&1&&e.tag!==0&&Jr(),o=e.pendingLanes,o&1?e===Fc?qa++:(qa=0,Fc=e):qa=0,Jn(),null}function Jr(){if(Dn!==null){var e=Zp($o),t=Et.transition,n=ae;try{if(Et.transition=null,ae=16>e?16:e,Dn===null)var r=!1;else{if(e=Dn,Dn=null,$o=0,Z&6)throw Error(I(331));var a=Z;for(Z|=4,z=e.current;z!==null;){var o=z,s=o.child;if(z.flags&16){var c=o.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(z=u;z!==null;){var f=z;switch(f.tag){case 0:case 11:case 15:Va(8,f,o)}var d=f.child;if(d!==null)d.return=f,z=d;else for(;z!==null;){f=z;var m=f.sibling,g=f.return;if(uv(f),f===u){z=null;break}if(m!==null){m.return=g,z=m;break}z=g}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,z=s;else e:for(;z!==null;){if(o=z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Va(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,z=y;break e}z=o.return}}var v=e.current;for(z=v;z!==null;){s=z;var h=s.child;if(s.subtreeFlags&2064&&h!==null)h.return=s,z=h;else e:for(s=v;z!==null;){if(c=z,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:cs(9,c)}}catch(C){Ee(c,c.return,C)}if(c===s){z=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,z=j;break e}z=c.return}}if(Z=a,Jn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(ts,e)}catch{}r=!0}return r}finally{ae=n,Et.transition=t}}return!1}function tm(e,t,n){t=ca(n,t),t=Zh(e,t,1),e=Ln(e,t,1),t=at(),e!==null&&(gi(e,1,t),ft(e,t))}function Ee(e,t,n){if(e.tag===3)tm(e,e,n);else for(;t!==null;){if(t.tag===3){tm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fn===null||!Fn.has(r))){e=ca(n,e),e=ev(t,e,1),t=Ln(t,e,1),e=at(),t!==null&&(gi(t,1,e),ft(t,e));break}}t=t.return}}function $w(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=at(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(He&n)===n&&(Oe===4||Oe===3&&(He&130023424)===He&&500>ke()-qu?cr(e,0):Hu|=n),ft(e,t)}function wv(e,t){t===0&&(e.mode&1?(t=Mi,Mi<<=1,!(Mi&130023424)&&(Mi=4194304)):t=1);var n=at();e=un(e,t),e!==null&&(gi(e,t,n),ft(e,n))}function zw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wv(e,n)}function Uw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),wv(e,n)}var bv;bv=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)ct=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ct=!1,Pw(e,t,n);ct=!!(e.flags&131072)}else ct=!1,we&&t.flags&1048576&&Sh(t,To,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ao(e,t),e=t.pendingProps;var a=ia(t,nt.current);Xr(t,n),a=$u(null,t,r,e,a,n);var o=zu();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(r)?(o=!0,Po(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Ru(t),a.updater=ls,t.stateNode=a,a._reactInternals=t,Ec(t,r,e,n),t=Mc(null,t,r,!0,o,n)):(t.tag=0,we&&o&&ku(t),rt(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ao(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Bw(r),e=Ot(r,e),a){case 0:t=Pc(null,t,r,e,n);break e;case 1:t=Hf(null,t,r,e,n);break e;case 11:t=Bf(null,t,r,e,n);break e;case 14:t=Vf(null,t,r,Ot(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),Pc(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),Hf(e,t,r,a,n);case 3:e:{if(av(t),e===null)throw Error(I(387));r=t.pendingProps,o=t.memoizedState,a=o.element,Dh(e,t),Oo(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=ca(Error(I(423)),t),t=qf(e,t,r,n,a);break e}else if(r!==a){a=ca(Error(I(424)),t),t=qf(e,t,r,n,a);break e}else for(ht=_n(t.stateNode.containerInfo.firstChild),vt=t,we=!0,At=null,n=Mh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),r===a){t=dn(e,t,n);break e}rt(e,t,r,n)}t=t.child}return t;case 5:return Ih(t),e===null&&Cc(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,s=a.children,xc(r,a)?s=null:o!==null&&xc(r,o)&&(t.flags|=32),rv(e,t),rt(e,t,s,n),t.child;case 6:return e===null&&Cc(t),null;case 13:return iv(e,t,n);case 4:return Au(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sa(t,null,r,n):rt(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),Bf(e,t,r,a,n);case 7:return rt(e,t,t.pendingProps,n),t.child;case 8:return rt(e,t,t.pendingProps.children,n),t.child;case 12:return rt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,de(Do,r._currentValue),r._currentValue=s,o!==null)if($t(o.value,s)){if(o.children===a.children&&!ut.current){t=dn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var l=c.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=sn(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Nc(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(I(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Nc(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}rt(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Xr(t,n),a=kt(a),r=r(a),t.flags|=1,rt(e,t,r,n),t.child;case 14:return r=t.type,a=Ot(r,t.pendingProps),a=Ot(r.type,a),Vf(e,t,r,a,n);case 15:return tv(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ot(r,a),ao(e,t),t.tag=1,dt(r)?(e=!0,Po(t)):e=!1,Xr(t,n),Jh(t,r,a),Ec(t,r,a,n),Mc(null,t,r,!0,e,n);case 19:return ov(e,t,n);case 22:return nv(e,t,n)}throw Error(I(156,t.tag))};function jv(e,t){return Qp(e,t)}function Ww(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(e,t,n,r){return new Ww(e,t,n,r)}function Ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bw(e){if(typeof e=="function")return Ku(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hu)return 11;if(e===vu)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=St(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function so(e,t,n,r,a,o){var s=2;if(r=e,typeof e=="function")Ku(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ar:return ur(n.children,a,o,t);case pu:s=8,a|=8;break;case Kl:return e=St(12,n,t,a|2),e.elementType=Kl,e.lanes=o,e;case Xl:return e=St(13,n,t,a),e.elementType=Xl,e.lanes=o,e;case Jl:return e=St(19,n,t,a),e.elementType=Jl,e.lanes=o,e;case Ip:return ds(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tp:s=10;break e;case Dp:s=9;break e;case hu:s=11;break e;case vu:s=14;break e;case Nn:s=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=St(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function ur(e,t,n,r){return e=St(7,e,r,t),e.lanes=n,e}function ds(e,t,n,r){return e=St(22,e,r,t),e.elementType=Ip,e.lanes=n,e.stateNode={isHidden:!1},e}function gl(e,t,n){return e=St(6,e,null,t),e.lanes=n,e}function xl(e,t,n){return t=St(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vw(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Js(0),this.expirationTimes=Js(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Js(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xu(e,t,n,r,a,o,s,c,l){return e=new Vw(e,t,n,c,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=St(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ru(o),e}function Hw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Rr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cv(e){if(!e)return Yn;e=e._reactInternals;e:{if(Er(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(dt(n))return Ch(e,n,t)}return t}function Nv(e,t,n,r,a,o,s,c,l){return e=Xu(n,r,!0,e,a,o,s,c,l),e.context=Cv(null),n=e.current,r=at(),a=$n(n),o=sn(r,a),o.callback=t??null,Ln(n,o,a),e.current.lanes=a,gi(e,a,r),ft(e,r),e}function fs(e,t,n,r){var a=t.current,o=at(),s=$n(a);return n=Cv(n),t.context===null?t.context=n:t.pendingContext=n,t=sn(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ln(a,t,s),e!==null&&(Ft(e,a,s,o),to(e,a,s)),s}function Uo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function nm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ju(e,t){nm(e,t),(e=e.alternate)&&nm(e,t)}function qw(){return null}var Sv=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}ms.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));fs(e,t,null,null)};ms.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xr(function(){fs(null,e,null,null)}),t[cn]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var t=nh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<En.length&&t!==0&&t<En[n].priority;n++);En.splice(n,0,e),n===0&&ah(e)}};function ed(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ps(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rm(){}function Yw(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var u=Uo(s);o.call(u)}}var s=Nv(t,r,e,0,null,!1,!1,"",rm);return e._reactRootContainer=s,e[cn]=s.current,ni(e.nodeType===8?e.parentNode:e),xr(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var c=r;r=function(){var u=Uo(l);c.call(u)}}var l=Xu(e,0,!1,null,null,!1,!1,"",rm);return e._reactRootContainer=l,e[cn]=l.current,ni(e.nodeType===8?e.parentNode:e),xr(function(){fs(t,l,n,r)}),l}function hs(e,t,n,r,a){var o=n._reactRootContainer;if(o){var s=o;if(typeof a=="function"){var c=a;a=function(){var l=Uo(s);c.call(l)}}fs(t,s,e,a)}else s=Yw(n,t,e,a,r);return Uo(s)}eh=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ra(t.pendingLanes);n!==0&&(yu(t,n|1),ft(t,ke()),!(Z&6)&&(ua=ke()+500,Jn()))}break;case 13:xr(function(){var r=un(e,1);if(r!==null){var a=at();Ft(r,e,1,a)}}),Ju(e,1)}};wu=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=at();Ft(t,e,134217728,n)}Ju(e,134217728)}};th=function(e){if(e.tag===13){var t=$n(e),n=un(e,t);if(n!==null){var r=at();Ft(n,e,t,r)}Ju(e,t)}};nh=function(){return ae};rh=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};lc=function(e,t,n){switch(t){case"input":if(tc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=is(r);if(!a)throw Error(I(90));Rp(r),tc(r,a)}}}break;case"textarea":_p(e,n);break;case"select":t=n.value,t!=null&&Yr(e,!!n.multiple,t,!1)}};Bp=Yu;Vp=xr;var Gw={usingClientEntryPoint:!1,Events:[yi,$r,is,Up,Wp,Yu]},Ma={findFiberByHostInstance:ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qw={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yp(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||qw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zi.isDisabled&&zi.supportsFiber)try{ts=zi.inject(Qw),Gt=zi}catch{}}wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw;wt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ed(t))throw Error(I(200));return Hw(e,t,null,n)};wt.createRoot=function(e,t){if(!ed(e))throw Error(I(299));var n=!1,r="",a=Sv;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Xu(e,1,!1,null,null,n,!1,r,a),e[cn]=t.current,ni(e.nodeType===8?e.parentNode:e),new Zu(t)};wt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Yp(t),e=e===null?null:e.stateNode,e};wt.flushSync=function(e){return xr(e)};wt.hydrate=function(e,t,n){if(!ps(t))throw Error(I(200));return hs(null,e,t,!0,n)};wt.hydrateRoot=function(e,t,n){if(!ed(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",s=Sv;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Nv(t,null,e,1,n??null,a,!1,o,s),e[cn]=t.current,ni(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ms(t)};wt.render=function(e,t,n){if(!ps(t))throw Error(I(200));return hs(null,e,t,!1,n)};wt.unmountComponentAtNode=function(e){if(!ps(e))throw Error(I(40));return e._reactRootContainer?(xr(function(){hs(null,null,e,!1,function(){e._reactRootContainer=null,e[cn]=null})}),!0):!1};wt.unstable_batchedUpdates=Yu;wt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ps(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return hs(e,t,n,!1,r)};wt.version="18.3.1-next-f1338f8080-20240426";function Ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ev)}catch(e){console.error(e)}}Ev(),Ep.exports=wt;var bi=Ep.exports;const Kw=mp(bi);var am=bi;Gl.createRoot=am.createRoot,Gl.hydrateRoot=am.hydrateRoot;var kv={exports:{}},Pv={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da=p;function Xw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jw=typeof Object.is=="function"?Object.is:Xw,Zw=da.useState,e1=da.useEffect,t1=da.useLayoutEffect,n1=da.useDebugValue;function r1(e,t){var n=t(),r=Zw({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return t1(function(){a.value=n,a.getSnapshot=t,yl(a)&&o({inst:a})},[e,n,t]),e1(function(){return yl(a)&&o({inst:a}),e(function(){yl(a)&&o({inst:a})})},[e]),n1(n),n}function yl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jw(e,n)}catch{return!0}}function a1(e,t){return t()}var i1=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?a1:r1;Pv.useSyncExternalStore=da.useSyncExternalStore!==void 0?da.useSyncExternalStore:i1;kv.exports=Pv;var o1=kv.exports,Mv={exports:{}},Tv={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=p,s1=o1;function l1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c1=typeof Object.is=="function"?Object.is:l1,u1=s1.useSyncExternalStore,d1=vs.useRef,f1=vs.useEffect,m1=vs.useMemo,p1=vs.useDebugValue;Tv.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var o=d1(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=m1(function(){function l(g){if(!u){if(u=!0,f=g,g=r(g),a!==void 0&&s.hasValue){var w=s.value;if(a(w,g))return d=w}return d=g}if(w=d,c1(f,g))return w;var x=r(g);return a!==void 0&&a(w,x)?(f=g,w):(f=g,d=x)}var u=!1,f,d,m=n===void 0?null:n;return[function(){return l(t())},m===null?void 0:function(){return l(m())}]},[t,n,r,a]);var c=u1(e,o[0],o[1]);return f1(function(){s.hasValue=!0,s.value=c},[c]),p1(c),c};Mv.exports=Tv;var h1=Mv.exports;function v1(e){e()}let Dv=v1;const g1=e=>Dv=e,x1=()=>Dv,im=Symbol.for("react-redux-context"),om=typeof globalThis<"u"?globalThis:{};function y1(){var e;if(!p.createContext)return{};const t=(e=om[im])!=null?e:om[im]=new Map;let n=t.get(p.createContext);return n||(n=p.createContext(null),t.set(p.createContext,n)),n}const Gn=y1();function td(e=Gn){return function(){return p.useContext(e)}}const Iv=td(),w1=()=>{throw new Error("uSES not initialized!")};let Ov=w1;const b1=e=>{Ov=e},j1=(e,t)=>e===t;function C1(e=Gn){const t=e===Gn?Iv:td(e);return function(r,a={}){const{equalityFn:o=j1,stabilityCheck:s=void 0,noopCheck:c=void 0}=typeof a=="function"?{equalityFn:a}:a,{store:l,subscription:u,getServerState:f,stabilityCheck:d,noopCheck:m}=t();p.useRef(!0);const g=p.useCallback({[r.name](x){return r(x)}}[r.name],[r,d,s]),w=Ov(u.addNestedSub,l.getState,f||l.getState,g,o);return p.useDebugValue(w),w}}const fe=C1();var Rv={exports:{}},ie={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Le=typeof Symbol=="function"&&Symbol.for,nd=Le?Symbol.for("react.element"):60103,rd=Le?Symbol.for("react.portal"):60106,gs=Le?Symbol.for("react.fragment"):60107,xs=Le?Symbol.for("react.strict_mode"):60108,ys=Le?Symbol.for("react.profiler"):60114,ws=Le?Symbol.for("react.provider"):60109,bs=Le?Symbol.for("react.context"):60110,ad=Le?Symbol.for("react.async_mode"):60111,js=Le?Symbol.for("react.concurrent_mode"):60111,Cs=Le?Symbol.for("react.forward_ref"):60112,Ns=Le?Symbol.for("react.suspense"):60113,N1=Le?Symbol.for("react.suspense_list"):60120,Ss=Le?Symbol.for("react.memo"):60115,Es=Le?Symbol.for("react.lazy"):60116,S1=Le?Symbol.for("react.block"):60121,E1=Le?Symbol.for("react.fundamental"):60117,k1=Le?Symbol.for("react.responder"):60118,P1=Le?Symbol.for("react.scope"):60119;function jt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case nd:switch(e=e.type,e){case ad:case js:case gs:case ys:case xs:case Ns:return e;default:switch(e=e&&e.$$typeof,e){case bs:case Cs:case Es:case Ss:case ws:return e;default:return t}}case rd:return t}}}function Av(e){return jt(e)===js}ie.AsyncMode=ad;ie.ConcurrentMode=js;ie.ContextConsumer=bs;ie.ContextProvider=ws;ie.Element=nd;ie.ForwardRef=Cs;ie.Fragment=gs;ie.Lazy=Es;ie.Memo=Ss;ie.Portal=rd;ie.Profiler=ys;ie.StrictMode=xs;ie.Suspense=Ns;ie.isAsyncMode=function(e){return Av(e)||jt(e)===ad};ie.isConcurrentMode=Av;ie.isContextConsumer=function(e){return jt(e)===bs};ie.isContextProvider=function(e){return jt(e)===ws};ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===nd};ie.isForwardRef=function(e){return jt(e)===Cs};ie.isFragment=function(e){return jt(e)===gs};ie.isLazy=function(e){return jt(e)===Es};ie.isMemo=function(e){return jt(e)===Ss};ie.isPortal=function(e){return jt(e)===rd};ie.isProfiler=function(e){return jt(e)===ys};ie.isStrictMode=function(e){return jt(e)===xs};ie.isSuspense=function(e){return jt(e)===Ns};ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gs||e===js||e===ys||e===xs||e===Ns||e===N1||typeof e=="object"&&e!==null&&(e.$$typeof===Es||e.$$typeof===Ss||e.$$typeof===ws||e.$$typeof===bs||e.$$typeof===Cs||e.$$typeof===E1||e.$$typeof===k1||e.$$typeof===P1||e.$$typeof===S1)};ie.typeOf=jt;Rv.exports=ie;var M1=Rv.exports,_v=M1,T1={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},D1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lv={};Lv[_v.ForwardRef]=T1;Lv[_v.Memo]=D1;var le={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var id=Symbol.for("react.element"),od=Symbol.for("react.portal"),ks=Symbol.for("react.fragment"),Ps=Symbol.for("react.strict_mode"),Ms=Symbol.for("react.profiler"),Ts=Symbol.for("react.provider"),Ds=Symbol.for("react.context"),I1=Symbol.for("react.server_context"),Is=Symbol.for("react.forward_ref"),Os=Symbol.for("react.suspense"),Rs=Symbol.for("react.suspense_list"),As=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),O1=Symbol.for("react.offscreen"),Fv;Fv=Symbol.for("react.module.reference");function Mt(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case id:switch(e=e.type,e){case ks:case Ms:case Ps:case Os:case Rs:return e;default:switch(e=e&&e.$$typeof,e){case I1:case Ds:case Is:case _s:case As:case Ts:return e;default:return t}}case od:return t}}}le.ContextConsumer=Ds;le.ContextProvider=Ts;le.Element=id;le.ForwardRef=Is;le.Fragment=ks;le.Lazy=_s;le.Memo=As;le.Portal=od;le.Profiler=Ms;le.StrictMode=Ps;le.Suspense=Os;le.SuspenseList=Rs;le.isAsyncMode=function(){return!1};le.isConcurrentMode=function(){return!1};le.isContextConsumer=function(e){return Mt(e)===Ds};le.isContextProvider=function(e){return Mt(e)===Ts};le.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===id};le.isForwardRef=function(e){return Mt(e)===Is};le.isFragment=function(e){return Mt(e)===ks};le.isLazy=function(e){return Mt(e)===_s};le.isMemo=function(e){return Mt(e)===As};le.isPortal=function(e){return Mt(e)===od};le.isProfiler=function(e){return Mt(e)===Ms};le.isStrictMode=function(e){return Mt(e)===Ps};le.isSuspense=function(e){return Mt(e)===Os};le.isSuspenseList=function(e){return Mt(e)===Rs};le.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ks||e===Ms||e===Ps||e===Os||e===Rs||e===O1||typeof e=="object"&&e!==null&&(e.$$typeof===_s||e.$$typeof===As||e.$$typeof===Ts||e.$$typeof===Ds||e.$$typeof===Is||e.$$typeof===Fv||e.getModuleId!==void 0)};le.typeOf=Mt;function R1(){const e=x1();let t=null,n=null;return{clear(){t=null,n=null},notify(){e(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){let r=[],a=t;for(;a;)r.push(a),a=a.next;return r},subscribe(r){let a=!0,o=n={callback:r,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){!a||t===null||(a=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}const sm={notify(){},get:()=>[]};function A1(e,t){let n,r=sm,a=0,o=!1;function s(x){f();const b=r.subscribe(x);let y=!1;return()=>{y||(y=!0,b(),d())}}function c(){r.notify()}function l(){w.onStateChange&&w.onStateChange()}function u(){return o}function f(){a++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=R1())}function d(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=sm)}function m(){o||(o=!0,f())}function g(){o&&(o=!1,d())}const w={addNestedSub:s,notifyNestedSubs:c,handleChangeWrapper:l,isSubscribed:u,trySubscribe:m,tryUnsubscribe:g,getListeners:()=>r};return w}const _1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",L1=_1?p.useLayoutEffect:p.useEffect;function F1({store:e,context:t,children:n,serverState:r,stabilityCheck:a="once",noopCheck:o="once"}){const s=p.useMemo(()=>{const u=A1(e);return{store:e,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:a,noopCheck:o}},[e,r,a,o]),c=p.useMemo(()=>e.getState(),[e]);L1(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),c!==e.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,c]);const l=t||Gn;return p.createElement(l.Provider,{value:s},n)}function $v(e=Gn){const t=e===Gn?Iv:td(e);return function(){const{store:r}=t();return r}}const $1=$v();function z1(e=Gn){const t=e===Gn?$1:$v(e);return function(){return t().dispatch}}const hn=z1();b1(h1.useSyncExternalStoreWithSelector);g1(bi.unstable_batchedUpdates);function _t(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Qn(e){return!!e&&!!e[ye]}function fn(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var a=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===Q1}(e)||Array.isArray(e)||!!e[pm]||!!(!((t=e.constructor)===null||t===void 0)&&t[pm])||sd(e)||ld(e))}function yr(e,t,n){n===void 0&&(n=!1),ga(e)===0?(n?Object.keys:ea)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,a){return t(a,r,e)})}function ga(e){var t=e[ye];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:sd(e)?2:ld(e)?3:0}function Zr(e,t){return ga(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function U1(e,t){return ga(e)===2?e.get(t):e[t]}function zv(e,t,n){var r=ga(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Uv(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function sd(e){return Y1&&e instanceof Map}function ld(e){return G1&&e instanceof Set}function rr(e){return e.o||e.t}function cd(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Bv(e);delete t[ye];for(var n=ea(t),r=0;r<n.length;r++){var a=n[r],o=t[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function ud(e,t){return t===void 0&&(t=!1),dd(e)||Qn(e)||!fn(e)||(ga(e)>1&&(e.set=e.add=e.clear=e.delete=W1),Object.freeze(e),t&&yr(e,function(n,r){return ud(r,!0)},!0)),e}function W1(){_t(2)}function dd(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Kt(e){var t=Vc[e];return t||_t(18,e),t}function B1(e,t){Vc[e]||(Vc[e]=t)}function Uc(){return di}function wl(e,t){t&&(Kt("Patches"),e.u=[],e.s=[],e.v=t)}function Wo(e){Wc(e),e.p.forEach(V1),e.p=null}function Wc(e){e===di&&(di=e.l)}function lm(e){return di={p:[],l:di,h:e,m:!0,_:0}}function V1(e){var t=e[ye];t.i===0||t.i===1?t.j():t.g=!0}function bl(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Kt("ES5").S(t,e,r),r?(n[ye].P&&(Wo(t),_t(4)),fn(e)&&(e=Bo(t,e),t.l||Vo(t,e)),t.u&&Kt("Patches").M(n[ye].t,e,t.u,t.s)):e=Bo(t,n,[]),Wo(t),t.u&&t.v(t.u,t.s),e!==Wv?e:void 0}function Bo(e,t,n){if(dd(t))return t;var r=t[ye];if(!r)return yr(t,function(c,l){return cm(e,r,t,c,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Vo(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=r.i===4||r.i===5?r.o=cd(r.k):r.o,o=a,s=!1;r.i===3&&(o=new Set(a),a.clear(),s=!0),yr(o,function(c,l){return cm(e,r,a,c,l,n,s)}),Vo(e,a,!1),n&&e.u&&Kt("Patches").N(r,n,e.u,e.s)}return r.o}function cm(e,t,n,r,a,o,s){if(Qn(a)){var c=Bo(e,a,o&&t&&t.i!==3&&!Zr(t.R,r)?o.concat(r):void 0);if(zv(n,r,c),!Qn(c))return;e.m=!1}else s&&n.add(a);if(fn(a)&&!dd(a)){if(!e.h.D&&e._<1)return;Bo(e,a),t&&t.A.l||Vo(e,a)}}function Vo(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&ud(t,n)}function jl(e,t){var n=e[ye];return(n?rr(n):e)[t]}function um(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Pn(e){e.P||(e.P=!0,e.l&&Pn(e.l))}function Cl(e){e.o||(e.o=cd(e.t))}function Bc(e,t,n){var r=sd(t)?Kt("MapSet").F(t,n):ld(t)?Kt("MapSet").T(t,n):e.O?function(a,o){var s=Array.isArray(a),c={i:s?1:0,A:o?o.A:Uc(),P:!1,I:!1,R:{},l:o,t:a,k:null,o:null,j:null,C:!1},l=c,u=fi;s&&(l=[c],u=_a);var f=Proxy.revocable(l,u),d=f.revoke,m=f.proxy;return c.k=m,c.j=d,m}(t,n):Kt("ES5").J(t,n);return(n?n.A:Uc()).p.push(r),r}function H1(e){return Qn(e)||_t(22,e),function t(n){if(!fn(n))return n;var r,a=n[ye],o=ga(n);if(a){if(!a.P&&(a.i<4||!Kt("ES5").K(a)))return a.t;a.I=!0,r=dm(n,o),a.I=!1}else r=dm(n,o);return yr(r,function(s,c){a&&U1(a.t,s)===c||zv(r,s,t(c))}),o===3?new Set(r):r}(e)}function dm(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return cd(e)}function q1(){function e(o,s){var c=a[o];return c?c.enumerable=s:a[o]=c={configurable:!0,enumerable:s,get:function(){var l=this[ye];return fi.get(l,o)},set:function(l){var u=this[ye];fi.set(u,o,l)}},c}function t(o){for(var s=o.length-1;s>=0;s--){var c=o[s][ye];if(!c.P)switch(c.i){case 5:r(c)&&Pn(c);break;case 4:n(c)&&Pn(c)}}}function n(o){for(var s=o.t,c=o.k,l=ea(c),u=l.length-1;u>=0;u--){var f=l[u];if(f!==ye){var d=s[f];if(d===void 0&&!Zr(s,f))return!0;var m=c[f],g=m&&m[ye];if(g?g.t!==d:!Uv(m,d))return!0}}var w=!!s[ye];return l.length!==ea(s).length+(w?0:1)}function r(o){var s=o.k;if(s.length!==o.t.length)return!0;var c=Object.getOwnPropertyDescriptor(s,s.length-1);if(c&&!c.get)return!0;for(var l=0;l<s.length;l++)if(!s.hasOwnProperty(l))return!0;return!1}var a={};B1("ES5",{J:function(o,s){var c=Array.isArray(o),l=function(f,d){if(f){for(var m=Array(d.length),g=0;g<d.length;g++)Object.defineProperty(m,""+g,e(g,!0));return m}var w=Bv(d);delete w[ye];for(var x=ea(w),b=0;b<x.length;b++){var y=x[b];w[y]=e(y,f||!!w[y].enumerable)}return Object.create(Object.getPrototypeOf(d),w)}(c,o),u={i:c?5:4,A:s?s.A:Uc(),P:!1,I:!1,R:{},l:s,t:o,k:l,o:null,g:!1,C:!1};return Object.defineProperty(l,ye,{value:u,writable:!0}),l},S:function(o,s,c){c?Qn(s)&&s[ye].A===o&&t(o.p):(o.u&&function l(u){if(u&&typeof u=="object"){var f=u[ye];if(f){var d=f.t,m=f.k,g=f.R,w=f.i;if(w===4)yr(m,function(h){h!==ye&&(d[h]!==void 0||Zr(d,h)?g[h]||l(m[h]):(g[h]=!0,Pn(f)))}),yr(d,function(h){m[h]!==void 0||Zr(m,h)||(g[h]=!1,Pn(f))});else if(w===5){if(r(f)&&(Pn(f),g.length=!0),m.length<d.length)for(var x=m.length;x<d.length;x++)g[x]=!1;else for(var b=d.length;b<m.length;b++)g[b]=!0;for(var y=Math.min(m.length,d.length),v=0;v<y;v++)m.hasOwnProperty(v)||(g[v]=!0),g[v]===void 0&&l(m[v])}}}}(o.p[0]),t(o.p))},K:function(o){return o.i===4?n(o):r(o)}})}var fm,di,fd=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Y1=typeof Map<"u",G1=typeof Set<"u",mm=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Wv=fd?Symbol.for("immer-nothing"):((fm={})["immer-nothing"]=!0,fm),pm=fd?Symbol.for("immer-draftable"):"__$immer_draftable",ye=fd?Symbol.for("immer-state"):"__$immer_state",Q1=""+Object.prototype.constructor,ea=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Bv=Object.getOwnPropertyDescriptors||function(e){var t={};return ea(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Vc={},fi={get:function(e,t){if(t===ye)return e;var n=rr(e);if(!Zr(n,t))return function(a,o,s){var c,l=um(o,s);return l?"value"in l?l.value:(c=l.get)===null||c===void 0?void 0:c.call(a.k):void 0}(e,n,t);var r=n[t];return e.I||!fn(r)?r:r===jl(e.t,t)?(Cl(e),e.o[t]=Bc(e.A.h,r,e)):r},has:function(e,t){return t in rr(e)},ownKeys:function(e){return Reflect.ownKeys(rr(e))},set:function(e,t,n){var r=um(rr(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=jl(rr(e),t),o=a==null?void 0:a[ye];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Uv(n,a)&&(n!==void 0||Zr(e.t,t)))return!0;Cl(e),Pn(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return jl(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Cl(e),Pn(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=rr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){_t(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_t(12)}},_a={};yr(fi,function(e,t){_a[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),_a.deleteProperty=function(e,t){return _a.set.call(this,e,t,void 0)},_a.set=function(e,t,n){return fi.set.call(this,e[0],t,n,e[0])};var K1=function(){function e(n){var r=this;this.O=mm,this.D=!0,this.produce=function(a,o,s){if(typeof a=="function"&&typeof o!="function"){var c=o;o=a;var l=r;return function(x){var b=this;x===void 0&&(x=c);for(var y=arguments.length,v=Array(y>1?y-1:0),h=1;h<y;h++)v[h-1]=arguments[h];return l.produce(x,function(j){var C;return(C=o).call.apply(C,[b,j].concat(v))})}}var u;if(typeof o!="function"&&_t(6),s!==void 0&&typeof s!="function"&&_t(7),fn(a)){var f=lm(r),d=Bc(r,a,void 0),m=!0;try{u=o(d),m=!1}finally{m?Wo(f):Wc(f)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(x){return wl(f,s),bl(x,f)},function(x){throw Wo(f),x}):(wl(f,s),bl(u,f))}if(!a||typeof a!="object"){if((u=o(a))===void 0&&(u=a),u===Wv&&(u=void 0),r.D&&ud(u,!0),s){var g=[],w=[];Kt("Patches").M(a,u,g,w),s(g,w)}return u}_t(21,a)},this.produceWithPatches=function(a,o){if(typeof a=="function")return function(u){for(var f=arguments.length,d=Array(f>1?f-1:0),m=1;m<f;m++)d[m-1]=arguments[m];return r.produceWithPatches(u,function(g){return a.apply(void 0,[g].concat(d))})};var s,c,l=r.produce(a,o,function(u,f){s=u,c=f});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,s,c]}):[l,s,c]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){fn(n)||_t(8),Qn(n)&&(n=H1(n));var r=lm(this),a=Bc(this,n,void 0);return a[ye].C=!0,Wc(r),a},t.finishDraft=function(n,r){var a=n&&n[ye],o=a.A;return wl(o,r),bl(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!mm&&_t(20),this.O=n},t.applyPatches=function(n,r){var a;for(a=r.length-1;a>=0;a--){var o=r[a];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}a>-1&&(r=r.slice(a+1));var s=Kt("Patches").$;return Qn(n)?s(n,r):this.produce(n,function(c){return s(c,r)})},e}(),xt=new K1,Vv=xt.produce;xt.produceWithPatches.bind(xt);xt.setAutoFreeze.bind(xt);xt.setUseProxies.bind(xt);xt.applyPatches.bind(xt);xt.createDraft.bind(xt);xt.finishDraft.bind(xt);function wr(e){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wr(e)}function X1(e,t){if(wr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(e){var t=X1(e,"string");return wr(t)=="symbol"?t:t+""}function Z1(e,t,n){return(t=J1(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hm(Object(n),!0).forEach(function(r){Z1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ze(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var gm=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Nl=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ho={INIT:"@@redux/INIT"+Nl(),REPLACE:"@@redux/REPLACE"+Nl(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Nl()}};function eb(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Hv(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ze(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ze(1));return n(Hv)(e,t)}if(typeof e!="function")throw new Error(Ze(2));var a=e,o=t,s=[],c=s,l=!1;function u(){c===s&&(c=s.slice())}function f(){if(l)throw new Error(Ze(3));return o}function d(x){if(typeof x!="function")throw new Error(Ze(4));if(l)throw new Error(Ze(5));var b=!0;return u(),c.push(x),function(){if(b){if(l)throw new Error(Ze(6));b=!1,u();var v=c.indexOf(x);c.splice(v,1),s=null}}}function m(x){if(!eb(x))throw new Error(Ze(7));if(typeof x.type>"u")throw new Error(Ze(8));if(l)throw new Error(Ze(9));try{l=!0,o=a(o,x)}finally{l=!1}for(var b=s=c,y=0;y<b.length;y++){var v=b[y];v()}return x}function g(x){if(typeof x!="function")throw new Error(Ze(10));a=x,m({type:Ho.REPLACE})}function w(){var x,b=d;return x={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(Ze(11));function h(){v.next&&v.next(f())}h();var j=b(h);return{unsubscribe:j}}},x[gm]=function(){return this},x}return m({type:Ho.INIT}),r={dispatch:m,subscribe:d,getState:f,replaceReducer:g},r[gm]=w,r}function tb(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:Ho.INIT});if(typeof r>"u")throw new Error(Ze(12));if(typeof n(void 0,{type:Ho.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ze(13))})}function nb(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];typeof e[a]=="function"&&(n[a]=e[a])}var o=Object.keys(n),s;try{tb(n)}catch(c){s=c}return function(l,u){if(l===void 0&&(l={}),s)throw s;for(var f=!1,d={},m=0;m<o.length;m++){var g=o[m],w=n[g],x=l[g],b=w(x,u);if(typeof b>"u")throw u&&u.type,new Error(Ze(14));d[g]=b,f=f||b!==x}return f=f||o.length!==Object.keys(l).length,f?d:l}}function qo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,a){return function(){return r(a.apply(void 0,arguments))}})}function rb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return function(){var a=r.apply(void 0,arguments),o=function(){throw new Error(Ze(15))},s={getState:a.getState,dispatch:function(){return o.apply(void 0,arguments)}},c=t.map(function(l){return l(s)});return o=qo.apply(void 0,c)(a.dispatch),vm(vm({},a),{},{dispatch:o})}}}function qv(e){var t=function(r){var a=r.dispatch,o=r.getState;return function(s){return function(c){return typeof c=="function"?c(a,o,e):s(c)}}};return t}var Yv=qv();Yv.withExtraArgument=qv;const xm=Yv;var Gv=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ab=globalThis&&globalThis.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(u){return function(f){return l([u,f])}}function l(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,a&&(o=u[0]&2?a.return:u[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,u[1])).done)return o;switch(a=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(f){u=[6,f],a=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fa=globalThis&&globalThis.__spreadArray||function(e,t){for(var n=0,r=t.length,a=e.length;n<r;n++,a++)e[a]=t[n];return e},ib=Object.defineProperty,ob=Object.defineProperties,sb=Object.getOwnPropertyDescriptors,ym=Object.getOwnPropertySymbols,lb=Object.prototype.hasOwnProperty,cb=Object.prototype.propertyIsEnumerable,wm=function(e,t,n){return t in e?ib(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Un=function(e,t){for(var n in t||(t={}))lb.call(t,n)&&wm(e,n,t[n]);if(ym)for(var r=0,a=ym(t);r<a.length;r++){var n=a[r];cb.call(t,n)&&wm(e,n,t[n])}return e},Sl=function(e,t){return ob(e,sb(t))},ub=function(e,t,n){return new Promise(function(r,a){var o=function(l){try{c(n.next(l))}catch(u){a(u)}},s=function(l){try{c(n.throw(l))}catch(u){a(u)}},c=function(l){return l.done?r(l.value):Promise.resolve(l.value).then(o,s)};c((n=n.apply(e,t)).next())})},db=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qo:qo.apply(null,arguments)};function fb(e){if(typeof e!="object"||e===null)return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(var n=t;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return t===n}function Wn(e,t){function n(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(t){var o=t.apply(void 0,r);if(!o)throw new Error("prepareAction did not return an object");return Un(Un({type:e,payload:o.payload},"meta"in o&&{meta:o.meta}),"error"in o&&{error:o.error})}return{type:e,payload:r[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(r){return r.type===e},n}var mb=function(e){Gv(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,fa([void 0],n[0].concat(this)))):new(t.bind.apply(t,fa([void 0],n.concat(this))))},t}(Array),pb=function(e){Gv(t,e);function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=e.apply(this,n)||this;return Object.setPrototypeOf(a,t.prototype),a}return Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.prototype.concat.apply(this,n)},t.prototype.prepend=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.length===1&&Array.isArray(n[0])?new(t.bind.apply(t,fa([void 0],n[0].concat(this)))):new(t.bind.apply(t,fa([void 0],n.concat(this))))},t}(Array);function Hc(e){return fn(e)?Vv(e,function(){}):e}function hb(e){return typeof e=="boolean"}function vb(){return function(t){return gb(t)}}function gb(e){e===void 0&&(e={});var t=e.thunk,n=t===void 0?!0:t;e.immutableCheck,e.serializableCheck,e.actionCreatorCheck;var r=new mb;return n&&(hb(n)?r.push(xm):r.push(xm.withExtraArgument(n.extraArgument))),r}var xb=!0;function yb(e){var t=vb(),n=e||{},r=n.reducer,a=r===void 0?void 0:r,o=n.middleware,s=o===void 0?t():o,c=n.devTools,l=c===void 0?!0:c,u=n.preloadedState,f=u===void 0?void 0:u,d=n.enhancers,m=d===void 0?void 0:d,g;if(typeof a=="function")g=a;else if(fb(a))g=nb(a);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var w=s;typeof w=="function"&&(w=w(t));var x=rb.apply(void 0,w),b=qo;l&&(b=db(Un({trace:!xb},typeof l=="object"&&l)));var y=new pb(x),v=y;Array.isArray(m)?v=fa([x],m):typeof m=="function"&&(v=m(y));var h=b.apply(void 0,v);return Hv(g,f,h)}function Qv(e){var t={},n=[],r,a={addCase:function(o,s){var c=typeof o=="string"?o:o.type;if(!c)throw new Error("`builder.addCase` cannot be called with an empty action type");if(c in t)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return t[c]=s,a},addMatcher:function(o,s){return n.push({matcher:o,reducer:s}),a},addDefaultCase:function(o){return r=o,a}};return e(a),[t,n,r]}function wb(e){return typeof e=="function"}function bb(e,t,n,r){n===void 0&&(n=[]);var a=typeof t=="function"?Qv(t):[t,n,r],o=a[0],s=a[1],c=a[2],l;if(wb(e))l=function(){return Hc(e())};else{var u=Hc(e);l=function(){return u}}function f(d,m){d===void 0&&(d=l());var g=fa([o[m.type]],s.filter(function(w){var x=w.matcher;return x(m)}).map(function(w){var x=w.reducer;return x}));return g.filter(function(w){return!!w}).length===0&&(g=[c]),g.reduce(function(w,x){if(x)if(Qn(w)){var b=w,y=x(b,m);return y===void 0?w:y}else{if(fn(w))return Vv(w,function(v){return x(v,m)});var y=x(w,m);if(y===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}return w},d)}return f.getInitialState=l,f}function jb(e,t){return e+"/"+t}function kr(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var n=typeof e.initialState=="function"?e.initialState:Hc(e.initialState),r=e.reducers||{},a=Object.keys(r),o={},s={},c={};a.forEach(function(f){var d=r[f],m=jb(t,f),g,w;"reducer"in d?(g=d.reducer,w=d.prepare):g=d,o[f]=g,s[m]=g,c[f]=w?Wn(m,w):Wn(m)});function l(){var f=typeof e.extraReducers=="function"?Qv(e.extraReducers):[e.extraReducers],d=f[0],m=d===void 0?{}:d,g=f[1],w=g===void 0?[]:g,x=f[2],b=x===void 0?void 0:x,y=Un(Un({},m),s);return bb(n,function(v){for(var h in y)v.addCase(h,y[h]);for(var j=0,C=w;j<C.length;j++){var E=C[j];v.addMatcher(E.matcher,E.reducer)}b&&v.addDefaultCase(b)})}var u;return{name:t,reducer:function(f,d){return u||(u=l()),u(f,d)},actions:c,caseReducers:o,getInitialState:function(){return u||(u=l()),u.getInitialState()}}}var Cb="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nb=function(e){e===void 0&&(e=21);for(var t="",n=e;n--;)t+=Cb[Math.random()*64|0];return t},Sb=["name","message","stack","code"],El=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),bm=function(){function e(t,n){this.payload=t,this.meta=n}return e}(),Eb=function(e){if(typeof e=="object"&&e!==null){for(var t={},n=0,r=Sb;n<r.length;n++){var a=r[n];typeof e[a]=="string"&&(t[a]=e[a])}return t}return{message:String(e)}},ce=function(){function e(t,n,r){var a=Wn(t+"/fulfilled",function(u,f,d,m){return{payload:u,meta:Sl(Un({},m||{}),{arg:d,requestId:f,requestStatus:"fulfilled"})}}),o=Wn(t+"/pending",function(u,f,d){return{payload:void 0,meta:Sl(Un({},d||{}),{arg:f,requestId:u,requestStatus:"pending"})}}),s=Wn(t+"/rejected",function(u,f,d,m,g){return{payload:m,error:(r&&r.serializeError||Eb)(u||"Rejected"),meta:Sl(Un({},g||{}),{arg:d,requestId:f,rejectedWithValue:!!m,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"})}}),c=typeof AbortController<"u"?AbortController:function(){function u(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return u.prototype.abort=function(){},u}();function l(u){return function(f,d,m){var g=r!=null&&r.idGenerator?r.idGenerator(u):Nb(),w=new c,x;function b(v){x=v,w.abort()}var y=function(){return ub(this,null,function(){var v,h,j,C,E,S,T;return ab(this,function($){switch($.label){case 0:return $.trys.push([0,4,,5]),C=(v=r==null?void 0:r.condition)==null?void 0:v.call(r,u,{getState:d,extra:m}),Pb(C)?[4,C]:[3,2];case 1:C=$.sent(),$.label=2;case 2:if(C===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return E=new Promise(function(L,V){return w.signal.addEventListener("abort",function(){return V({name:"AbortError",message:x||"Aborted"})})}),f(o(g,u,(h=r==null?void 0:r.getPendingMeta)==null?void 0:h.call(r,{requestId:g,arg:u},{getState:d,extra:m}))),[4,Promise.race([E,Promise.resolve(n(u,{dispatch:f,getState:d,extra:m,requestId:g,signal:w.signal,abort:b,rejectWithValue:function(L,V){return new El(L,V)},fulfillWithValue:function(L,V){return new bm(L,V)}})).then(function(L){if(L instanceof El)throw L;return L instanceof bm?a(L.payload,g,u,L.meta):a(L,g,u)})])];case 3:return j=$.sent(),[3,5];case 4:return S=$.sent(),j=S instanceof El?s(null,g,u,S.payload,S.meta):s(S,g,u),[3,5];case 5:return T=r&&!r.dispatchConditionRejection&&s.match(j)&&j.meta.condition,T||f(j),[2,j]}})})}();return Object.assign(y,{abort:b,requestId:g,arg:u,unwrap:function(){return y.then(kb)}})}}return Object.assign(l,{pending:o,rejected:s,fulfilled:a,typePrefix:t})}return e.withTypes=function(){return e},e}();function kb(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}function Pb(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}var md="listenerMiddleware";Wn(md+"/add");Wn(md+"/removeAll");Wn(md+"/remove");var jm;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);q1();const Mb=(e,t)=>t.some(n=>e instanceof n);let Cm,Nm;function Tb(){return Cm||(Cm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Db(){return Nm||(Nm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kv=new WeakMap,qc=new WeakMap,Xv=new WeakMap,kl=new WeakMap,pd=new WeakMap;function Ib(e){const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Bn(e.result)),a()},s=()=>{r(e.error),a()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Kv.set(n,e)}).catch(()=>{}),pd.set(t,e),t}function Ob(e){if(qc.has(e))return;const t=new Promise((n,r)=>{const a=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),a()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});qc.set(e,t)}let Yc={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qc.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Xv.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Rb(e){Yc=e(Yc)}function Ab(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(Pl(this),t,...n);return Xv.set(r,t.sort?t.sort():[t]),Bn(r)}:Db().includes(e)?function(...t){return e.apply(Pl(this),t),Bn(Kv.get(this))}:function(...t){return Bn(e.apply(Pl(this),t))}}function _b(e){return typeof e=="function"?Ab(e):(e instanceof IDBTransaction&&Ob(e),Mb(e,Tb())?new Proxy(e,Yc):e)}function Bn(e){if(e instanceof IDBRequest)return Ib(e);if(kl.has(e))return kl.get(e);const t=_b(e);return t!==e&&(kl.set(e,t),pd.set(t,e)),t}const Pl=e=>pd.get(e);function Lb(e,t,{blocked:n,upgrade:r,blocking:a,terminated:o}={}){const s=indexedDB.open(e,t),c=Bn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Bn(s.result),l.oldVersion,l.newVersion,Bn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),a&&l.addEventListener("versionchange",u=>a(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const Fb=["get","getKey","getAll","getAllKeys","count"],$b=["put","add","delete","clear"],Ml=new Map;function Sm(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Ml.get(t))return Ml.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,a=$b.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||Fb.includes(n)))return;const o=async function(s,...c){const l=this.transaction(s,a?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),a&&l.done]))[0]};return Ml.set(t,o),o}Rb(e=>({...e,get:(t,n,r)=>Sm(t,n)||e.get(t,n,r),has:(t,n)=>!!Sm(t,n)||e.has(t,n)}));let Tl=null;const Y=async()=>(Tl||(Tl=Lb("rekreativ-db",2,{upgrade(e,t,n,r){if(console.log(`Upgrading DB from version ${t} to ${n}`),!e.objectStoreNames.contains("machines")){const a=e.createObjectStore("machines",{keyPath:"id"});a.createIndex("by-serial-number","serialNumber",{unique:!0}),a.createIndex("by-client-id","clientId"),a.createIndex("by-status","status")}if(e.objectStoreNames.contains("clients")||e.createObjectStore("clients",{keyPath:"id"}).createIndex("by-name","name"),!e.objectStoreNames.contains("collections")){const a=e.createObjectStore("collections",{keyPath:"id"});a.createIndex("by-machine-id","machineId"),a.createIndex("by-client-id","clientId"),a.createIndex("by-date","date")}if(!e.objectStoreNames.contains("expenses")){const a=e.createObjectStore("expenses",{keyPath:"id"});a.createIndex("by-machine-id","machineId"),a.createIndex("by-client-id","clientId"),a.createIndex("by-date","date")}e.objectStoreNames.contains("companyProfile")||e.createObjectStore("companyProfile",{keyPath:"id"}),e.objectStoreNames.contains("users")||e.createObjectStore("users",{keyPath:"id"}).createIndex("by-username","username",{unique:!0}),e.objectStoreNames.contains("backups")||e.createObjectStore("backups",{keyPath:"id"}),e.objectStoreNames.contains("counterHistory")||(e.createObjectStore("counterHistory",{keyPath:"timestamp"}).createIndex("by-machine-id","machineId"),console.log("Created counterHistory object store"))}})),Tl),hd=async()=>{try{await Y(),console.log("Database initialized successfully"),await Zv();return}catch(e){throw console.error("Error initializing database:",e),e}},Jv=async()=>{const e=await Y(),t={};t.machines=await e.getAll("machines"),t.clients=await e.getAll("clients"),t.collections=await e.getAll("collections"),t.expenses=await e.getAll("expenses"),t.companyProfile=await e.getAll("companyProfile");const n=await e.getAll("users");return t.users=n.map(r=>{const{password:a,...o}=r;return o}),JSON.stringify(t,null,2)},zb=async e=>{const t=await Y(),n=JSON.parse(e),r=t.objectStoreNames,a=Array.from(r).filter(s=>n[s]&&Array.isArray(n[s]));if(a.length===0){console.warn("No data found in JSON matching current DB schema stores.");return}const o=t.transaction(a,"readwrite");try{for(const s of a){await o.objectStore(s).clear(),console.log(`Cleared store: ${s}`);for(const c of n[s])if(s==="users"){const l=await t.getAll("users"),u=new Map(l.map(d=>[d.username,d.password])),f=c.password||u.get(c.username)||"defaultPassword";await o.objectStore("users").add({...c,password:f})}else await o.objectStore(s).add(c);console.log(`Imported data into store: ${s}`)}await o.done,console.log("Database import completed successfully.")}catch(s){throw console.error("Error during database import:",s),o.error&&o.abort(),s}},Zv=async()=>{const e=await Y(),t=await e.count("machines"),n=await e.count("clients"),r=await e.count("users");if(t===0){const o=[{id:"M001",serialNumber:"PIN001",type:"pinball",model:"Pinball Deluxe",brand:"Stern",cost:5e3,purchaseDate:"2023-01-15",status:"warehouse",currentCounter:0,initialCounter:0,splitPercentage:50,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),history:[{date:new Date().toISOString(),action:"created",details:"Máquina creada como ejemplo"}]},{id:"M002",serialNumber:"ARC001",type:"arcade",model:"Arcade Classic",brand:"Namco",cost:3e3,purchaseDate:"2023-02-20",status:"warehouse",currentCounter:0,initialCounter:0,splitPercentage:50,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),history:[{date:new Date().toISOString(),action:"created",details:"Máquina creada como ejemplo"}]}],s=e.transaction("machines","readwrite");for(const c of o)await s.store.add(c);await s.done}if(n===0){const o=[{id:1,name:"Bar El Rincón",businessType:"Bar",owner:"Juan Pérez",address:"Calle Mayor 15",city:"Madrid",province:"Madrid",postalCode:"28001",phone:"912345678",email:"info@barelrincon.com",machines:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},{id:2,name:"Cafetería Central",businessType:"Cafetería",owner:"María López",address:"Plaza España 3",city:"Barcelona",province:"Barcelona",postalCode:"08001",phone:"932345678",email:"info@cafeteriacentral.com",machines:0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}],s=e.transaction("clients","readwrite");for(const c of o)await s.store.add(c);await s.done}await e.get("companyProfile","default")||await e.add("companyProfile",{id:"default",name:"Mi Empresa",vatPercentage:21,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),r===0&&(await e.add("users",{id:"admin-default",username:"admin",password:"admin",name:"Administrador",role:"admin",createdAt:new Date().toISOString()}),console.log("Usuario administrador por defecto creado"))},Ub=Object.freeze(Object.defineProperty({__proto__:null,exportDBToJSON:Jv,getDB:Y,importDBFromJSON:zb,initDB:hd,initializeExampleData:Zv},Symbol.toStringTag,{value:"Module"}));function eg(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=eg(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tg(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=eg(e))&&(r&&(r+=" "),r+=t);return r}function Wb(){for(var e=0,t,n,r="";e<arguments.length;)(t=arguments[e++])&&(n=ng(t))&&(r&&(r+=" "),r+=n);return r}function ng(e){if(typeof e=="string")return e;for(var t,n="",r=0;r<e.length;r++)e[r]&&(t=ng(e[r]))&&(n&&(n+=" "),n+=t);return n}var vd="-";function Bb(e){var t=Hb(e),n=e.conflictingClassGroups,r=e.conflictingClassGroupModifiers,a=r===void 0?{}:r;function o(c){var l=c.split(vd);return l[0]===""&&l.length!==1&&l.shift(),rg(l,t)||Vb(c)}function s(c,l){var u=n[c]||[];return l&&a[c]?[].concat(u,a[c]):u}return{getClassGroupId:o,getConflictingClassGroupIds:s}}function rg(e,t){var s;if(e.length===0)return t.classGroupId;var n=e[0],r=t.nextPart.get(n),a=r?rg(e.slice(1),r):void 0;if(a)return a;if(t.validators.length!==0){var o=e.join(vd);return(s=t.validators.find(function(c){var l=c.validator;return l(o)}))==null?void 0:s.classGroupId}}var Em=/^\[(.+)\]$/;function Vb(e){if(Em.test(e)){var t=Em.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function Hb(e){var t=e.theme,n=e.prefix,r={nextPart:new Map,validators:[]},a=Yb(Object.entries(e.classGroups),n);return a.forEach(function(o){var s=o[0],c=o[1];Gc(c,r,s,t)}),r}function Gc(e,t,n,r){e.forEach(function(a){if(typeof a=="string"){var o=a===""?t:km(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(qb(a)){Gc(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(function(s){var c=s[0],l=s[1];Gc(l,km(t,c),n,r)})})}function km(e,t){var n=e;return t.split(vd).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function qb(e){return e.isThemeGetter}function Yb(e,t){return t?e.map(function(n){var r=n[0],a=n[1],o=a.map(function(s){return typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(function(c){var l=c[0],u=c[1];return[t+l,u]})):s});return[r,o]}):e}function Gb(e){if(e<1)return{get:function(){},set:function(){}};var t=0,n=new Map,r=new Map;function a(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get:function(s){var c=n.get(s);if(c!==void 0)return c;if((c=r.get(s))!==void 0)return a(s,c),c},set:function(s,c){n.has(s)?n.set(s,c):a(s,c)}}}var ag="!";function Qb(e){var t=e.separator||":",n=t.length===1,r=t[0],a=t.length;return function(s){for(var c=[],l=0,u=0,f,d=0;d<s.length;d++){var m=s[d];if(l===0){if(m===r&&(n||s.slice(d,d+a)===t)){c.push(s.slice(u,d)),u=d+a;continue}if(m==="/"){f=d;continue}}m==="["?l++:m==="]"&&l--}var g=c.length===0?s:s.substring(u),w=g.startsWith(ag),x=w?g.substring(1):g,b=f&&f>u?f-u:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:b}}}function Kb(e){if(e.length<=1)return e;var t=[],n=[];return e.forEach(function(r){var a=r[0]==="[";a?(t.push.apply(t,n.sort().concat([r])),n=[]):n.push(r)}),t.push.apply(t,n.sort()),t}function Xb(e){return{cache:Gb(e.cacheSize),splitModifiers:Qb(e),...Bb(e)}}var Jb=/\s+/;function Zb(e,t){var n=t.splitModifiers,r=t.getClassGroupId,a=t.getConflictingClassGroupIds,o=new Set;return e.trim().split(Jb).map(function(s){var c=n(s),l=c.modifiers,u=c.hasImportantModifier,f=c.baseClassName,d=c.maybePostfixModifierPosition,m=r(d?f.substring(0,d):f),g=!!d;if(!m){if(!d)return{isTailwindClass:!1,originalClassName:s};if(m=r(f),!m)return{isTailwindClass:!1,originalClassName:s};g=!1}var w=Kb(l).join(":"),x=u?w+ag:w;return{isTailwindClass:!0,modifierId:x,classGroupId:m,originalClassName:s,hasPostfixModifier:g}}).reverse().filter(function(s){if(!s.isTailwindClass)return!0;var c=s.modifierId,l=s.classGroupId,u=s.hasPostfixModifier,f=c+l;return o.has(f)?!1:(o.add(f),a(l,u).forEach(function(d){return o.add(c+d)}),!0)}).reverse().map(function(s){return s.originalClassName}).join(" ")}function ej(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a,o,s=c;function c(u){var f=t[0],d=t.slice(1),m=d.reduce(function(g,w){return w(g)},f());return r=Xb(m),a=r.cache.get,o=r.cache.set,s=l,l(u)}function l(u){var f=a(u);if(f)return f;var d=Zb(u,r);return o(u,d),d}return function(){return s(Wb.apply(null,arguments))}}function pe(e){var t=function(r){return r[e]||[]};return t.isThemeGetter=!0,t}var ig=/^\[(?:([a-z-]+):)?(.+)\]$/i,tj=/^\d+\/\d+$/,nj=new Set(["px","full","screen"]),rj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ij=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function It(e){return lr(e)||nj.has(e)||tj.test(e)||Qc(e)}function Qc(e){return Pr(e,"length",dj)}function oj(e){return Pr(e,"size",og)}function sj(e){return Pr(e,"position",og)}function lj(e){return Pr(e,"url",fj)}function Ui(e){return Pr(e,"number",lr)}function lr(e){return!Number.isNaN(Number(e))}function cj(e){return e.endsWith("%")&&lr(e.slice(0,-1))}function Ta(e){return Pm(e)||Pr(e,"number",Pm)}function X(e){return ig.test(e)}function Da(){return!0}function bn(e){return rj.test(e)}function uj(e){return Pr(e,"",mj)}function Pr(e,t,n){var r=ig.exec(e);return r?r[1]?r[1]===t:n(r[2]):!1}function dj(e){return aj.test(e)}function og(){return!1}function fj(e){return e.startsWith("url(")}function Pm(e){return Number.isInteger(Number(e))}function mj(e){return ij.test(e)}function pj(){var e=pe("colors"),t=pe("spacing"),n=pe("blur"),r=pe("brightness"),a=pe("borderColor"),o=pe("borderRadius"),s=pe("borderSpacing"),c=pe("borderWidth"),l=pe("contrast"),u=pe("grayscale"),f=pe("hueRotate"),d=pe("invert"),m=pe("gap"),g=pe("gradientColorStops"),w=pe("gradientColorStopPositions"),x=pe("inset"),b=pe("margin"),y=pe("opacity"),v=pe("padding"),h=pe("saturate"),j=pe("scale"),C=pe("sepia"),E=pe("skew"),S=pe("space"),T=pe("translate"),$=function(){return["auto","contain","none"]},L=function(){return["auto","hidden","clip","visible","scroll"]},V=function(){return["auto",X,t]},B=function(){return[X,t]},ue=function(){return["",It]},W=function(){return["auto",lr,X]},H=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},se=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},R=function(){return["start","end","center","between","around","evenly","stretch"]},U=function(){return["","0",X]},M=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},O=function(){return[lr,Ui]},_=function(){return[lr,X]};return{cacheSize:500,theme:{colors:[Da],spacing:[It],blur:["none","",bn,X],brightness:O(),borderColor:[e],borderRadius:["none","","full",bn,X],borderSpacing:B(),borderWidth:ue(),contrast:O(),grayscale:U(),hueRotate:_(),invert:U(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[cj,Qc],inset:V(),margin:V(),opacity:O(),padding:B(),saturate:O(),scale:O(),sepia:U(),skew:_(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",X]}],container:["container"],columns:[{columns:[bn]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(H(),[X])}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ta]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",X]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Ta]}],"grid-cols":[{"grid-cols":[Da]}],"col-start-end":[{col:["auto",{span:["full",Ta]},X]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Da]}],"row-start-end":[{row:["auto",{span:[Ta]},X]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",X]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",X]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(R())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(R(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(R(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",X,t]}],"min-w":[{"min-w":["min","max","fit",X,It]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[bn]},bn,X]}],h:[{h:[X,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",X,It]}],"max-h":[{"max-h":[X,t,"min","max","fit"]}],"font-size":[{text:["base",bn,Qc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ui]}],"font-family":[{font:[Da]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",X]}],"line-clamp":[{"line-clamp":["none",lr,Ui]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",X,It]}],"list-image":[{"list-image":["none",X]}],"list-style-type":[{list:["none","disc","decimal",X]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",It]}],"underline-offset":[{"underline-offset":["auto",X,It]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",X]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",X]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(H(),[sj])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:G()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[X,It]}],"outline-w":[{outline:[It]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[It]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bn,uj]}],"shadow-color":[{shadow:[Da]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":se()}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",bn,X]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[h]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[h]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",X]}],duration:[{duration:_()}],ease:[{ease:["linear","in","out","in-out",X]}],delay:[{delay:_()}],animate:[{animate:["none","spin","ping","pulse","bounce",X]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Ta,X]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",X]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",X]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",X]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[It,Ui]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var hj=ej(pj);let Wi;const vj=new Uint8Array(16);function gj(){if(!Wi&&(Wi=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Wi))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wi(vj)}const Fe=[];for(let e=0;e<256;++e)Fe.push((e+256).toString(16).slice(1));function xj(e,t=0){return Fe[e[t+0]]+Fe[e[t+1]]+Fe[e[t+2]]+Fe[e[t+3]]+"-"+Fe[e[t+4]]+Fe[e[t+5]]+"-"+Fe[e[t+6]]+Fe[e[t+7]]+"-"+Fe[e[t+8]]+Fe[e[t+9]]+"-"+Fe[e[t+10]]+Fe[e[t+11]]+Fe[e[t+12]]+Fe[e[t+13]]+Fe[e[t+14]]+Fe[e[t+15]]}const yj=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Mm={randomUUID:yj};function wj(e,t,n){if(Mm.randomUUID&&!t&&!e)return Mm.randomUUID();e=e||{};const r=e.random||(e.rng||gj)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let a=0;a<16;++a)t[n+a]=r[a];return t}return xj(r)}function oe(...e){return hj(tg(e))}function mn(){return wj()}function qr(e,t=!1){const n={year:"numeric",month:"long",day:"numeric",...t?{hour:"2-digit",minute:"2-digit"}:{}};return new Date(e).toLocaleDateString("es-ES",n)}function rn(e){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(e)}function Dl(e){return{warehouse:{label:"En Almacén",className:"px-2 py-1 rounded-full bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-300 text-xs font-medium",color:"lime"},installed:{label:"Instalada",className:"px-2 py-1 rounded-full bg-violet-100 text-violet-800 dark:bg-violet-900 dark:text-violet-300 text-xs font-medium",color:"violet"},repair:{label:"En Reparación",className:"px-2 py-1 rounded-full bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-300 text-xs font-medium",color:"amber"}}[e]||{label:"Desconocido",className:"px-2 py-1 rounded-full bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300 text-xs font-medium",color:"gray"}}function bj(e,t){return Math.max(0,t-e)}function Bi(e,t=50){return e*(t/100)}function Tm(e,t){if(!e.length)return;const n=Object.keys(e[0]),r=[n.join(","),...e.map(c=>n.map(l=>{var f;const u=((f=c[l])==null?void 0:f.toString())||"";return u.includes(",")||u.includes('"')||u.includes(`
`)?`"${u.replace(/"/g,'""')}"`:u}).join(","))].join(`
`),a=new Blob([r],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(a),s=document.createElement("a");s.setAttribute("href",o),s.setAttribute("download",`${t}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)}function jj(e,t,n){let r;typeof e=="string"?r=new Blob([e],{type:n||"text/plain;charset=utf-8;"}):r=e;const a=URL.createObjectURL(r),o=document.createElement("a");o.setAttribute("href",a),o.setAttribute("download",t),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}async function Cj(e,t){try{const n=await Y(),r=await n.getAll("users");console.log("All users in database:",r);const o=await n.transaction("users").store.index("by-username").get(e);if(console.log("Found user:",o),console.log("Input credentials:",{username:e,password:"******"}),o&&o.password===t){const{password:s,...c}=o;return localStorage.setItem("currentUser",JSON.stringify(c)),o}return null}catch(n){throw console.error("Login error:",n),n}}async function Nj(e){try{const t=await Y();if(await t.transaction("users").store.index("by-username").get(e.username))throw new Error("Username already exists");const a={...e,id:mn(),createdAt:new Date().toISOString()};await t.add("users",a),console.log("User registered successfully:",{...a,password:"******"});const{password:o,...s}=a;return localStorage.setItem("currentUser",JSON.stringify(s)),a}catch(t){throw console.error("Registration error:",t),t}}async function Sj(e=!1){try{const t=await Y();if((await t.getAll("users")).length===0||e){const r={id:mn(),username:"admin",password:"admin",name:"Administrador",role:"admin",createdAt:new Date().toISOString()};if(e){const o=await t.transaction("users").store.index("by-username").get("admin");if(o){const s=t.transaction("users","readwrite");await s.store.delete(o.id),await s.done}}await t.add("users",r),console.log("Default admin user created")}}catch(t){throw console.error("Error creating default admin:",t),t}}async function Ej(){try{const e=await Y();if((await e.getAll("users")).length===0){const n={id:mn(),username:"admin",password:"admin",name:"Administrador",role:"admin",createdAt:new Date().toISOString()};await e.add("users",n),console.log("Default admin user created")}}catch(e){console.error("Error creating default admin:",e)}}async function kj(e,t){try{const a=await(await Y()).transaction("users").store.index("by-username").get(e);return a&&a.password===t?a:null}catch(n){throw console.error("Validation error:",n),n}}async function Pj(){try{const t=(await Y()).transaction("users","readwrite");await t.store.clear(),await t.done,console.log("All users deleted")}catch(e){throw console.error("Error deleting users:",e),e}}function Mj(){const e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}function Tj(){localStorage.removeItem("currentUser")}const Dj={user:Mj(),status:"idle",error:null},lo=ce("auth/login",async({username:e,password:t},{rejectWithValue:n})=>{try{const r=await Cj(e,t);if(!r)return n("Invalid username or password. Check console for details.");const{password:a,...o}=r;return o}catch(r){return n(`Login failed: ${r.message}`)}}),co=ce("auth/register",async(e,{rejectWithValue:t})=>{try{const n=await Nj(e),{password:r,...a}=n;return a}catch(n){return t(`Registration failed: ${n.message}`)}}),sg=kr({name:"auth",initialState:Dj,reducers:{logout:e=>{Tj(),e.user=null,e.status="idle",e.error=null}},extraReducers:e=>{e.addCase(lo.pending,t=>{t.status="loading",t.error=null}).addCase(lo.fulfilled,(t,n)=>{t.status="succeeded",t.user=n.payload}).addCase(lo.rejected,(t,n)=>{t.status="failed",t.error=n.payload||"Login failed"}).addCase(co.pending,t=>{t.status="loading",t.error=null}).addCase(co.fulfilled,(t,n)=>{t.status="succeeded",t.user=n.payload}).addCase(co.rejected,(t,n)=>{t.status="failed",t.error=n.payload||"Registration failed"})}}),{logout:Ij}=sg.actions,Oj=sg.reducer,Rj={clients:[],status:"idle",error:null},dr=ce("clients/fetchClients",async()=>await(await Y()).getAll("clients")),lg=ce("clients/addClient",async e=>{const t=await Y(),n=new Date().toISOString(),r={...e,id:Date.now(),createdAt:n,updatedAt:n,machines:0};return await t.add("clients",r),r}),cg=ce("clients/updateClient",async e=>{const t=await Y(),n=await t.get("clients",e.id);if(!n)throw new Error("Cliente no encontrado");const r={...n,...e,updatedAt:new Date().toISOString()};return await t.put("clients",r),r}),ug=ce("clients/deleteClient",async e=>(await(await Y()).delete("clients",e),e)),Aj=kr({name:"clients",initialState:Rj,reducers:{},extraReducers:e=>{e.addCase(dr.pending,t=>{t.status="loading",t.error=null}).addCase(dr.fulfilled,(t,n)=>{t.status="succeeded",t.clients=n.payload}).addCase(dr.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Error al cargar los clientes"}).addCase(lg.fulfilled,(t,n)=>{t.clients.push(n.payload)}).addCase(cg.fulfilled,(t,n)=>{const r=t.clients.findIndex(a=>a.id===n.payload.id);r!==-1&&(t.clients[r]=n.payload)}).addCase(ug.fulfilled,(t,n)=>{t.clients=t.clients.filter(r=>r.id!==n.payload)})}}),_j=Aj.reducer,Lj={machines:[],status:"idle",error:null},Vn=ce("machines/fetchMachines",async()=>await(await Y()).getAll("machines")),uo=ce("machines/addMachine",async e=>{const t=await Y(),n=new Date().toISOString(),r={...e,id:mn(),createdAt:n,updatedAt:n,history:[{date:n,action:"created",details:"Máquina creada"}],currentCounter:e.initialCounter};return await t.add("machines",r),r}),Fj=ce("machines/updateMachine",async e=>{const t=await Y(),n=await t.get("machines",e.id);if(!n)throw new Error("Máquina no encontrada");const r=new Date().toISOString(),a={...n,...e,updatedAt:r,history:[...n.history,{date:r,action:"updated",details:"Máquina actualizada"}]};return await t.put("machines",a),a}),dg=ce("machines/deleteMachine",async e=>(await(await Y()).delete("machines",e),e)),fg=ce("machines/installMachine",async({machineId:e,clientId:t,installationData:n})=>{const r=await Y(),a=await r.get("machines",e),o=await r.get("clients",t);if(!a)throw new Error("Máquina no encontrada");if(!o)throw new Error("Cliente no encontrado");const s={...a,status:"installed",clientId:t.toString(),installationData:n,history:[...a.history,{date:new Date().toISOString(),action:"installed",details:`Instalada en ${o.name} por ${n.technician}. Responsable: ${n.responsibleName} (${n.responsibleId})`}]},c={...o,machines:o.machines+1},l=r.transaction(["machines","clients"],"readwrite");return await l.objectStore("machines").put(s),await l.objectStore("clients").put(c),await l.done,s}),mg=ce("machines/transferMachine",async({machineId:e,fromClientId:t,toClientId:n,transferData:r})=>{const a=await Y(),o=await a.get("machines",e),s=await a.get("clients",t),c=await a.get("clients",n);if(!o)throw new Error("Máquina no encontrada");if(!s)throw new Error("Cliente origen no encontrado");if(!c)throw new Error("Cliente destino no encontrado");const l=new Date().toISOString(),u={...o,clientId:n.toString(),currentCounter:r.currentCounter,updatedAt:l,history:[...o.history,{date:l,action:"transferred",details:`Trasladada desde ${s.name} a ${c.name} por ${r.technician}. Responsable: ${r.responsibleName} (${r.responsibleId}). Observaciones: ${r.observations}`}],installationData:{...o.installationData,responsibleName:r.responsibleName,responsibleId:r.responsibleId,acceptanceDate:l,installationDate:r.transferDate,installationCounter:r.currentCounter,observations:r.observations,technician:r.technician}},f={...s,machines:Math.max(0,s.machines-1)},d={...c,machines:c.machines+1},m=a.transaction(["machines","clients"],"readwrite");return await m.objectStore("machines").put(u),await m.objectStore("clients").put(f),await m.objectStore("clients").put(d),await m.done,{machine:u,fromClient:f,toClient:d}}),$j=kr({name:"machines",initialState:Lj,reducers:{},extraReducers:e=>{e.addCase(Vn.pending,t=>{t.status="loading",t.error=null}).addCase(Vn.fulfilled,(t,n)=>{t.status="succeeded",t.machines=n.payload}).addCase(Vn.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Error al cargar las máquinas"}).addCase(uo.pending,t=>{t.status="loading"}).addCase(uo.fulfilled,(t,n)=>{t.status="succeeded",t.machines.push(n.payload)}).addCase(uo.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Error al agregar la máquina"}).addCase(Fj.fulfilled,(t,n)=>{const r=t.machines.findIndex(a=>a.id===n.payload.id);r!==-1&&(t.machines[r]=n.payload)}).addCase(dg.fulfilled,(t,n)=>{t.machines=t.machines.filter(r=>r.id!==n.payload)}).addCase(fg.fulfilled,(t,n)=>{const r=t.machines.findIndex(a=>a.id===n.payload.id);r!==-1&&(t.machines[r]=n.payload)}).addCase(mg.fulfilled,(t,n)=>{const r=t.machines.findIndex(a=>a.id===n.payload.machine.id);r!==-1&&(t.machines[r]=n.payload.machine)})}}),zj=$j.reducer,Uj={expenses:[],status:"idle",error:null},Il=ce("expenses/fetchExpenses",async()=>(await Y()).getAll("expenses")),Wj=ce("expenses/addExpense",async e=>{const t=await Y(),n={...e,id:mn(),createdAt:new Date().toISOString()};if(await t.add("expenses",n),e.machineId){const r=await t.get("machines",e.machineId);if(r){const a={...r,history:[...r.history,{date:n.createdAt,action:"expense",details:`Expense of ${e.amount} recorded: ${e.description}`}],updatedAt:n.createdAt};await t.put("machines",a)}}return n}),Bj=ce("expenses/updateExpense",async({id:e,...t})=>{const n=await Y(),r=await n.get("expenses",e);if(!r)throw new Error("Expense not found");const a={...r,...t};return await n.put("expenses",a),a}),Vj=ce("expenses/deleteExpense",async e=>(await(await Y()).delete("expenses",e),e)),Hj=kr({name:"expenses",initialState:Uj,reducers:{},extraReducers:e=>{e.addCase(Il.pending,t=>{t.status="loading"}).addCase(Il.fulfilled,(t,n)=>{t.status="succeeded",t.expenses=n.payload}).addCase(Il.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Failed to fetch expenses"}).addCase(Wj.fulfilled,(t,n)=>{t.expenses.push(n.payload)}).addCase(Bj.fulfilled,(t,n)=>{const r=t.expenses.findIndex(a=>a.id===n.payload.id);r!==-1&&(t.expenses[r]=n.payload)}).addCase(Vj.fulfilled,(t,n)=>{t.expenses=t.expenses.filter(r=>r.id!==n.payload)})}}),qj=Hj.reducer,Dm={collections:[],filteredCollections:[],selectedCollection:null,status:"idle",error:null,filters:{startDate:null,endDate:null,clientId:null,machineId:null,minAmount:null,maxAmount:null,staffMember:null}},fo=ce("collections/fetchCollections",async()=>(await Y()).getAll("collections")),pg=ce("collections/fetchCollectionsByMachine",async e=>(await Y()).transaction("collections").store.index("by-machine-id").getAll(e)),hg=ce("collections/fetchCollectionsByClient",async e=>(await Y()).transaction("collections").store.index("by-client-id").getAll(e)),Yj=ce("collections/fetchCollectionsByDateRange",async({startDate:e,endDate:t})=>(await(await Y()).getAll("collections")).filter(a=>{const o=new Date(a.date),s=e?new Date(e):null,c=t?new Date(t):null;return s&&c?o>=s&&o<=c:s?o>=s:c?o<=c:!0})),vg=ce("collections/addCollection",async e=>{const t=await Y(),n=new Date().toISOString(),r=await t.get("machines",e.machineId);if(!r)throw new Error("Machine not found");const a={...e,id:mn(),createdAt:n},o={...r,currentCounter:e.currentCounter,updatedAt:n,history:[...r.history||[],{date:n,action:"collection",details:`Collection of ${e.amount} recorded`}]},s=t.transaction(["collections","machines"],"readwrite");return await s.objectStore("collections").add(a),await s.objectStore("machines").put(o),await s.done,a}),Gj=ce("collections/updateCollection",async({id:e,...t})=>{const n=await Y(),r=await n.get("collections",e);if(!r)throw new Error("Collection not found");const a={...r,...t};return await n.put("collections",a),a}),Qj=ce("collections/deleteCollection",async e=>(await(await Y()).delete("collections",e),e)),gg=kr({name:"collections",initialState:Dm,reducers:{setFilters:(e,t)=>{e.filters={...e.filters,...t.payload},e.filteredCollections=e.collections.filter(n=>{const{startDate:r,endDate:a,clientId:o,machineId:s,minAmount:c,maxAmount:l,staffMember:u}=e.filters;if(r||a){const f=new Date(n.date);if(r&&new Date(r)>f||a&&new Date(a)<f)return!1}return!(o!==null&&n.clientId!==o||s!==null&&n.machineId!==s||c!==null&&n.amount<c||l!==null&&n.amount>l||u!==null&&u!==""&&!n.staffMember.toLowerCase().includes(u.toLowerCase()))})},clearFilters:e=>{e.filters=Dm.filters,e.filteredCollections=e.collections},selectCollection:(e,t)=>{e.selectedCollection=e.collections.find(n=>n.id===t.payload)||null},clearSelectedCollection:e=>{e.selectedCollection=null}},extraReducers:e=>{e.addCase(fo.pending,t=>{t.status="loading"}).addCase(fo.fulfilled,(t,n)=>{t.status="succeeded",t.collections=n.payload,t.filteredCollections=n.payload}).addCase(fo.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Failed to fetch collections"}).addCase(pg.fulfilled,(t,n)=>{t.filteredCollections=n.payload}).addCase(hg.fulfilled,(t,n)=>{t.filteredCollections=n.payload}).addCase(Yj.fulfilled,(t,n)=>{t.filteredCollections=n.payload}).addCase(vg.fulfilled,(t,n)=>{t.collections.push(n.payload),t.filteredCollections=t.collections}).addCase(Gj.fulfilled,(t,n)=>{var a;const r=t.collections.findIndex(o=>o.id===n.payload.id);r!==-1&&(t.collections[r]=n.payload),t.filteredCollections=t.collections,((a=t.selectedCollection)==null?void 0:a.id)===n.payload.id&&(t.selectedCollection=n.payload)}).addCase(Qj.fulfilled,(t,n)=>{var r;t.collections=t.collections.filter(a=>a.id!==n.payload),t.filteredCollections=t.filteredCollections.filter(a=>a.id!==n.payload),((r=t.selectedCollection)==null?void 0:r.id)===n.payload&&(t.selectedCollection=null)})}}),{setFilters:Kj,clearFilters:Xj,selectCollection:KP,clearSelectedCollection:XP}=gg.actions,Jj=gg.reducer,Zj={profile:null,status:"idle",error:null},mo=ce("companyProfile/fetchCompanyProfile",async()=>await(await Y()).get("companyProfile","main")||null),xg=ce("companyProfile/saveCompanyProfile",async e=>{const t=await Y(),n=new Date().toISOString(),r=await t.get("companyProfile","main");if(r){const a={...r,...e,updatedAt:n};return await t.put("companyProfile",a),a}else{const a={...e,id:"main",createdAt:n,updatedAt:n};return await t.add("companyProfile",a),a}}),eC=kr({name:"companyProfile",initialState:Zj,reducers:{},extraReducers:e=>{e.addCase(mo.pending,t=>{t.status="loading"}).addCase(mo.fulfilled,(t,n)=>{t.status="succeeded",t.profile=n.payload}).addCase(mo.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Failed to fetch company profile"}).addCase(xg.fulfilled,(t,n)=>{t.profile=n.payload,t.status="succeeded"})}}),tC=eC.reducer,nC="modulepreload",rC=function(e){return"/"+e},Im={},aC=function(t,n,r){if(!n||n.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(n.map(o=>{if(o=rC(o),o in Im)return;Im[o]=!0;const s=o.endsWith(".css"),c=s?'[rel="stylesheet"]':"";if(!!r)for(let f=a.length-1;f>=0;f--){const d=a[f];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${c}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":nC,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})},iC=async e=>{try{const t=await Y(),n=await t.get("machines",e.machineId);if(!n)return console.error(`Machine with ID ${e.machineId} not found`),null;const r={machineId:e.machineId,timestamp:e.timestamp||new Date().toISOString(),previousCounter:n.currentCounter,newCounter:e.newCounter,difference:e.newCounter-n.currentCounter,source:e.source,notes:e.notes,userId:e.userId||"system"},a={...n,currentCounter:e.newCounter,updatedAt:new Date().toISOString()},o=t.transaction(["machines","counterHistory"],"readwrite");return await o.objectStore("machines").put(a),await o.objectStore("counterHistory").add(r),await o.done,console.log(`Counter updated for machine ${e.machineId}: ${n.currentCounter} -> ${e.newCounter}`),r}catch(t){return console.error("Error updating machine counter:",t),null}},oC=async e=>{try{const n=await(await Y()).get("machines",e);return n?n.currentCounter:null}catch(t){return console.error("Error getting latest counter:",t),null}},sC={counters:[],status:"idle",error:null},fr=ce("counters/fetchAllCounters",async()=>(await Y()).getAll("counterHistory")),Ol=ce("counters/fetchCountersByMachine",async e=>(await Y()).transaction("counterHistory").store.index("by-machine-id").getAll(e)),mr=ce("counters/updateMachineCounter",async e=>{const t=await iC(e);if(!t)throw new Error(`Failed to update counter for machine ${e.machineId}`);return t}),lC=kr({name:"counter",initialState:sC,reducers:{},extraReducers:e=>{e.addCase(fr.pending,t=>{t.status="loading"}).addCase(fr.fulfilled,(t,n)=>{t.status="succeeded",t.counters=n.payload}).addCase(fr.rejected,(t,n)=>{t.status="failed",t.error=n.error.message||"Failed to fetch counters"}).addCase(Ol.fulfilled,(t,n)=>{const r=new Set(t.counters.map(o=>o.timestamp)),a=n.payload.filter(o=>!r.has(o.timestamp));t.counters=[...t.counters,...a].sort((o,s)=>new Date(s.timestamp).getTime()-new Date(o.timestamp).getTime())}).addCase(Ol.pending,t=>{}).addCase(Ol.rejected,(t,n)=>{}).addCase(mr.fulfilled,(t,n)=>{n.payload&&(t.counters.push(n.payload),t.counters.sort((r,a)=>new Date(a.timestamp).getTime()-new Date(r.timestamp).getTime()))}).addCase(mr.pending,t=>{}).addCase(mr.rejected,(t,n)=>{console.error("Update machine counter failed:",n.error)})}}),cC=lC.reducer,uC=yb({reducer:{auth:Oj,clients:_j,machines:zj,expenses:qj,collections:Jj,companyProfile:tC,counter:cC},middleware:e=>e({serializableCheck:!1})});/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mi(){return mi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mi.apply(this,arguments)}var In;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(In||(In={}));const Om="popstate";function dC(e){e===void 0&&(e={});function t(r,a){let{pathname:o,search:s,hash:c}=r.location;return Kc("",{pathname:o,search:s,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Yo(a)}return mC(t,n,null,e)}function Pe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fC(){return Math.random().toString(36).substr(2,8)}function Rm(e,t){return{usr:e.state,key:e.key,idx:t}}function Kc(e,t,n,r){return n===void 0&&(n=null),mi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xa(t):t,{state:n,key:t&&t.key||r||fC()})}function Yo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xa(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function mC(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:o=!1}=r,s=a.history,c=In.Pop,l=null,u=f();u==null&&(u=0,s.replaceState(mi({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function d(){c=In.Pop;let b=f(),y=b==null?null:b-u;u=b,l&&l({action:c,location:x.location,delta:y})}function m(b,y){c=In.Push;let v=Kc(x.location,b,y);n&&n(v,b),u=f()+1;let h=Rm(v,u),j=x.createHref(v);try{s.pushState(h,"",j)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(j)}o&&l&&l({action:c,location:x.location,delta:1})}function g(b,y){c=In.Replace;let v=Kc(x.location,b,y);n&&n(v,b),u=f();let h=Rm(v,u),j=x.createHref(v);s.replaceState(h,"",j),o&&l&&l({action:c,location:x.location,delta:0})}function w(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof b=="string"?b:Yo(b);return v=v.replace(/ $/,"%20"),Pe(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let x={get action(){return c},get location(){return e(a,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(Om,d),l=b,()=>{a.removeEventListener(Om,d),l=null}},createHref(b){return t(a,b)},createURL:w,encodeLocation(b){let y=w(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(b){return s.go(b)}};return x}var Am;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Am||(Am={}));function pC(e,t,n){return n===void 0&&(n="/"),hC(e,t,n,!1)}function hC(e,t,n,r){let a=typeof t=="string"?xa(t):t,o=gd(a.pathname||"/",n);if(o==null)return null;let s=wg(e);vC(s);let c=null;for(let l=0;c==null&&l<s.length;++l){let u=kC(o);c=SC(s[l],u,r)}return c}function wg(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(o,s,c)=>{let l={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Hn([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(Pe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wg(o.children,t,f,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:CC(u,o.index),routesMeta:f})};return e.forEach((o,s)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))a(o,s);else for(let l of bg(o.path))a(o,s,l)}),t}function bg(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return a?[o,""]:[o];let s=bg(r.join("/")),c=[];return c.push(...s.map(l=>l===""?o:[o,l].join("/"))),a&&c.push(...s),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function vC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:NC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gC=/^:[\w-]+$/,xC=3,yC=2,wC=1,bC=10,jC=-2,_m=e=>e==="*";function CC(e,t){let n=e.split("/"),r=n.length;return n.some(_m)&&(r+=jC),t&&(r+=yC),n.filter(a=>!_m(a)).reduce((a,o)=>a+(gC.test(o)?xC:o===""?wC:bC),r)}function NC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function SC(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,a={},o="/",s=[];for(let c=0;c<r.length;++c){let l=r[c],u=c===r.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=Lm({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},f),m=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Lm({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(a,d.params),s.push({params:a,pathname:Hn([o,d.pathname]),pathnameBase:DC(Hn([o,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(o=Hn([o,d.pathnameBase]))}return s}function Lm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=EC(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:m,isOptional:g}=f;if(m==="*"){let x=c[d]||"";s=o.slice(0,o.length-x.length).replace(/(.)\/+$/,"$1")}const w=c[d];return g&&!w?u[m]=void 0:u[m]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function EC(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),yg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,l)=>(r.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function kC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function PC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?xa(e):e;return{pathname:n?n.startsWith("/")?n:MC(n,t):t,search:IC(r),hash:OC(a)}}function MC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xd(e,t){let n=TC(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yd(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=xa(e):(a=mi({},e),Pe(!a.pathname||!a.pathname.includes("?"),Rl("?","pathname","search",a)),Pe(!a.pathname||!a.pathname.includes("#"),Rl("#","pathname","hash",a)),Pe(!a.search||!a.search.includes("#"),Rl("#","search","hash",a)));let o=e===""||a.pathname==="",s=o?"/":a.pathname,c;if(s==null)c=n;else{let d=t.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),d-=1;a.pathname=m.join("/")}c=d>=0?t[d]:"/"}let l=PC(a,c),u=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const Hn=e=>e.join("/").replace(/\/\/+/g,"/"),DC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),IC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,OC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jg=["post","put","patch","delete"];new Set(jg);const AC=["get",...jg];new Set(AC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pi(){return pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pi.apply(this,arguments)}const wd=p.createContext(null),_C=p.createContext(null),Zn=p.createContext(null),Ls=p.createContext(null),vn=p.createContext({outlet:null,matches:[],isDataRoute:!1}),Cg=p.createContext(null);function LC(e,t){let{relative:n}=t===void 0?{}:t;ya()||Pe(!1);let{basename:r,navigator:a}=p.useContext(Zn),{hash:o,pathname:s,search:c}=Sg(e,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Hn([r,s])),a.createHref({pathname:l,search:c,hash:o})}function ya(){return p.useContext(Ls)!=null}function wa(){return ya()||Pe(!1),p.useContext(Ls).location}function Ng(e){p.useContext(Zn).static||p.useLayoutEffect(e)}function Fs(){let{isDataRoute:e}=p.useContext(vn);return e?JC():FC()}function FC(){ya()||Pe(!1);let e=p.useContext(wd),{basename:t,future:n,navigator:r}=p.useContext(Zn),{matches:a}=p.useContext(vn),{pathname:o}=wa(),s=JSON.stringify(xd(a,n.v7_relativeSplatPath)),c=p.useRef(!1);return Ng(()=>{c.current=!0}),p.useCallback(function(u,f){if(f===void 0&&(f={}),!c.current)return;if(typeof u=="number"){r.go(u);return}let d=yd(u,JSON.parse(s),o,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Hn([t,d.pathname])),(f.replace?r.replace:r.push)(d,f.state,f)},[t,r,s,o,e])}const $C=p.createContext(null);function zC(e){let t=p.useContext(vn).outlet;return t&&p.createElement($C.Provider,{value:e},t)}function Sg(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=p.useContext(Zn),{matches:a}=p.useContext(vn),{pathname:o}=wa(),s=JSON.stringify(xd(a,r.v7_relativeSplatPath));return p.useMemo(()=>yd(e,JSON.parse(s),o,n==="path"),[e,s,o,n])}function UC(e,t){return WC(e,t)}function WC(e,t,n,r){ya()||Pe(!1);let{navigator:a,static:o}=p.useContext(Zn),{matches:s}=p.useContext(vn),c=s[s.length-1],l=c?c.params:{};c&&c.pathname;let u=c?c.pathnameBase:"/";c&&c.route;let f=wa(),d;if(t){var m;let y=typeof t=="string"?xa(t):t;u==="/"||(m=y.pathname)!=null&&m.startsWith(u)||Pe(!1),d=y}else d=f;let g=d.pathname||"/",w=g;if(u!=="/"){let y=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(y.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:pC(e,{pathname:w}),b=YC(x&&x.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Hn([u,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?u:Hn([u,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,n,r);return t&&b?p.createElement(Ls.Provider,{value:{location:pi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:In.Pop}},b):b}function BC(){let e=XC(),t=RC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),n?p.createElement("pre",{style:a},n):null,o)}const VC=p.createElement(BC,null);class HC extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?p.createElement(vn.Provider,{value:this.props.routeContext},p.createElement(Cg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qC(e){let{routeContext:t,match:n,children:r}=e,a=p.useContext(wd);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(vn.Provider,{value:t},r)}function YC(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,c=(a=n)==null?void 0:a.errors;if(c!=null){let f=s.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);f>=0||Pe(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let d=s[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:m,errors:g}=n,w=d.route.loader&&m[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||w){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,d,m)=>{let g,w=!1,x=null,b=null;n&&(g=c&&d.route.id?c[d.route.id]:void 0,x=d.route.errorElement||VC,l&&(u<0&&m===0?(ZC("route-fallback",!1),w=!0,b=null):u===m&&(w=!0,b=d.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,m+1)),v=()=>{let h;return g?h=x:w?h=b:d.route.Component?h=p.createElement(d.route.Component,null):d.route.element?h=d.route.element:h=f,p.createElement(qC,{match:d,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:h})};return n&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?p.createElement(HC,{location:n.location,revalidation:n.revalidation,component:x,error:g,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Eg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Eg||{}),Go=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Go||{});function GC(e){let t=p.useContext(wd);return t||Pe(!1),t}function QC(e){let t=p.useContext(_C);return t||Pe(!1),t}function KC(e){let t=p.useContext(vn);return t||Pe(!1),t}function kg(e){let t=KC(),n=t.matches[t.matches.length-1];return n.route.id||Pe(!1),n.route.id}function XC(){var e;let t=p.useContext(Cg),n=QC(Go.UseRouteError),r=kg(Go.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function JC(){let{router:e}=GC(Eg.UseNavigateStable),t=kg(Go.UseNavigateStable),n=p.useRef(!1);return Ng(()=>{n.current=!0}),p.useCallback(function(a,o){o===void 0&&(o={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,pi({fromRouteId:t},o)))},[e,t])}const Fm={};function ZC(e,t,n){!t&&!Fm[e]&&(Fm[e]=!0)}function e2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function $m(e){let{to:t,replace:n,state:r,relative:a}=e;ya()||Pe(!1);let{future:o,static:s}=p.useContext(Zn),{matches:c}=p.useContext(vn),{pathname:l}=wa(),u=Fs(),f=yd(t,xd(c,o.v7_relativeSplatPath),l,a==="path"),d=JSON.stringify(f);return p.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:a}),[u,d,a,n,r]),null}function t2(e){return zC(e.context)}function Je(e){Pe(!1)}function n2(e){let{basename:t="/",children:n=null,location:r,navigationType:a=In.Pop,navigator:o,static:s=!1,future:c}=e;ya()&&Pe(!1);let l=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:l,navigator:o,static:s,future:pi({v7_relativeSplatPath:!1},c)}),[l,c,o,s]);typeof r=="string"&&(r=xa(r));let{pathname:f="/",search:d="",hash:m="",state:g=null,key:w="default"}=r,x=p.useMemo(()=>{let b=gd(f,l);return b==null?null:{location:{pathname:b,search:d,hash:m,state:g,key:w},navigationType:a}},[l,f,d,m,g,w,a]);return x==null?null:p.createElement(Zn.Provider,{value:u},p.createElement(Ls.Provider,{children:n,value:x}))}function r2(e){let{children:t,location:n}=e;return UC(Xc(t),n)}new Promise(()=>{});function Xc(e,t){t===void 0&&(t=[]);let n=[];return p.Children.forEach(e,(r,a)=>{if(!p.isValidElement(r))return;let o=[...t,a];if(r.type===p.Fragment){n.push.apply(n,Xc(r.props.children,o));return}r.type!==Je&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Xc(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jc.apply(this,arguments)}function a2(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function i2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function o2(e,t){return e.button===0&&(!t||t==="_self")&&!i2(e)}const s2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l2="6";try{window.__reactRouterVersion=l2}catch{}const c2="startTransition",zm=Np[c2];function u2(e){let{basename:t,children:n,future:r,window:a}=e,o=p.useRef();o.current==null&&(o.current=dC({window:a,v5Compat:!0}));let s=o.current,[c,l]=p.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},f=p.useCallback(d=>{u&&zm?zm(()=>l(d)):l(d)},[l,u]);return p.useLayoutEffect(()=>s.listen(f),[s,f]),p.useEffect(()=>e2(r),[r]),p.createElement(n2,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:s,future:r})}const d2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",f2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bd=p.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:o,replace:s,state:c,target:l,to:u,preventScrollReset:f,viewTransition:d}=t,m=a2(t,s2),{basename:g}=p.useContext(Zn),w,x=!1;if(typeof u=="string"&&f2.test(u)&&(w=u,d2))try{let h=new URL(window.location.href),j=u.startsWith("//")?new URL(h.protocol+u):new URL(u),C=gd(j.pathname,g);j.origin===h.origin&&C!=null?u=C+j.search+j.hash:x=!0}catch{}let b=LC(u,{relative:a}),y=m2(u,{replace:s,state:c,target:l,preventScrollReset:f,relative:a,viewTransition:d});function v(h){r&&r(h),h.defaultPrevented||y(h)}return p.createElement("a",Jc({},m,{href:w||b,onClick:x||o?r:v,ref:n,target:l}))});var Um;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Um||(Um={}));var Wm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wm||(Wm={}));function m2(e,t){let{target:n,replace:r,state:a,preventScrollReset:o,relative:s,viewTransition:c}=t===void 0?{}:t,l=Fs(),u=wa(),f=Sg(e,{relative:s});return p.useCallback(d=>{if(o2(d,n)){d.preventDefault();let m=r!==void 0?r:Yo(u)===Yo(f);l(e,{replace:m,state:a,preventScrollReset:o,relative:s,viewTransition:c})}},[u,l,f,r,a,n,e,o,s,c])}const ee=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ee.displayName="Card";const ve=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("flex flex-col space-y-1.5 p-6",e),...t}));ve.displayName="CardHeader";const ge=p.forwardRef(({className:e,...t},n)=>i.jsx("h3",{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));ge.displayName="CardTitle";const br=p.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));br.displayName="CardDescription";const te=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("p-6 pt-0",e),...t}));te.displayName="CardContent";const jd=p.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:oe("flex items-center p-6 pt-0",e),...t}));jd.displayName="CardFooter";function Bm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Pg(...e){return t=>{let n=!1;const r=e.map(a=>{const o=Bm(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():Bm(e[a],null)}}}}function yt(...e){return p.useCallback(Pg(...e),e)}var ma=p.forwardRef((e,t)=>{const{children:n,...r}=e,a=p.Children.toArray(n),o=a.find(p2);if(o){const s=o.props.children,c=a.map(l=>l===o?p.Children.count(s)>1?p.Children.only(null):p.isValidElement(s)?s.props.children:null:l);return i.jsx(Zc,{...r,ref:t,children:p.isValidElement(s)?p.cloneElement(s,void 0,c):null})}return i.jsx(Zc,{...r,ref:t,children:n})});ma.displayName="Slot";var Zc=p.forwardRef((e,t)=>{const{children:n,...r}=e;if(p.isValidElement(n)){const a=v2(n),o=h2(r,n.props);return n.type!==p.Fragment&&(o.ref=t?Pg(t,a):a),p.cloneElement(n,o)}return p.Children.count(n)>1?p.Children.only(null):null});Zc.displayName="SlotClone";var Mg=({children:e})=>i.jsx(i.Fragment,{children:e});function p2(e){return p.isValidElement(e)&&e.type===Mg}function h2(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...c)=>{o(...c),a(...c)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function v2(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var g2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ye=g2.reduce((e,t)=>{const n=p.forwardRef((r,a)=>{const{asChild:o,...s}=r,c=o?ma:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...s,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Tg(e,t){e&&bi.flushSync(()=>e.dispatchEvent(t))}var x2="Label",Dg=p.forwardRef((e,t)=>i.jsx(Ye.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Dg.displayName=x2;var Ig=Dg;const Vm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Hm=tg,Cd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Hm(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,s=Object.keys(a).map(u=>{const f=n==null?void 0:n[u],d=o==null?void 0:o[u];if(f===null)return null;const m=Vm(f)||Vm(d);return a[u][m]}),c=n&&Object.entries(n).reduce((u,f)=>{let[d,m]=f;return m===void 0||(u[d]=m),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:m,...g}=f;return Object.entries(g).every(w=>{let[x,b]=w;return Array.isArray(b)?b.includes({...o,...c}[x]):{...o,...c}[x]===b})?[...u,d,m]:u},[]);return Hm(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},y2=Cd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),P=p.forwardRef(({className:e,...t},n)=>i.jsx(Ig,{ref:n,className:oe(y2(),e),...t}));P.displayName=Ig.displayName;const F=p.forwardRef(({className:e,type:t,...n},r)=>i.jsx("input",{type:t,className:oe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));F.displayName="Input";const w2=Cd("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90",violet:"bg-violet text-violet-foreground hover:bg-violet/90",lime:"bg-lime-500 text-lime-foreground hover:bg-lime-500/90"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=p.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},o)=>{const s=r?ma:"button";return i.jsx(s,{className:oe(w2({variant:t,size:n,className:e})),ref:o,...a})});A.displayName="Button";const b2=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(null),a=async()=>{try{await Sj(!0),t("Administrador por defecto creado correctamente. Usuario: admin, Contraseña: admin"),r("success")}catch(l){t(`Error al crear administrador por defecto: ${l}`),r("error")}},o=async()=>{try{await Pj(),t("Todos los usuarios eliminados correctamente"),r("success")}catch(l){t(`Error al eliminar usuarios: ${l}`),r("error")}},s=()=>{try{const l=localStorage.getItem("authToken"),u=localStorage.getItem("user");t(`Token: ${l||"ninguno"}
Usuario: ${u||"ninguno"}`),r("success")}catch(l){t(`Error al obtener datos almacenados: ${l}`),r("error")}},c=async()=>{try{const l=await kj("admin","admin");t(`Resultado de validación: ${JSON.stringify(l,null,2)}`),r("success")}catch(l){t(`Error en la base de datos: ${l}`),r("error")}};return i.jsxs(ee,{className:"mt-6 w-full max-w-md",children:[i.jsx(ve,{children:i.jsx(ge,{children:"Herramientas de Solución"})}),i.jsx(te,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx(A,{onClick:a,variant:"outline",size:"sm",children:"Crear Admin Predeterminado"}),i.jsx(A,{onClick:o,variant:"outline",size:"sm",children:"Eliminar Todos los Usuarios"}),i.jsx(A,{onClick:s,variant:"outline",size:"sm",children:"Ver Datos Almacenados"}),i.jsx(A,{onClick:c,variant:"outline",size:"sm",children:"Verificar BD"})]}),e&&i.jsx("div",{className:`mt-4 p-3 rounded-md text-sm whitespace-pre-wrap ${n==="success"?"bg-green-50 text-green-700":n==="error"?"bg-red-50 text-red-500":""}`,children:e})]})})]})},j2=()=>{const[e,t]=p.useState(""),[n,r]=p.useState(""),[a,o]=p.useState(!1),s=hn(),c=Fs(),{status:l,error:u}=fe(m=>m.auth),f=async m=>{m.preventDefault();try{await s(lo({username:e,password:n})).unwrap(),c("/")}catch{}},d=()=>o(!a);return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs(ee,{children:[i.jsxs(ve,{className:"space-y-1",children:[i.jsx(ge,{className:"text-2xl font-bold text-center",children:"Rekreativ@"}),i.jsx(br,{className:"text-center",children:"Iniciar sesión para acceder al sistema"})]}),i.jsxs("form",{onSubmit:f,children:[i.jsxs(te,{className:"space-y-4",children:[u&&i.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-md text-sm",children:u}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"username",children:"Usuario"}),i.jsx(F,{id:"username",placeholder:"usuario",value:e,onChange:m=>t(m.target.value),required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"password",children:"Contraseña"}),i.jsx(F,{id:"password",type:"password",placeholder:"••••••••",value:n,onChange:m=>r(m.target.value),required:!0})]})]}),i.jsxs(jd,{className:"flex flex-col space-y-4",children:[i.jsx(A,{type:"submit",className:"w-full",disabled:l==="loading",children:l==="loading"?"Iniciando sesión...":"Iniciar Sesión"}),i.jsxs("div",{className:"text-center text-sm",children:["¿No tienes una cuenta?"," ",i.jsx(bd,{to:"/register",className:"text-primary hover:underline",children:"Registrarse"})]}),i.jsx("div",{className:"text-center mt-6",children:i.jsx(A,{variant:"link",size:"sm",onClick:d,className:"text-xs text-muted-foreground",children:a?"Ocultar herramientas":"Herramientas de desarrollo"})})]})]})]}),a&&i.jsx(b2,{})]})})},C2=()=>{const[e,t]=p.useState({username:"",password:"",confirmPassword:"",name:"",role:"admin"}),[n,r]=p.useState(""),a=hn(),o=Fs(),{status:s,error:c}=fe(f=>f.auth),l=f=>{const{name:d,value:m}=f.target;t(g=>({...g,[d]:m})),(d==="confirmPassword"||d==="password")&&(d==="confirmPassword"&&m!==e.password||d==="password"&&m!==e.confirmPassword&&e.confirmPassword?r("Las contraseñas no coinciden"):r(""))},u=async f=>{if(f.preventDefault(),e.password!==e.confirmPassword){r("Las contraseñas no coinciden");return}const d={username:e.username,password:e.password,name:e.name,role:e.role};try{await a(co(d)).unwrap(),o("/")}catch{}};return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-100",children:i.jsxs(ee,{className:"w-full max-w-md",children:[i.jsxs(ve,{className:"space-y-1",children:[i.jsx(ge,{className:"text-2xl font-bold text-center",children:"Crear Cuenta"}),i.jsx(br,{className:"text-center",children:"Registra una nueva cuenta para Rekreativ@"})]}),i.jsxs("form",{onSubmit:u,children:[i.jsxs(te,{className:"space-y-4",children:[c&&i.jsx("div",{className:"bg-red-50 text-red-500 p-3 rounded-md text-sm",children:c}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"name",children:"Nombre Completo"}),i.jsx(F,{id:"name",name:"name",placeholder:"Juan Pérez",value:e.name,onChange:l,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"username",children:"Usuario"}),i.jsx(F,{id:"username",name:"username",placeholder:"usuario",value:e.username,onChange:l,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"password",children:"Contraseña"}),i.jsx(F,{id:"password",name:"password",type:"password",placeholder:"••••••••",value:e.password,onChange:l,required:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"confirmPassword",children:"Confirmar Contraseña"}),i.jsx(F,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"••••••••",value:e.confirmPassword,onChange:l,required:!0}),n&&i.jsx("p",{className:"text-sm text-red-500",children:n})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"role",children:"Rol"}),i.jsxs("select",{id:"role",name:"role",value:e.role,onChange:l,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"admin",children:"Administrador"}),i.jsx("option",{value:"technician",children:"Técnico"})]})]})]}),i.jsxs(jd,{className:"flex flex-col space-y-4",children:[i.jsx(A,{type:"submit",className:"w-full",disabled:s==="loading"||!!n,children:s==="loading"?"Creando cuenta...":"Registrarse"}),i.jsxs("div",{className:"text-center text-sm",children:["¿Ya tienes una cuenta?"," ",i.jsx(bd,{to:"/login",className:"text-primary hover:underline",children:"Iniciar Sesión"})]})]})]})]})})},N2=()=>{const{user:e}=fe(v=>v.auth),{clients:t}=fe(v=>v.clients),{machines:n}=fe(v=>v.machines),{collections:r}=fe(v=>v.collections),{expenses:a}=fe(v=>v.expenses),o=t.length,s=n.length,c=n.filter(v=>v.status==="installed").length,l=n.filter(v=>v.status==="warehouse").length,u=new Date().getMonth(),f=new Date().getFullYear(),d=r.filter(v=>{const h=new Date(v.date);return h.getMonth()===u&&h.getFullYear()===f}),m=a.filter(v=>{const h=new Date(v.date);return h.getMonth()===u&&h.getFullYear()===f}),g=d.reduce((v,h)=>v+h.amount,0),w=m.reduce((v,h)=>v+h.amount,0),x=g-w,b=n.filter(v=>v.status==="repair").length,y=v=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(v);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Panel de Control"}),i.jsxs("p",{className:"text-muted-foreground",children:["Bienvenido, ",e==null?void 0:e.name,"."]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[i.jsxs(ee,{children:[i.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Total Clientes"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:[i.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),i.jsx("circle",{cx:"9",cy:"7",r:"4"}),i.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),i.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})]}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Clientes registrados"})]})]}),i.jsxs(ee,{children:[i.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Máquinas"}),i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:[i.jsx("rect",{width:"18",height:"12",x:"3",y:"6",rx:"2"}),i.jsx("line",{x1:"7",x2:"7",y1:"12",y2:"12"}),i.jsx("line",{x1:"11",x2:"11",y1:"12",y2:"12"}),i.jsx("line",{x1:"15",x2:"15",y1:"12",y2:"12"})]})]}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:s}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[c," instaladas, ",l," en almacén"]})]})]}),i.jsxs(ee,{children:[i.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Ingresos del Mes"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:i.jsx("path",{d:"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"})})]}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:y(g)}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[y(x)," neto"]})]})]}),i.jsxs(ee,{children:[i.jsxs(ve,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ge,{className:"text-sm font-medium",children:"Mantenimientos Pendientes"}),i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-muted-foreground",children:i.jsx("path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"})})]}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:b}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Máquinas en reparación"})]})]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(ee,{children:[i.jsxs(ve,{children:[i.jsx(ge,{children:"Actividad Reciente"}),i.jsx(br,{children:"Últimas acciones en el sistema"})]}),i.jsx(te,{children:i.jsx("div",{className:"space-y-4",children:[...n,...r,...a].sort((v,h)=>new Date(h.createdAt).getTime()-new Date(v.createdAt).getTime()).slice(0,5).map((v,h)=>{var j;return i.jsxs("div",{className:"flex items-center",children:[" ",i.jsx("div",{className:"w-2 h-2 rounded-full bg-primary mr-3"}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsx("p",{className:"text-sm font-medium leading-none",children:"history"in v?`Máquina ${v.serialNumber}: ${((j=v.history[v.history.length-1])==null?void 0:j.details)||"Creada"}`:"staffMember"in v?`Recaudación: ${y(v.amount)} (Téc: ${v.staffMember})`:"description"in v?`Gasto: ${y(v.amount)} - ${v.description}`:"Actividad desconocida"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(v.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})})]})]},v.id||h)})})})]}),i.jsxs(ee,{children:[i.jsxs(ve,{children:[i.jsx(ge,{children:"Resumen Mensual"}),i.jsxs(br,{children:["Periodo: ",new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})]})]}),i.jsxs(te,{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Total Recaudaciones"}),i.jsx("span",{className:"font-medium",children:y(g)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Total Gastos"}),i.jsx("span",{className:"font-medium",children:y(w)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Margen Neto"}),i.jsx("span",{className:"font-medium",children:y(x)})]}),i.jsx("div",{className:"h-px w-full bg-border my-2"}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Eficiencia de Máquinas"}),i.jsxs("span",{className:"font-medium",children:[Math.round(c/s*100),"%"]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Clientes Activos"}),i.jsx("span",{className:"font-medium",children:o})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm",children:"Máquinas Activas"}),i.jsxs("span",{className:"font-medium",children:[c,"/",s]})]})]})]})]})]})};function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function S2(e,t){const n=p.createContext(t),r=o=>{const{children:s,...c}=o,l=p.useMemo(()=>c,Object.values(c));return i.jsx(n.Provider,{value:l,children:s})};r.displayName=e+"Provider";function a(o){const s=p.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function $s(e,t=[]){let n=[];function r(o,s){const c=p.createContext(s),l=n.length;n=[...n,s];const u=d=>{var y;const{scope:m,children:g,...w}=d,x=((y=m==null?void 0:m[e])==null?void 0:y[l])||c,b=p.useMemo(()=>w,Object.values(w));return i.jsx(x.Provider,{value:b,children:g})};u.displayName=o+"Provider";function f(d,m){var x;const g=((x=m==null?void 0:m[e])==null?void 0:x[l])||c,w=p.useContext(g);if(w)return w;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${o}\``)}return[u,f]}const a=()=>{const o=n.map(s=>p.createContext(s));return function(c){const l=(c==null?void 0:c[e])||o;return p.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return a.scopeName=e,[r,E2(a,...t)]}function E2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const s=r.reduce((c,{useScope:l,scopeName:u})=>{const d=l(o)[`__scope${u}`];return{...c,...d}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}var hi=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},k2=Np["useId".toString()]||(()=>{}),P2=0;function Al(e){const[t,n]=p.useState(k2());return hi(()=>{e||n(r=>r??String(P2++))},[e]),e||(t?`radix-${t}`:"")}function zt(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Og({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=M2({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,c=zt(n),l=p.useCallback(u=>{if(o){const d=typeof u=="function"?u(e):u;d!==e&&c(d)}else a(u)},[o,e,a,c]);return[s,l]}function M2({defaultProp:e,onChange:t}){const n=p.useState(e),[r]=n,a=p.useRef(r),o=zt(t);return p.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}function T2(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e);p.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var D2="DismissableLayer",eu="dismissableLayer.update",I2="dismissableLayer.pointerDownOutside",O2="dismissableLayer.focusOutside",qm,Rg=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nd=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:s,onDismiss:c,...l}=e,u=p.useContext(Rg),[f,d]=p.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),w=yt(t,S=>d(S)),x=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=x.indexOf(b),v=f?x.indexOf(f):-1,h=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=y,C=A2(S=>{const T=S.target,$=[...u.branches].some(L=>L.contains(T));!j||$||(a==null||a(S),s==null||s(S),S.defaultPrevented||c==null||c())},m),E=_2(S=>{const T=S.target;[...u.branches].some(L=>L.contains(T))||(o==null||o(S),s==null||s(S),S.defaultPrevented||c==null||c())},m);return T2(S=>{v===u.layers.size-1&&(r==null||r(S),!S.defaultPrevented&&c&&(S.preventDefault(),c()))},m),p.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(qm=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Ym(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=qm)}},[f,m,n,u]),p.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Ym())},[f,u]),p.useEffect(()=>{const S=()=>g({});return document.addEventListener(eu,S),()=>document.removeEventListener(eu,S)},[]),i.jsx(Ye.div,{...l,ref:w,style:{pointerEvents:h?j?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,E.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,C.onPointerDownCapture)})});Nd.displayName=D2;var R2="DismissableLayerBranch",Ag=p.forwardRef((e,t)=>{const n=p.useContext(Rg),r=p.useRef(null),a=yt(t,r);return p.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),i.jsx(Ye.div,{...e,ref:a})});Ag.displayName=R2;function A2(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e),r=p.useRef(!1),a=p.useRef(()=>{});return p.useEffect(()=>{const o=c=>{if(c.target&&!r.current){let l=function(){_g(I2,n,u,{discrete:!0})};const u={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=l,t.addEventListener("click",a.current,{once:!0})):l()}else t.removeEventListener("click",a.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _2(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e),r=p.useRef(!1);return p.useEffect(()=>{const a=o=>{o.target&&!r.current&&_g(O2,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ym(){const e=new CustomEvent(eu);document.dispatchEvent(e)}function _g(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Tg(a,o):a.dispatchEvent(o)}var L2=Nd,F2=Ag,_l="focusScope.autoFocusOnMount",Ll="focusScope.autoFocusOnUnmount",Gm={bubbles:!1,cancelable:!0},$2="FocusScope",Lg=p.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...s}=e,[c,l]=p.useState(null),u=zt(a),f=zt(o),d=p.useRef(null),m=yt(t,x=>l(x)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let x=function(h){if(g.paused||!c)return;const j=h.target;c.contains(j)?d.current=j:Cn(d.current,{select:!0})},b=function(h){if(g.paused||!c)return;const j=h.relatedTarget;j!==null&&(c.contains(j)||Cn(d.current,{select:!0}))},y=function(h){if(document.activeElement===document.body)for(const C of h)C.removedNodes.length>0&&Cn(c)};document.addEventListener("focusin",x),document.addEventListener("focusout",b);const v=new MutationObserver(y);return c&&v.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",b),v.disconnect()}}},[r,c,g.paused]),p.useEffect(()=>{if(c){Km.add(g);const x=document.activeElement;if(!c.contains(x)){const y=new CustomEvent(_l,Gm);c.addEventListener(_l,u),c.dispatchEvent(y),y.defaultPrevented||(z2(H2(Fg(c)),{select:!0}),document.activeElement===x&&Cn(c))}return()=>{c.removeEventListener(_l,u),setTimeout(()=>{const y=new CustomEvent(Ll,Gm);c.addEventListener(Ll,f),c.dispatchEvent(y),y.defaultPrevented||Cn(x??document.body,{select:!0}),c.removeEventListener(Ll,f),Km.remove(g)},0)}}},[c,u,f,g]);const w=p.useCallback(x=>{if(!n&&!r||g.paused)return;const b=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,y=document.activeElement;if(b&&y){const v=x.currentTarget,[h,j]=U2(v);h&&j?!x.shiftKey&&y===j?(x.preventDefault(),n&&Cn(h,{select:!0})):x.shiftKey&&y===h&&(x.preventDefault(),n&&Cn(j,{select:!0})):y===v&&x.preventDefault()}},[n,r,g.paused]);return i.jsx(Ye.div,{tabIndex:-1,...s,ref:m,onKeyDown:w})});Lg.displayName=$2;function z2(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Cn(r,{select:t}),document.activeElement!==n)return}function U2(e){const t=Fg(e),n=Qm(t,e),r=Qm(t.reverse(),e);return[n,r]}function Fg(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Qm(e,t){for(const n of e)if(!W2(n,{upTo:t}))return n}function W2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function B2(e){return e instanceof HTMLInputElement&&"select"in e}function Cn(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&B2(e)&&t&&e.select()}}var Km=V2();function V2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xm(e,t),e.unshift(t)},remove(t){var n;e=Xm(e,t),(n=e[0])==null||n.resume()}}}function Xm(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function H2(e){return e.filter(t=>t.tagName!=="A")}var q2="Portal",Sd=p.forwardRef((e,t)=>{var c;const{container:n,...r}=e,[a,o]=p.useState(!1);hi(()=>o(!0),[]);const s=n||a&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return s?Kw.createPortal(i.jsx(Ye.div,{...r,ref:t}),s):null});Sd.displayName=q2;function Y2(e,t){return p.useReducer((n,r)=>t[n][r]??n,e)}var ji=e=>{const{present:t,children:n}=e,r=G2(t),a=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),o=yt(r.ref,Q2(a));return typeof n=="function"||r.isPresent?p.cloneElement(a,{ref:o}):null};ji.displayName="Presence";function G2(e){const[t,n]=p.useState(),r=p.useRef({}),a=p.useRef(e),o=p.useRef("none"),s=e?"mounted":"unmounted",[c,l]=Y2(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Vi(r.current);o.current=c==="mounted"?u:"none"},[c]),hi(()=>{const u=r.current,f=a.current;if(f!==e){const m=o.current,g=Vi(u);e?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(f&&m!==g?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),hi(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,d=g=>{const x=Vi(r.current).includes(g.animationName);if(g.target===t&&x&&(l("ANIMATION_END"),!a.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},m=g=>{g.target===t&&(o.current=Vi(r.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",d),t.addEventListener("animationend",d),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",d),t.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:p.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Vi(e){return(e==null?void 0:e.animationName)||"none"}function Q2(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Fl=0;function K2(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Jm()),document.body.insertAdjacentElement("beforeend",e[1]??Jm()),Fl++,()=>{Fl===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fl--}},[])}function Jm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ht=function(){return Ht=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Ht.apply(this,arguments)};function $g(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function X2(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var po="right-scroll-bar-position",ho="width-before-scroll-bar",J2="with-scroll-bars-hidden",Z2="--removed-body-scroll-bar-size";function $l(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function eN(e,t){var n=p.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var tN=typeof window<"u"?p.useLayoutEffect:p.useEffect,Zm=new WeakMap;function nN(e,t){var n=eN(t||null,function(r){return e.forEach(function(a){return $l(a,r)})});return tN(function(){var r=Zm.get(n);if(r){var a=new Set(r),o=new Set(e),s=n.current;a.forEach(function(c){o.has(c)||$l(c,null)}),o.forEach(function(c){a.has(c)||$l(c,s)})}Zm.set(n,e)},[e]),n}function rN(e){return e}function aN(e,t){t===void 0&&(t=rN);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(c){return c!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(c){return o(c)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var c=n;n=[],c.forEach(o),s=n}var l=function(){var f=s;s=[],f.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(f){s.push(f),u()},filter:function(f){return s=s.filter(f),n}}}};return a}function iN(e){e===void 0&&(e={});var t=aN(null);return t.options=Ht({async:!0,ssr:!1},e),t}var zg=function(e){var t=e.sideCar,n=$g(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ht({},n))};zg.isSideCarExport=!0;function oN(e,t){return e.useMedium(t),zg}var Ug=iN(),zl=function(){},zs=p.forwardRef(function(e,t){var n=p.useRef(null),r=p.useState({onScrollCapture:zl,onWheelCapture:zl,onTouchMoveCapture:zl}),a=r[0],o=r[1],s=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,f=e.enabled,d=e.shards,m=e.sideCar,g=e.noIsolation,w=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,v=e.gapMode,h=$g(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=m,C=nN([n,t]),E=Ht(Ht({},h),a);return p.createElement(p.Fragment,null,f&&p.createElement(j,{sideCar:Ug,removeScrollBar:u,shards:d,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!x,lockRef:n,gapMode:v}),s?p.cloneElement(p.Children.only(c),Ht(Ht({},E),{ref:C})):p.createElement(y,Ht({},E,{className:l,ref:C}),c))});zs.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};zs.classNames={fullWidth:ho,zeroRight:po};var ep,sN=function(){if(ep)return ep;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lN(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=sN();return t&&e.setAttribute("nonce",t),e}function cN(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function uN(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var dN=function(){var e=0,t=null;return{add:function(n){e==0&&(t=lN())&&(cN(t,n),uN(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},fN=function(){var e=dN();return function(t,n){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Wg=function(){var e=fN(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},mN={left:0,top:0,right:0,gap:0},Ul=function(e){return parseInt(e||"",10)||0},pN=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ul(n),Ul(r),Ul(a)]},hN=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return mN;var t=pN(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},vN=Wg(),ta="data-scroll-locked",gN=function(e,t,n,r){var a=e.left,o=e.top,s=e.right,c=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(J2,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(po,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(ho,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(po," .").concat(po,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ho," .").concat(ho,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(Z2,": ").concat(c,`px;
  }
`)},tp=function(){var e=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(e)?e:0},xN=function(){p.useEffect(function(){return document.body.setAttribute(ta,(tp()+1).toString()),function(){var e=tp()-1;e<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,e.toString())}},[])},yN=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;xN();var o=p.useMemo(function(){return hN(a)},[a]);return p.createElement(vN,{styles:gN(o,!t,a,n?"":"!important")})},tu=!1;if(typeof window<"u")try{var Hi=Object.defineProperty({},"passive",{get:function(){return tu=!0,!0}});window.addEventListener("test",Hi,Hi),window.removeEventListener("test",Hi,Hi)}catch{tu=!1}var Tr=tu?{passive:!1}:!1,wN=function(e){return e.tagName==="TEXTAREA"},Bg=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!wN(e)&&n[t]==="visible")},bN=function(e){return Bg(e,"overflowY")},jN=function(e){return Bg(e,"overflowX")},np=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Vg(e,r);if(a){var o=Hg(e,r),s=o[1],c=o[2];if(s>c)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CN=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},NN=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Vg=function(e,t){return e==="v"?bN(t):jN(t)},Hg=function(e,t){return e==="v"?CN(t):NN(t)},SN=function(e,t){return e==="h"&&t==="rtl"?-1:1},EN=function(e,t,n,r,a){var o=SN(e,window.getComputedStyle(t).direction),s=o*r,c=n.target,l=t.contains(c),u=!1,f=s>0,d=0,m=0;do{var g=Hg(e,c),w=g[0],x=g[1],b=g[2],y=x-b-o*w;(w||y)&&Vg(e,c)&&(d+=y,m+=w),c instanceof ShadowRoot?c=c.host:c=c.parentNode}while(!l&&c!==document.body||l&&(t.contains(c)||t===c));return(f&&(a&&Math.abs(d)<1||!a&&s>d)||!f&&(a&&Math.abs(m)<1||!a&&-s>m))&&(u=!0),u},qi=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rp=function(e){return[e.deltaX,e.deltaY]},ap=function(e){return e&&"current"in e?e.current:e},kN=function(e,t){return e[0]===t[0]&&e[1]===t[1]},PN=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},MN=0,Dr=[];function TN(e){var t=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),a=p.useState(MN++)[0],o=p.useState(Wg)[0],s=p.useRef(e);p.useEffect(function(){s.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=X2([e.lockRef.current],(e.shards||[]).map(ap),!0).filter(Boolean);return x.forEach(function(b){return b.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var c=p.useCallback(function(x,b){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!s.current.allowPinchZoom;var y=qi(x),v=n.current,h="deltaX"in x?x.deltaX:v[0]-y[0],j="deltaY"in x?x.deltaY:v[1]-y[1],C,E=x.target,S=Math.abs(h)>Math.abs(j)?"h":"v";if("touches"in x&&S==="h"&&E.type==="range")return!1;var T=np(S,E);if(!T)return!0;if(T?C=S:(C=S==="v"?"h":"v",T=np(S,E)),!T)return!1;if(!r.current&&"changedTouches"in x&&(h||j)&&(r.current=C),!C)return!0;var $=r.current||C;return EN($,b,x,$==="h"?h:j,!0)},[]),l=p.useCallback(function(x){var b=x;if(!(!Dr.length||Dr[Dr.length-1]!==o)){var y="deltaY"in b?rp(b):qi(b),v=t.current.filter(function(C){return C.name===b.type&&(C.target===b.target||b.target===C.shadowParent)&&kN(C.delta,y)})[0];if(v&&v.should){b.cancelable&&b.preventDefault();return}if(!v){var h=(s.current.shards||[]).map(ap).filter(Boolean).filter(function(C){return C.contains(b.target)}),j=h.length>0?c(b,h[0]):!s.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(x,b,y,v){var h={name:x,delta:b,target:y,should:v,shadowParent:DN(y)};t.current.push(h),setTimeout(function(){t.current=t.current.filter(function(j){return j!==h})},1)},[]),f=p.useCallback(function(x){n.current=qi(x),r.current=void 0},[]),d=p.useCallback(function(x){u(x.type,rp(x),x.target,c(x,e.lockRef.current))},[]),m=p.useCallback(function(x){u(x.type,qi(x),x.target,c(x,e.lockRef.current))},[]);p.useEffect(function(){return Dr.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Tr),document.addEventListener("touchmove",l,Tr),document.addEventListener("touchstart",f,Tr),function(){Dr=Dr.filter(function(x){return x!==o}),document.removeEventListener("wheel",l,Tr),document.removeEventListener("touchmove",l,Tr),document.removeEventListener("touchstart",f,Tr)}},[]);var g=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(o,{styles:PN(a)}):null,g?p.createElement(yN,{gapMode:e.gapMode}):null)}function DN(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const IN=oN(Ug,TN);var qg=p.forwardRef(function(e,t){return p.createElement(zs,Ht({},e,{ref:t,sideCar:IN}))});qg.classNames=zs.classNames;const ON=qg;var RN=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ir=new WeakMap,Yi=new WeakMap,Gi={},Wl=0,Yg=function(e){return e&&(e.host||Yg(e.parentNode))},AN=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Yg(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_N=function(e,t,n,r){var a=AN(t,Array.isArray(e)?e:[e]);Gi[n]||(Gi[n]=new WeakMap);var o=Gi[n],s=[],c=new Set,l=new Set(a),u=function(d){!d||c.has(d)||(c.add(d),u(d.parentNode))};a.forEach(u);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(m){if(c.has(m))f(m);else try{var g=m.getAttribute(r),w=g!==null&&g!=="false",x=(Ir.get(m)||0)+1,b=(o.get(m)||0)+1;Ir.set(m,x),o.set(m,b),s.push(m),x===1&&w&&Yi.set(m,!0),b===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(t),c.clear(),Wl++,function(){s.forEach(function(d){var m=Ir.get(d)-1,g=o.get(d)-1;Ir.set(d,m),o.set(d,g),m||(Yi.has(d)||d.removeAttribute(r),Yi.delete(d)),g||d.removeAttribute(n)}),Wl--,Wl||(Ir=new WeakMap,Ir=new WeakMap,Yi=new WeakMap,Gi={})}},LN=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=t||RN(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),_N(r,a,n,"aria-hidden")):function(){return null}},Ed="Dialog",[Gg,Qg]=$s(Ed),[FN,Ut]=Gg(Ed),Kg=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:s=!0}=e,c=p.useRef(null),l=p.useRef(null),[u=!1,f]=Og({prop:r,defaultProp:a,onChange:o});return i.jsx(FN,{scope:t,triggerRef:c,contentRef:l,contentId:Al(),titleId:Al(),descriptionId:Al(),open:u,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(d=>!d),[f]),modal:s,children:n})};Kg.displayName=Ed;var Xg="DialogTrigger",Jg=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ut(Xg,n),o=yt(t,a.triggerRef);return i.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Md(a.open),...r,ref:o,onClick:Ie(e.onClick,a.onOpenToggle)})});Jg.displayName=Xg;var kd="DialogPortal",[$N,Zg]=Gg(kd,{forceMount:void 0}),ex=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=Ut(kd,t);return i.jsx($N,{scope:t,forceMount:n,children:p.Children.map(r,s=>i.jsx(ji,{present:n||o.open,children:i.jsx(Sd,{asChild:!0,container:a,children:s})}))})};ex.displayName=kd;var Qo="DialogOverlay",tx=p.forwardRef((e,t)=>{const n=Zg(Qo,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Ut(Qo,e.__scopeDialog);return o.modal?i.jsx(ji,{present:r||o.open,children:i.jsx(zN,{...a,ref:t})}):null});tx.displayName=Qo;var zN=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ut(Qo,n);return i.jsx(ON,{as:ma,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Ye.div,{"data-state":Md(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),jr="DialogContent",nx=p.forwardRef((e,t)=>{const n=Zg(jr,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=Ut(jr,e.__scopeDialog);return i.jsx(ji,{present:r||o.open,children:o.modal?i.jsx(UN,{...a,ref:t}):i.jsx(WN,{...a,ref:t})})});nx.displayName=jr;var UN=p.forwardRef((e,t)=>{const n=Ut(jr,e.__scopeDialog),r=p.useRef(null),a=yt(t,n.contentRef,r);return p.useEffect(()=>{const o=r.current;if(o)return LN(o)},[]),i.jsx(rx,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,c=s.button===0&&s.ctrlKey===!0;(s.button===2||c)&&o.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,o=>o.preventDefault())})}),WN=p.forwardRef((e,t)=>{const n=Ut(jr,e.__scopeDialog),r=p.useRef(!1),a=p.useRef(!1);return i.jsx(rx,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,c;(s=e.onCloseAutoFocus)==null||s.call(e,o),o.defaultPrevented||(r.current||(c=n.triggerRef.current)==null||c.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const s=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),rx=p.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...s}=e,c=Ut(jr,n),l=p.useRef(null),u=yt(t,l);return K2(),i.jsxs(i.Fragment,{children:[i.jsx(Lg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:i.jsx(Nd,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":Md(c.open),...s,ref:u,onDismiss:()=>c.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(VN,{titleId:c.titleId}),i.jsx(qN,{contentRef:l,descriptionId:c.descriptionId})]})]})}),Pd="DialogTitle",ax=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ut(Pd,n);return i.jsx(Ye.h2,{id:a.titleId,...r,ref:t})});ax.displayName=Pd;var ix="DialogDescription",ox=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ut(ix,n);return i.jsx(Ye.p,{id:a.descriptionId,...r,ref:t})});ox.displayName=ix;var sx="DialogClose",lx=p.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Ut(sx,n);return i.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,()=>a.onOpenChange(!1))})});lx.displayName=sx;function Md(e){return e?"open":"closed"}var cx="DialogTitleWarning",[BN,ux]=S2(cx,{contentName:jr,titleName:Pd,docsSlug:"dialog"}),VN=({titleId:e})=>{const t=ux(cx),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},HN="DialogDescriptionWarning",qN=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ux(HN).contentName}}.`;return p.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},dx=Kg,fx=Jg,Td=ex,Dd=tx,Id=nx,Od=ax,Rd=ox,Ad=lx,YN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const GN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J=(e,t)=>{const n=p.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:s,children:c,...l},u)=>p.createElement("svg",{ref:u,...YN,width:a,height:a,stroke:r,strokeWidth:s?Number(o)*24/Number(a):o,className:`lucide lucide-${GN(e)}`,...l},[...t.map(([f,d])=>p.createElement(f,d)),...(Array.isArray(c)?c:[c])||[]]));return n.displayName=`${e}`,n},QN=J("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),KN=J("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]),Bl=J("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),XN=J("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),JN=J("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ZN=J("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Vl=J("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),eS=J("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ci=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),tS=J("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),nu=J("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),nS=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),mx=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),rS=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),aS=J("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),iS=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),oS=J("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),sS=J("MonitorPlay",[["path",{d:"m10 7 5 3-5 3Z",key:"29ljg6"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]),lS=J("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),cS=J("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Ve=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ru=J("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]),uS=J("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),dS=J("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]),fS=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Us=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),mS=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pS=J("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),hS=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),vS=J("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),_d=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),gS=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),xS=J("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),yS=J("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),px=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tt=dx,Mn=fx,hx=({...e})=>i.jsx(Td,{...e});hx.displayName=Td.displayName;const vx=p.forwardRef(({className:e,...t},n)=>i.jsx(Dd,{ref:n,className:oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));vx.displayName=Dd.displayName;const ze=p.forwardRef(({className:e,children:t,...n},r)=>i.jsxs(hx,{children:[i.jsx(vx,{}),i.jsxs(Id,{ref:r,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...n,children:[t,i.jsxs(Ad,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(px,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ze.displayName=Id.displayName;const Ue=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ue.displayName="DialogHeader";const We=p.forwardRef(({className:e,...t},n)=>i.jsx(Od,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));We.displayName=Od.displayName;const Be=p.forwardRef(({className:e,...t},n)=>i.jsx(Rd,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Be.displayName=Rd.displayName;const Ld=({clientId:e,machineId:t})=>{const{collections:n}=fe(d=>d.collections),{machines:r}=fe(d=>d.machines),{clients:a}=fe(d=>d.clients),[o,s]=p.useState({});p.useEffect(()=>{let d=[...n];e&&(d=d.filter(g=>g.clientId===e)),t&&(d=d.filter(g=>g.machineId===t)),d.sort((g,w)=>new Date(w.date).getTime()-new Date(g.date).getTime());const m={};d.forEach(g=>{const w=new Date(g.date),x=`${w.getFullYear()}-${w.getMonth()+1}`;m[x]||(m[x]=[]),m[x].push(g)}),s(m)},[n,e,t]);const c=d=>{const m=a.find(g=>g.id===d);return m?m.name:"Cliente desconocido"},l=d=>{const m=r.find(g=>g.id===d);return m?m.serialNumber:"Máquina desconocida"},u=d=>{const[m,g]=d.split("-");return new Date(parseInt(m),parseInt(g)-1,1).toLocaleDateString("es-ES",{month:"long",year:"numeric"})},f=d=>d.reduce((m,g)=>m+g.amount,0);return i.jsx("div",{className:"space-y-6",children:Object.keys(o).length>0?Object.entries(o).map(([d,m])=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-medium",children:u(d)}),i.jsx("span",{className:"font-bold",children:rn(f(m))})]}),i.jsx(ee,{children:i.jsx(te,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted",children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Fecha"}),!e&&i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Cliente"}),!t&&i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Máquina"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Contador"}),i.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium",children:"Importe"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Técnico"})]})}),i.jsx("tbody",{children:m.map(g=>i.jsxs("tr",{className:"border-b",children:[i.jsx("td",{className:"px-4 py-2 text-sm",children:qr(g.date)}),!e&&i.jsx("td",{className:"px-4 py-2 text-sm",children:c(g.clientId)}),!t&&i.jsx("td",{className:"px-4 py-2 text-sm",children:l(g.machineId)}),i.jsxs("td",{className:"px-4 py-2 text-sm",children:[g.previousCounter," → ",g.currentCounter,i.jsxs("span",{className:"text-xs text-muted-foreground ml-2",children:["(+",g.currentCounter-g.previousCounter,")"]})]}),i.jsxs("td",{className:"px-4 py-2 text-sm text-right font-medium",children:[rn(g.amount),g.distributionPercentage&&i.jsxs("span",{className:"text-xs text-muted-foreground ml-1",children:["(",g.distributionPercentage,"%)"]})]}),i.jsx("td",{className:"px-4 py-2 text-sm",children:g.staffMember})]},g.id))})]})})})})]},d)):i.jsx("div",{className:"py-8 text-center text-muted-foreground",children:"No hay recaudaciones para mostrar con los filtros seleccionados."})})},Ko=({value:e,onChange:t,label:n="Firma Digital",height:r=200,width:a=500,className:o=""})=>{const s=p.useRef(null),[c,l]=p.useState(!1),[u,f]=p.useState(!1);p.useEffect(()=>{const x=s.current;if(!x)return;const b=x.getContext("2d");if(b&&(x.width=a,x.height=r,b.lineWidth=2,b.lineCap="round",b.strokeStyle="#000",e)){const y=new Image;y.onload=()=>{b.drawImage(y,0,0),f(!0)},y.src=e}},[r,a]);const d=x=>{const b=s.current;if(!b)return;const y=b.getContext("2d");if(!y)return;l(!0),f(!0);const v=b.getBoundingClientRect();let h,j;"touches"in x?(h=x.touches[0].clientX,j=x.touches[0].clientY):(h=x.clientX,j=x.clientY),y.beginPath(),y.moveTo(h-v.left,j-v.top)},m=x=>{if(!c)return;const b=s.current;if(!b)return;const y=b.getContext("2d");if(!y)return;const v=b.getBoundingClientRect();let h,j;"touches"in x?(h=x.touches[0].clientX,j=x.touches[0].clientY,x.preventDefault()):(h=x.clientX,j=x.clientY),y.lineTo(h-v.left,j-v.top),y.stroke()},g=()=>{if(!c)return;const x=s.current;if(!x)return;const b=x.getContext("2d");if(!b)return;b.closePath(),l(!1);const y=x.toDataURL("image/png");t(y)},w=()=>{const x=s.current;if(!x)return;const b=x.getContext("2d");b&&(b.clearRect(0,0,x.width,x.height),f(!1),t(""))};return i.jsxs("div",{className:`grid w-full gap-1.5 ${o}`,children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(P,{children:n}),i.jsx("div",{className:"flex space-x-2",children:i.jsxs(A,{type:"button",variant:"outline",size:"sm",onClick:w,disabled:!u,children:[i.jsx(hS,{className:"h-4 w-4 mr-1"})," Borrar"]})})]}),i.jsx("div",{className:"border border-input rounded-md p-1 bg-white",children:i.jsx("canvas",{ref:s,className:"w-full touch-none cursor-crosshair",style:{height:`${r}px`},onMouseDown:d,onMouseMove:m,onMouseUp:g,onMouseLeave:g,onTouchStart:d,onTouchMove:m,onTouchEnd:g})}),!u&&i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Dibuja tu firma en el recuadro superior"}),u&&i.jsxs("div",{className:"flex items-center text-xs text-green-600 mt-1",children:[i.jsx(eS,{className:"h-3 w-3 mr-1"})," Firma registrada"]})]})},wS=1,bS=3e3;let Hl=0;function jS(){return Hl=(Hl+1)%Number.MAX_VALUE,Hl.toString()}const ql=new Map,ip=e=>{if(ql.has(e))return;const t=setTimeout(()=>{ql.delete(e),Ya({type:"REMOVE_TOAST",toastId:e})},bS);ql.set(e,t)},CS=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,wS)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ip(n):e.toasts.forEach(r=>{ip(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},vo=[];let go={toasts:[]};function Ya(e){go=CS(go,e),vo.forEach(t=>{t(go)})}function ne({...e}){const t=jS(),n=a=>Ya({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Ya({type:"DISMISS_TOAST",toastId:t});return Ya({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Fd(){const[e,t]=p.useState(go);return p.useEffect(()=>(vo.push(t),()=>{const n=vo.indexOf(t);n>-1&&vo.splice(n,1)}),[e]),{...e,toast:ne,dismiss:n=>Ya({type:"DISMISS_TOAST",toastId:n})}}var gx="AlertDialog",[NS,JP]=$s(gx,[Qg]),gn=Qg(),xx=e=>{const{__scopeAlertDialog:t,...n}=e,r=gn(t);return i.jsx(dx,{...r,...n,modal:!0})};xx.displayName=gx;var SS="AlertDialogTrigger",yx=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gn(n);return i.jsx(fx,{...a,...r,ref:t})});yx.displayName=SS;var ES="AlertDialogPortal",wx=e=>{const{__scopeAlertDialog:t,...n}=e,r=gn(t);return i.jsx(Td,{...r,...n})};wx.displayName=ES;var kS="AlertDialogOverlay",bx=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gn(n);return i.jsx(Dd,{...a,...r,ref:t})});bx.displayName=kS;var na="AlertDialogContent",[PS,MS]=NS(na),jx=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,o=gn(n),s=p.useRef(null),c=yt(t,s),l=p.useRef(null);return i.jsx(BN,{contentName:na,titleName:Cx,docsSlug:"alert-dialog",children:i.jsx(PS,{scope:n,cancelRef:l,children:i.jsxs(Id,{role:"alertdialog",...o,...a,ref:c,onOpenAutoFocus:Ie(a.onOpenAutoFocus,u=>{var f;u.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[i.jsx(Mg,{children:r}),i.jsx(DS,{contentRef:s})]})})})});jx.displayName=na;var Cx="AlertDialogTitle",Nx=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gn(n);return i.jsx(Od,{...a,...r,ref:t})});Nx.displayName=Cx;var Sx="AlertDialogDescription",Ex=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gn(n);return i.jsx(Rd,{...a,...r,ref:t})});Ex.displayName=Sx;var TS="AlertDialogAction",kx=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gn(n);return i.jsx(Ad,{...a,...r,ref:t})});kx.displayName=TS;var Px="AlertDialogCancel",Mx=p.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=MS(Px,n),o=gn(n),s=yt(t,a);return i.jsx(Ad,{...o,...r,ref:s})});Mx.displayName=Px;var DS=({contentRef:e})=>{const t=`\`${na}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${na}\` by passing a \`${Sx}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${na}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},IS=xx,OS=yx,RS=wx,Tx=bx,Dx=jx,Ix=kx,Ox=Mx,Rx=Nx,Ax=Ex;const AS=IS,_S=OS,LS=RS,_x=p.forwardRef(({className:e,...t},n)=>i.jsx(Tx,{ref:n,className:oe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_x.displayName=Tx.displayName;const Lx=p.forwardRef(({className:e,...t},n)=>i.jsxs(LS,{children:[i.jsx(_x,{}),i.jsx(Dx,{ref:n,className:oe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",e),...t})]}));Lx.displayName=Dx.displayName;const Fx=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fx.displayName="AlertDialogHeader";const $x=({className:e,...t})=>i.jsx("div",{className:oe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});$x.displayName="AlertDialogFooter";const zx=p.forwardRef(({className:e,...t},n)=>i.jsx(Rx,{ref:n,className:oe("text-lg font-semibold leading-none tracking-tight",e),...t}));zx.displayName=Rx.displayName;const Ux=p.forwardRef(({className:e,...t},n)=>i.jsx(Ax,{ref:n,className:oe("text-sm text-muted-foreground",e),...t}));Ux.displayName=Ax.displayName;const Wx=p.forwardRef(({className:e,...t},n)=>i.jsx(Ix,{ref:n,className:oe("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:bg-accent hover:text-accent-foreground",e),...t}));Wx.displayName=Ix.displayName;const Bx=p.forwardRef(({className:e,...t},n)=>i.jsx(Ox,{ref:n,className:oe("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:bg-accent hover:text-accent-foreground",e),...t}));Bx.displayName=Ox.displayName;const FS=()=>{var O;const e=hn(),{clients:t}=fe(_=>_.clients),{toast:n}=Fd(),[r,a]=p.useState(""),[o,s]=p.useState(null),[c,l]=p.useState(!1),[u,f]=p.useState(!1),[d,m]=p.useState(!1),[g,w]=p.useState(null),[x,b]=p.useState(!1),[y,v]=p.useState(null),[h,j]=p.useState(!1);p.useEffect(()=>{e(dr())},[e]);const C=t.filter(_=>_.name&&_.name.toLowerCase().includes(r.toLowerCase())||_.businessType&&_.businessType.toLowerCase().includes(r.toLowerCase())||_.city&&_.city.toLowerCase().includes(r.toLowerCase())),E=_=>{s(_),e(hg(_)),l(!0)},S=()=>{f(!0)},T=()=>{f(!1)},$=_=>{const K=t.find(Se=>Se.id===_);K&&(w(K),j(!0))},L=()=>{j(!1),w(null)},V=_=>{e(lg(_)),n({title:"Éxito",description:"Cliente creado correctamente."});const K=t.find(Se=>Se.name===_.name&&Se.phone===_.phone)||{id:Date.now(),..._};$(K.id),T()},B=_=>{const K=t.find(Se=>Se.id===_);K&&(w(K),m(!0))},ue=()=>{m(!1),w(null)},W=_=>{e(cg(_)),n({title:"Éxito",description:"Cliente actualizado correctamente."}),ue()},H=_=>{v(_),b(!0)},G=()=>{y!==null&&(e(ug(y)),n({title:"Éxito",description:"Cliente eliminado correctamente."}),b(!1),v(null))},se=()=>{b(!1),v(null)},R=_=>{console.log(`View details for client ID: ${_}`)},U=()=>{console.log("Import clients")},M=()=>{console.log("Export clients")};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Clientes"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona tus clientes y sus máquinas"})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[i.jsx("div",{className:"space-x-2",children:i.jsxs(A,{variant:"default",onClick:S,children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"})," Nuevo Cliente"]})}),i.jsxs("div",{className:"space-x-2",children:[i.jsxs(A,{variant:"violet",onClick:U,children:[i.jsx(_d,{className:"mr-2 h-4 w-4"})," Importar"]}),i.jsxs(A,{variant:"violet",onClick:M,children:[i.jsx(Ci,{className:"mr-2 h-4 w-4"})," Exportar"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(Us,{className:"h-5 w-5 text-muted-foreground"}),i.jsx(F,{placeholder:"Buscar por nombre, tipo de negocio o ciudad...",value:r,onChange:_=>a(_.target.value),className:"max-w-sm"})]}),i.jsx(tt,{open:c,onOpenChange:l,children:i.jsxs(ze,{className:"sm:max-w-[800px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Historial de Recaudaciones"}),i.jsx(Be,{children:o&&((O=t.find(_=>_.id===o))==null?void 0:O.name)})]}),o&&i.jsx(Ld,{clientId:o,machineId:null})]})}),i.jsx(tt,{open:u,onOpenChange:f,children:i.jsxs(ze,{className:"sm:max-w-[800px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Nuevo Cliente"}),i.jsx(Be,{children:"Ingresa los datos del nuevo cliente. Los campos marcados con * son obligatorios."})]}),i.jsx($S,{onCreate:V,onCancel:T})]})}),i.jsx(tt,{open:h,onOpenChange:j,children:i.jsxs(ze,{className:"sm:max-w-[800px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Firma de Contrato de Depósito de Máquina"}),i.jsx(Be,{children:"Firma el contrato de depósito de la máquina."})]}),g&&i.jsx(zS,{clientData:g,onCancel:L})]})}),i.jsx(tt,{open:d,onOpenChange:m,children:i.jsxs(ze,{className:"sm:max-w-[800px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Editar Cliente"}),i.jsx(Be,{children:"Modifica los datos del cliente."})]}),g&&i.jsx(US,{client:g,onUpdate:W,onCancel:ue})]})}),i.jsx(AS,{open:x,onOpenChange:b,children:i.jsxs(Lx,{children:[i.jsxs(Fx,{children:[i.jsx(zx,{children:"¿Estás seguro?"}),i.jsx(Ux,{children:"Esta acción eliminará el cliente permanentemente. ¿Estás seguro?"})]}),i.jsxs($x,{children:[i.jsx(Bx,{onClick:se,children:"Cancelar"}),i.jsx(Wx,{onClick:G,children:"Eliminar"})]})]})}),i.jsxs(ee,{className:"bg-card",children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{children:"Listado de Clientes"})}),i.jsx(te,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full table-auto",children:[i.jsx("thead",{className:"text-sm text-muted-foreground",children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"px-4 py-3 text-left",children:"Nombre"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Tipo"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Propietario"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Ubicación"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Contacto"}),i.jsx("th",{className:"px-4 py-3 text-center",children:"Máquinas"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),i.jsx("tbody",{children:C.map(_=>i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"px-4 py-3 font-medium",children:_.name}),i.jsx("td",{className:"px-4 py-3",children:_.businessType||"-"}),i.jsx("td",{className:"px-4 py-3",children:_.owner||"-"}),i.jsx("td",{className:"px-4 py-3",children:_.city||"-"}),i.jsx("td",{className:"px-4 py-3",children:_.phone||"-"}),i.jsx("td",{className:"px-4 py-3 text-center",children:i.jsx("span",{className:"px-2 py-1 rounded-full bg-muted text-muted-foreground text-xs font-medium",children:_.machines})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsxs(A,{variant:"outline",size:"sm",onClick:()=>E(_.id),children:[i.jsx(mx,{className:"mr-1 h-4 w-4"}),"Historial"]}),i.jsxs(A,{variant:"violet",size:"sm",onClick:()=>B(_.id),children:[i.jsx(cS,{className:"mr-1 h-4 w-4"}),"Editar"]}),i.jsx(_S,{asChild:!0,children:i.jsxs(A,{variant:"destructive",size:"sm",onClick:()=>H(_.id),children:[i.jsx(vS,{className:"mr-1 h-4 w-4"}),"Eliminar"]})}),i.jsxs(A,{variant:"default",size:"sm",onClick:()=>R(_.id),children:[i.jsx(rS,{className:"mr-1 h-4 w-4"}),"Detalle"]}),i.jsx(A,{variant:"lime",size:"sm",onClick:()=>$(_.id),children:"Firma Depósito"})]})})]},_.id))})]})})})]})]})},$S=({onCreate:e,onCancel:t})=>{const[n,r]=p.useState(""),[a,o]=p.useState(""),[s,c]=p.useState(""),[l,u]=p.useState(""),[f,d]=p.useState(""),[m,g]=p.useState(""),[w,x]=p.useState(""),[b,y]=p.useState(""),[v,h]=p.useState(""),[j,C]=p.useState(""),[E,S]=p.useState(""),[T,$]=p.useState(""),[L,V]=p.useState(""),[B,ue]=p.useState(""),[W,H]=p.useState(""),[G,se]=p.useState(""),R=Array.from({length:24},(M,O)=>`${O.toString().padStart(2,"0")}:00`),U=M=>{M.preventDefault(),e({name:n,businessType:a||void 0,owner:s||void 0,taxId:l||void 0,address:f||void 0,city:m||void 0,province:w||void 0,postalCode:b||void 0,phone:v||void 0,email:j||void 0,morningOpenTime:E||void 0,morningCloseTime:T||void 0,eveningOpenTime:L||void 0,eveningCloseTime:B||void 0,closingDay:W||void 0,notes:G||void 0})};return i.jsxs("form",{onSubmit:U,className:"grid gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"name",children:"Nombre del Establecimiento *"}),i.jsx(F,{type:"text",id:"name",value:n,onChange:M=>r(M.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"businessType",children:"Tipo de Negocio"}),i.jsxs("select",{id:"businessType",title:"Tipo de Negocio",value:a,onChange:M=>o(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar tipo"}),i.jsx("option",{value:"bar",children:"Bar"}),i.jsx("option",{value:"restaurante",children:"Restaurante"}),i.jsx("option",{value:"cafeteria",children:"Cafetería"})]})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"owner",children:"Propietario"}),i.jsx(F,{type:"text",id:"owner",value:s,onChange:M=>c(M.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"taxId",children:"Identificación Fiscal (NIF/CIF/etc.)"}),i.jsx(F,{type:"text",id:"taxId",value:l,onChange:M=>u(M.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"address",children:"Dirección Completa"}),i.jsx(F,{type:"text",id:"address",value:f,onChange:M=>d(M.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"city",children:"Ciudad"}),i.jsx(F,{type:"text",id:"city",value:m,onChange:M=>g(M.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"province",children:"Provincia"}),i.jsx(F,{type:"text",id:"province",value:w,onChange:M=>x(M.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"postalCode",children:"Código Postal"}),i.jsx(F,{type:"text",id:"postalCode",value:b,onChange:M=>y(M.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"phone",children:"Teléfono"}),i.jsx(F,{type:"tel",id:"phone",value:v,onChange:M=>h(M.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"email",children:"Correo Electrónico"}),i.jsx(F,{type:"email",id:"email",value:j,onChange:M=>C(M.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"morningOpenTime",children:"Apertura Mañana"}),i.jsxs("select",{id:"morningOpenTime",title:"Apertura Mañana",value:E,onChange:M=>S(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),R.map(M=>i.jsx("option",{value:M,children:M},M))]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"morningCloseTime",children:"Cierre Mañana"}),i.jsxs("select",{id:"morningCloseTime",title:"Cierre Mañana",value:T,onChange:M=>$(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),R.map(M=>i.jsx("option",{value:M,children:M},M))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"eveningOpenTime",children:"Apertura Tarde"}),i.jsxs("select",{id:"eveningOpenTime",title:"Apertura Tarde",value:L,onChange:M=>V(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),R.map(M=>i.jsx("option",{value:M,children:M},M))]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"eveningCloseTime",children:"Cierre Tarde"}),i.jsxs("select",{id:"eveningCloseTime",title:"Cierre Tarde",value:B,onChange:M=>ue(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),R.map(M=>i.jsx("option",{value:M,children:M},M))]})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"closingDay",children:"Día de Cierre"}),i.jsxs("select",{id:"closingDay",title:"Día de Cierre",value:W,onChange:M=>H(M.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar día"}),i.jsx("option",{value:"Lunes",children:"Lunes"}),i.jsx("option",{value:"Martes",children:"Martes"}),i.jsx("option",{value:"Miércoles",children:"Miércoles"}),i.jsx("option",{value:"Jueves",children:"Jueves"}),i.jsx("option",{value:"Viernes",children:"Viernes"}),i.jsx("option",{value:"Sábado",children:"Sábado"}),i.jsx("option",{value:"Domingo",children:"Domingo"})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"notes",children:"Notas Adicionales"}),i.jsx(F,{type:"text",id:"notes",value:G,onChange:M=>se(M.target.value)})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(A,{variant:"secondary",type:"button",onClick:t,children:"Cancelar"}),i.jsx(A,{type:"submit",children:"Crear Cliente"})]})]})},zS=({clientData:e,onCancel:t})=>{const[n,r]=p.useState(""),{toast:a}=Fd(),o=l=>{r(l)},s=l=>{if(l.preventDefault(),!n){a({title:"Error",description:"Por favor, firma el contrato de depósito.",variant:"destructive"});return}if(!e){a({title:"Error",description:"Datos del cliente no disponibles.",variant:"destructive"});return}console.log("Client Data:",e),console.log("Signature:",n),a({title:"Éxito",description:"Contrato de depósito firmado correctamente (simulado)."}),t()},c=l=>l?[l.address,l.city,l.province,l.postalCode].filter(Boolean).join(", "):"";return i.jsxs("form",{onSubmit:s,className:"grid gap-4",children:[e&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"clientName",children:"Nombre del Establecimiento"}),i.jsx(F,{type:"text",id:"clientName",value:e.name,readOnly:!0})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"clientOwner",children:"Propietario"}),i.jsx(F,{type:"text",id:"clientOwner",value:e.owner||"",readOnly:!0})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"clientTaxId",children:"Identificación Fiscal"}),i.jsx(F,{type:"text",id:"clientTaxId",value:e.taxId||"",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"clientAddress",children:"Dirección"}),i.jsx(F,{type:"text",id:"clientAddress",value:c(e),readOnly:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"clientPhone",children:"Teléfono"}),i.jsx(F,{type:"tel",id:"clientPhone",value:e.phone||"",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"clientEmail",children:"Correo Electrónico"}),i.jsx(F,{type:"email",id:"clientEmail",value:e.email||"",readOnly:!0})]})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"signature",children:"Firma del Cliente"}),i.jsx(Ko,{value:n,onChange:o})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(A,{variant:"secondary",type:"button",onClick:t,children:"Cancelar"}),i.jsx(A,{type:"submit",children:"Firmar Contrato"})]})]})},US=({client:e,onUpdate:t,onCancel:n})=>{const[r,a]=p.useState(e.name),[o,s]=p.useState(e.businessType||""),[c,l]=p.useState(e.owner||""),[u,f]=p.useState(e.taxId||""),[d,m]=p.useState(e.address||""),[g,w]=p.useState(e.city||""),[x,b]=p.useState(e.province||""),[y,v]=p.useState(e.postalCode||""),[h,j]=p.useState(e.phone||""),[C,E]=p.useState(e.email||""),[S,T]=p.useState(e.morningOpenTime||""),[$,L]=p.useState(e.morningCloseTime||""),[V,B]=p.useState(e.eveningOpenTime||""),[ue,W]=p.useState(e.eveningCloseTime||""),[H,G]=p.useState(e.closingDay||""),[se,R]=p.useState(e.notes||""),U=Array.from({length:24},(O,_)=>`${_.toString().padStart(2,"0")}:00`),M=O=>{O.preventDefault();const _={id:e.id,name:r,businessType:o||void 0,owner:c||void 0,taxId:u||void 0,address:d||void 0,city:g||void 0,province:x||void 0,postalCode:y||void 0,phone:h||void 0,email:C||void 0,morningOpenTime:S||void 0,morningCloseTime:$||void 0,eveningOpenTime:V||void 0,eveningCloseTime:ue||void 0,closingDay:H||void 0,notes:se||void 0};t(_)};return i.jsxs("form",{onSubmit:M,className:"grid gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-name",children:"Nombre del Establecimiento *"}),i.jsx(F,{type:"text",id:"edit-name",value:r,onChange:O=>a(O.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-businessType",children:"Tipo de Negocio"}),i.jsxs("select",{id:"edit-businessType",title:"Tipo de Negocio",value:o,onChange:O=>s(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar tipo"}),i.jsx("option",{value:"bar",children:"Bar"}),i.jsx("option",{value:"restaurante",children:"Restaurante"}),i.jsx("option",{value:"cafeteria",children:"Cafetería"})]})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-owner",children:"Propietario"}),i.jsx(F,{type:"text",id:"edit-owner",value:c,onChange:O=>l(O.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-taxId",children:"Identificación Fiscal"}),i.jsx(F,{type:"text",id:"edit-taxId",value:u,onChange:O=>f(O.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-address",children:"Dirección Completa"}),i.jsx(F,{type:"text",id:"edit-address",value:d,onChange:O=>m(O.target.value)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-city",children:"Ciudad"}),i.jsx(F,{type:"text",id:"edit-city",value:g,onChange:O=>w(O.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-province",children:"Provincia"}),i.jsx(F,{type:"text",id:"edit-province",value:x,onChange:O=>b(O.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-postalCode",children:"Código Postal"}),i.jsx(F,{type:"text",id:"edit-postalCode",value:y,onChange:O=>v(O.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-phone",children:"Teléfono"}),i.jsx(F,{type:"tel",id:"edit-phone",value:h,onChange:O=>j(O.target.value)})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-email",children:"Correo Electrónico"}),i.jsx(F,{type:"email",id:"edit-email",value:C,onChange:O=>E(O.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-morningOpenTime",children:"Apertura Mañana"}),i.jsxs("select",{id:"edit-morningOpenTime",title:"Apertura Mañana",value:S,onChange:O=>T(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),U.map(O=>i.jsx("option",{value:O,children:O},O))]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-morningCloseTime",children:"Cierre Mañana"}),i.jsxs("select",{id:"edit-morningCloseTime",title:"Cierre Mañana",value:$,onChange:O=>L(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),U.map(O=>i.jsx("option",{value:O,children:O},O))]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-eveningOpenTime",children:"Apertura Tarde"}),i.jsxs("select",{id:"edit-eveningOpenTime",title:"Apertura Tarde",value:V,onChange:O=>B(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),U.map(O=>i.jsx("option",{value:O,children:O},O))]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-eveningCloseTime",children:"Cierre Tarde"}),i.jsxs("select",{id:"edit-eveningCloseTime",title:"Cierre Tarde",value:ue,onChange:O=>W(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar hora"}),U.map(O=>i.jsx("option",{value:O,children:O},O))]})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-closingDay",children:"Día de Cierre"}),i.jsxs("select",{id:"edit-closingDay",title:"Día de Cierre",value:H,onChange:O=>G(O.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar día"}),i.jsx("option",{value:"Lunes",children:"Lunes"}),i.jsx("option",{value:"Martes",children:"Martes"}),i.jsx("option",{value:"Miércoles",children:"Miércoles"}),i.jsx("option",{value:"Jueves",children:"Jueves"}),i.jsx("option",{value:"Viernes",children:"Viernes"}),i.jsx("option",{value:"Sábado",children:"Sábado"}),i.jsx("option",{value:"Domingo",children:"Domingo"})]})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:"edit-notes",children:"Notas Adicionales"}),i.jsx(F,{type:"text",id:"edit-notes",value:se,onChange:O=>R(O.target.value)})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(A,{variant:"secondary",type:"button",onClick:n,children:"Cancelar"}),i.jsx(A,{type:"submit",children:"Actualizar Cliente"})]})]})};var WS=Object.defineProperty,Xo=Object.getOwnPropertySymbols,Vx=Object.prototype.hasOwnProperty,Hx=Object.prototype.propertyIsEnumerable,op=(e,t,n)=>t in e?WS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,BS=(e,t)=>{for(var n in t||(t={}))Vx.call(t,n)&&op(e,n,t[n]);if(Xo)for(var n of Xo(t))Hx.call(t,n)&&op(e,n,t[n]);return e},VS=(e,t)=>{var n={};for(var r in e)Vx.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Xo)for(var r of Xo(e))t.indexOf(r)<0&&Hx.call(e,r)&&(n[r]=e[r]);return n};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Cr;(e=>{const t=class{constructor(l,u,f,d){if(this.version=l,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version value out of range");if(d<-1||d>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let m=[];for(let w=0;w<this.size;w++)m.push(!1);for(let w=0;w<this.size;w++)this.modules.push(m.slice()),this.isFunction.push(m.slice());this.drawFunctionPatterns();const g=this.addEccAndInterleave(f);if(this.drawCodewords(g),d==-1){let w=1e9;for(let x=0;x<8;x++){this.applyMask(x),this.drawFormatBits(x);const b=this.getPenaltyScore();b<w&&(d=x,w=b),this.applyMask(x)}}o(0<=d&&d<=7),this.mask=d,this.applyMask(d),this.drawFormatBits(d),this.isFunction=[]}static encodeText(l,u){const f=e.QrSegment.makeSegments(l);return t.encodeSegments(f,u)}static encodeBinary(l,u){const f=e.QrSegment.makeBytes(l);return t.encodeSegments([f],u)}static encodeSegments(l,u,f=1,d=40,m=-1,g=!0){if(!(t.MIN_VERSION<=f&&f<=d&&d<=t.MAX_VERSION)||m<-1||m>7)throw new RangeError("Invalid value");let w,x;for(w=f;;w++){const h=t.getNumDataCodewords(w,u)*8,j=c.getTotalBits(l,w);if(j<=h){x=j;break}if(w>=d)throw new RangeError("Data too long")}for(const h of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])g&&x<=t.getNumDataCodewords(w,h)*8&&(u=h);let b=[];for(const h of l){r(h.mode.modeBits,4,b),r(h.numChars,h.mode.numCharCountBits(w),b);for(const j of h.getData())b.push(j)}o(b.length==x);const y=t.getNumDataCodewords(w,u)*8;o(b.length<=y),r(0,Math.min(4,y-b.length),b),r(0,(8-b.length%8)%8,b),o(b.length%8==0);for(let h=236;b.length<y;h^=253)r(h,8,b);let v=[];for(;v.length*8<b.length;)v.push(0);return b.forEach((h,j)=>v[j>>>3]|=h<<7-(j&7)),new t(w,u,v,m)}getModule(l,u){return 0<=l&&l<this.size&&0<=u&&u<this.size&&this.modules[u][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),u=l.length;for(let f=0;f<u;f++)for(let d=0;d<u;d++)f==0&&d==0||f==0&&d==u-1||f==u-1&&d==0||this.drawAlignmentPattern(l[f],l[d]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const u=this.errorCorrectionLevel.formatBits<<3|l;let f=u;for(let m=0;m<10;m++)f=f<<1^(f>>>9)*1335;const d=(u<<10|f)^21522;o(d>>>15==0);for(let m=0;m<=5;m++)this.setFunctionModule(8,m,a(d,m));this.setFunctionModule(8,7,a(d,6)),this.setFunctionModule(8,8,a(d,7)),this.setFunctionModule(7,8,a(d,8));for(let m=9;m<15;m++)this.setFunctionModule(14-m,8,a(d,m));for(let m=0;m<8;m++)this.setFunctionModule(this.size-1-m,8,a(d,m));for(let m=8;m<15;m++)this.setFunctionModule(8,this.size-15+m,a(d,m));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let f=0;f<12;f++)l=l<<1^(l>>>11)*7973;const u=this.version<<12|l;o(u>>>18==0);for(let f=0;f<18;f++){const d=a(u,f),m=this.size-11+f%3,g=Math.floor(f/3);this.setFunctionModule(m,g,d),this.setFunctionModule(g,m,d)}}drawFinderPattern(l,u){for(let f=-4;f<=4;f++)for(let d=-4;d<=4;d++){const m=Math.max(Math.abs(d),Math.abs(f)),g=l+d,w=u+f;0<=g&&g<this.size&&0<=w&&w<this.size&&this.setFunctionModule(g,w,m!=2&&m!=4)}}drawAlignmentPattern(l,u){for(let f=-2;f<=2;f++)for(let d=-2;d<=2;d++)this.setFunctionModule(l+d,u+f,Math.max(Math.abs(d),Math.abs(f))!=1)}setFunctionModule(l,u,f){this.modules[u][l]=f,this.isFunction[u][l]=!0}addEccAndInterleave(l){const u=this.version,f=this.errorCorrectionLevel;if(l.length!=t.getNumDataCodewords(u,f))throw new RangeError("Invalid argument");const d=t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u],m=t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u],g=Math.floor(t.getNumRawDataModules(u)/8),w=d-g%d,x=Math.floor(g/d);let b=[];const y=t.reedSolomonComputeDivisor(m);for(let h=0,j=0;h<d;h++){let C=l.slice(j,j+x-m+(h<w?0:1));j+=C.length;const E=t.reedSolomonComputeRemainder(C,y);h<w&&C.push(0),b.push(C.concat(E))}let v=[];for(let h=0;h<b[0].length;h++)b.forEach((j,C)=>{(h!=x-m||C>=w)&&v.push(j[h])});return o(v.length==g),v}drawCodewords(l){if(l.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let d=0;d<this.size;d++)for(let m=0;m<2;m++){const g=f-m,x=(f+1&2)==0?this.size-1-d:d;!this.isFunction[x][g]&&u<l.length*8&&(this.modules[x][g]=a(l[u>>>3],7-(u&7)),u++)}}o(u==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let f=0;f<this.size;f++){let d;switch(l){case 0:d=(f+u)%2==0;break;case 1:d=u%2==0;break;case 2:d=f%3==0;break;case 3:d=(f+u)%3==0;break;case 4:d=(Math.floor(f/3)+Math.floor(u/2))%2==0;break;case 5:d=f*u%2+f*u%3==0;break;case 6:d=(f*u%2+f*u%3)%2==0;break;case 7:d=((f+u)%2+f*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][f]&&d&&(this.modules[u][f]=!this.modules[u][f])}}getPenaltyScore(){let l=0;for(let m=0;m<this.size;m++){let g=!1,w=0,x=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[m][b]==g?(w++,w==5?l+=t.PENALTY_N1:w>5&&l++):(this.finderPenaltyAddHistory(w,x),g||(l+=this.finderPenaltyCountPatterns(x)*t.PENALTY_N3),g=this.modules[m][b],w=1);l+=this.finderPenaltyTerminateAndCount(g,w,x)*t.PENALTY_N3}for(let m=0;m<this.size;m++){let g=!1,w=0,x=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][m]==g?(w++,w==5?l+=t.PENALTY_N1:w>5&&l++):(this.finderPenaltyAddHistory(w,x),g||(l+=this.finderPenaltyCountPatterns(x)*t.PENALTY_N3),g=this.modules[b][m],w=1);l+=this.finderPenaltyTerminateAndCount(g,w,x)*t.PENALTY_N3}for(let m=0;m<this.size-1;m++)for(let g=0;g<this.size-1;g++){const w=this.modules[m][g];w==this.modules[m][g+1]&&w==this.modules[m+1][g]&&w==this.modules[m+1][g+1]&&(l+=t.PENALTY_N2)}let u=0;for(const m of this.modules)u=m.reduce((g,w)=>g+(w?1:0),u);const f=this.size*this.size,d=Math.ceil(Math.abs(u*20-f*10)/f)-1;return o(0<=d&&d<=9),l+=d*t.PENALTY_N4,o(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let f=[6];for(let d=this.size-7;f.length<l;d-=u)f.splice(1,0,d);return f}}static getNumRawDataModules(l){if(l<t.MIN_VERSION||l>t.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*l+128)*l+64;if(l>=2){const f=Math.floor(l/7)+2;u-=(25*f-10)*f-55,l>=7&&(u-=36)}return o(208<=u&&u<=29648),u}static getNumDataCodewords(l,u){return Math.floor(t.getNumRawDataModules(l)/8)-t.ECC_CODEWORDS_PER_BLOCK[u.ordinal][l]*t.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let u=[];for(let d=0;d<l-1;d++)u.push(0);u.push(1);let f=1;for(let d=0;d<l;d++){for(let m=0;m<u.length;m++)u[m]=t.reedSolomonMultiply(u[m],f),m+1<u.length&&(u[m]^=u[m+1]);f=t.reedSolomonMultiply(f,2)}return u}static reedSolomonComputeRemainder(l,u){let f=u.map(d=>0);for(const d of l){const m=d^f.shift();f.push(0),u.forEach((g,w)=>f[w]^=t.reedSolomonMultiply(g,m))}return f}static reedSolomonMultiply(l,u){if(l>>>8||u>>>8)throw new RangeError("Byte out of range");let f=0;for(let d=7;d>=0;d--)f=f<<1^(f>>>7)*285,f^=(u>>>d&1)*l;return o(f>>>8==0),f}finderPenaltyCountPatterns(l){const u=l[1];o(u<=this.size*3);const f=u>0&&l[2]==u&&l[3]==u*3&&l[4]==u&&l[5]==u;return(f&&l[0]>=u*4&&l[6]>=u?1:0)+(f&&l[6]>=u*4&&l[0]>=u?1:0)}finderPenaltyTerminateAndCount(l,u,f){return l&&(this.finderPenaltyAddHistory(u,f),u=0),u+=this.size,this.finderPenaltyAddHistory(u,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(l,u){u[0]==0&&(l+=this.size),u.pop(),u.unshift(l)}};let n=t;n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;function r(l,u,f){if(u<0||u>31||l>>>u)throw new RangeError("Value out of range");for(let d=u-1;d>=0;d--)f.push(l>>>d&1)}function a(l,u){return(l>>>u&1)!=0}function o(l){if(!l)throw new Error("Assertion error")}const s=class{constructor(l,u,f){if(this.mode=l,this.numChars=u,this.bitData=f,u<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(l){let u=[];for(const f of l)r(f,8,u);return new s(s.Mode.BYTE,l.length,u)}static makeNumeric(l){if(!s.isNumeric(l))throw new RangeError("String contains non-numeric characters");let u=[];for(let f=0;f<l.length;){const d=Math.min(l.length-f,3);r(parseInt(l.substr(f,d),10),d*3+1,u),f+=d}return new s(s.Mode.NUMERIC,l.length,u)}static makeAlphanumeric(l){if(!s.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],f;for(f=0;f+2<=l.length;f+=2){let d=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f))*45;d+=s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f+1)),r(d,11,u)}return f<l.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f)),6,u),new s(s.Mode.ALPHANUMERIC,l.length,u)}static makeSegments(l){return l==""?[]:s.isNumeric(l)?[s.makeNumeric(l)]:s.isAlphanumeric(l)?[s.makeAlphanumeric(l)]:[s.makeBytes(s.toUtf8ByteArray(l))]}static makeEci(l){let u=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)r(l,8,u);else if(l<16384)r(2,2,u),r(l,14,u);else if(l<1e6)r(6,3,u),r(l,21,u);else throw new RangeError("ECI assignment value out of range");return new s(s.Mode.ECI,0,u)}static isNumeric(l){return s.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return s.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,u){let f=0;for(const d of l){const m=d.mode.numCharCountBits(u);if(d.numChars>=1<<m)return 1/0;f+=4+m+d.bitData.length}return f}static toUtf8ByteArray(l){l=encodeURI(l);let u=[];for(let f=0;f<l.length;f++)l.charAt(f)!="%"?u.push(l.charCodeAt(f)):(u.push(parseInt(l.substr(f+1,2),16)),f+=2);return u}};let c=s;c.NUMERIC_REGEX=/^[0-9]*$/,c.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,c.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=c})(Cr||(Cr={}));(e=>{(t=>{const n=class{constructor(a,o){this.ordinal=a,this.formatBits=o}};let r=n;r.LOW=new n(0,1),r.MEDIUM=new n(1,0),r.QUARTILE=new n(2,3),r.HIGH=new n(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(Cr||(Cr={}));(e=>{(t=>{const n=class{constructor(a,o){this.modeBits=a,this.numBitsCharCount=o}numCharCountBits(a){return this.numBitsCharCount[Math.floor((a+7)/17)]}};let r=n;r.NUMERIC=new n(1,[10,12,14]),r.ALPHANUMERIC=new n(2,[9,11,13]),r.BYTE=new n(4,[8,16,16]),r.KANJI=new n(8,[8,10,12]),r.ECI=new n(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(Cr||(Cr={}));var La=Cr;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var HS={L:La.QrCode.Ecc.LOW,M:La.QrCode.Ecc.MEDIUM,Q:La.QrCode.Ecc.QUARTILE,H:La.QrCode.Ecc.HIGH},qS=128,YS="L",GS="#FFFFFF",QS="#000000",KS=!1,qx=4,XS=.1;function JS(e,t=0){const n=[];return e.forEach(function(r,a){let o=null;r.forEach(function(s,c){if(!s&&o!==null){n.push(`M${o+t} ${a+t}h${c-o}v1H${o+t}z`),o=null;return}if(c===r.length-1){if(!s)return;o===null?n.push(`M${c+t},${a+t} h1v1H${c+t}z`):n.push(`M${o+t},${a+t} h${c+1-o}v1H${o+t}z`);return}s&&o===null&&(o=c)})}),n.join("")}function ZS(e,t){return e.slice().map((n,r)=>r<t.y||r>=t.y+t.h?n:n.map((a,o)=>o<t.x||o>=t.x+t.w?a:!1))}function eE(e,t,n,r){if(r==null)return null;const a=n?qx:0,o=e.length+a*2,s=Math.floor(t*XS),c=o/t,l=(r.width||s)*c,u=(r.height||s)*c,f=r.x==null?e.length/2-l/2:r.x*c,d=r.y==null?e.length/2-u/2:r.y*c;let m=null;if(r.excavate){let g=Math.floor(f),w=Math.floor(d),x=Math.ceil(l+f-g),b=Math.ceil(u+d-w);m={x:g,y:w,w:x,h:b}}return{x:f,y:d,h:u,w:l,excavation:m}}(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})();function tE(e){const t=e,{value:n,size:r=qS,level:a=YS,bgColor:o=GS,fgColor:s=QS,includeMargin:c=KS,imageSettings:l}=t,u=VS(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let f=La.QrCode.encodeText(n,HS[a]).getModules();const d=c?qx:0,m=f.length+d*2,g=eE(f,r,c,l);let w=null;l!=null&&g!=null&&(g.excavation!=null&&(f=ZS(f,g.excavation)),w=pt.createElement("image",{xlinkHref:l.src,height:g.h,width:g.w,x:g.x+d,y:g.y+d,preserveAspectRatio:"none"}));const x=JS(f,d);return pt.createElement("svg",BS({height:r,width:r,viewBox:`0 0 ${m} ${m}`},u),pt.createElement("path",{fill:o,d:`M0,0 h${m}v${m}H0z`,shapeRendering:"crispEdges"}),pt.createElement("path",{fill:s,d:x,shapeRendering:"crispEdges"}),w)}const nE=({machine:e})=>{const t={id:e.id,serialNumber:e.serialNumber,model:e.model,brand:e.brand,type:e.type,status:e.status},n=JSON.stringify(t);return i.jsx(tE,{value:n,size:250,level:"H",includeMargin:!0,bgColor:"#ffffff",fgColor:"#000000"})},rE=({machineId:e,value:t,onChange:n,label:r="Contador",required:a=!1,readOnly:o=!1,className:s=""})=>{const[c,l]=p.useState(!1),[u,f]=p.useState(null),d=fe(m=>m.counter);return p.useEffect(()=>{(async()=>{if(e){if(l(!0),d&&d.counters){const g=d.counters.filter(w=>w.machineId===e);if(g.length>0){const w=g.sort((x,b)=>new Date(b.timestamp).getTime()-new Date(x.timestamp).getTime())[0];f(w.newCounter),l(!1);return}}try{const g=await oC(e);f(g)}catch(g){console.error("Error fetching latest counter:",g)}finally{l(!1)}}})()},[e,d]),p.useEffect(()=>{t===""&&u!==null&&!o&&n(u.toString())},[u,t,n,o]),i.jsxs("div",{className:`grid w-full gap-1.5 ${s}`,children:[i.jsx(P,{htmlFor:"counter",children:r}),i.jsxs("div",{className:"relative",children:[i.jsx(F,{id:"counter",type:"number",min:"0",placeholder:c?"Cargando...":"0",value:t,onChange:m=>n(m.target.value),required:a,readOnly:o,className:c?"opacity-70":""}),u!==null&&!o&&i.jsx("div",{className:"absolute right-0 top-0 h-full flex items-center pr-3",children:i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Último: ",u]})})]}),u!==null&&t&&parseInt(t)<u&&i.jsxs("p",{className:"text-xs text-red-500 mt-1",children:["¡Advertencia! El contador es menor que el último valor registrado (",u,")"]})]})},aE=()=>{var Ge,Zt,xn,ba,Hs;const e=hn(),{machines:t}=fe(N=>N.machines),{clients:n}=fe(N=>N.clients),[r,a]=p.useState(""),[o,s]=p.useState(!1),[c,l]=p.useState({serialNumber:"",type:"arcade",model:"",brand:"",purchasePrice:"",purchaseDate:"",initialCounter:"",description:"",hasManual:!1,hasWarrantyDoc:!1}),[u,f]=p.useState(!1),[d,m]=p.useState(null),[g,w]=p.useState(null),[x,b]=p.useState({responsibleName:"",responsibleId:"",acceptedTerms:!1,installationDate:new Date().toISOString().split("T")[0],lastCounter:"",signatureData:"",technician:""}),[y,v]=p.useState(!1),[h,j]=p.useState(null),[C,E]=p.useState({fromClientId:0,toClientId:null,responsibleName:"",responsibleId:"",transferDate:new Date().toISOString().split("T")[0],currentCounter:"",observations:"",technician:"",signatureData:""}),[S,T]=p.useState(null),[$,L]=p.useState(!1),[V,B]=p.useState(null);p.useEffect(()=>{e(Vn()),e(dr()),e(fr())},[e]),p.useEffect(()=>{if(h){const N=t.find(D=>D.id===h);if(N&&typeof N.clientId=="string"){const D=N.clientId;E(be=>({...be,fromClientId:parseInt(D),currentCounter:(N.currentCounter??0).toString()}))}}},[h,t]);const ue=t.filter(N=>{var D,be,yn;return((D=N.serialNumber)==null?void 0:D.toLowerCase().includes(r.toLowerCase()))||((be=N.model)==null?void 0:be.toLowerCase().includes(r.toLowerCase()))||((yn=N.brand)==null?void 0:yn.toLowerCase().includes(r.toLowerCase()))}),W=t.filter(N=>N.status==="warehouse"),H=t.filter(N=>N.status==="installed"),G=t.reduce((N,D)=>{const be=D.type||"unknown";return N[be]||(N[be]={total:0,installed:0,warehouse:0}),N[be].total+=1,D.status==="installed"?N[be].installed+=1:D.status==="warehouse"&&(N[be].warehouse+=1),N},{}),se=async N=>{N.preventDefault();try{const be={...{...c,cost:parseFloat(c.purchasePrice||"0"),status:"warehouse",initialCounter:parseInt(c.initialCounter||"0"),splitPercentage:50,description:c.description||"",hasManual:c.hasManual||!1,hasWarrantyDoc:c.hasWarrantyDoc||!1,warranty:0,supplier:"",initialStatus:"new"},status:"warehouse"},yn=await e(uo(be)).unwrap();yn&&yn.id&&await e(mr({machineId:yn.id,newCounter:parseInt(c.initialCounter||"0"),source:"installation"})),ne({title:"¡Máquina creada!",description:"La máquina ha sido añadida exitosamente al inventario.",icon:i.jsx(Vl,{className:"h-5 w-5 text-green-500"}),duration:3e3}),s(!1),l({serialNumber:"",type:"arcade",model:"",brand:"",purchasePrice:"",purchaseDate:"",initialCounter:"",description:"",hasManual:!1,hasWarrantyDoc:!1})}catch(D){console.error("Error al crear la máquina:",D),ne({title:"Error",description:"No se pudo crear la máquina. Por favor, intente nuevamente.",variant:"destructive"})}},R=async N=>{if(N.preventDefault(),!d||!g){ne({title:"Error",description:"Por favor selecciona una máquina y un cliente.",variant:"destructive"});return}if(!x.acceptedTerms){ne({title:"Error",description:"Debes aceptar las condiciones de instalación.",variant:"destructive"});return}if(!x.lastCounter||!x.technician){ne({title:"Error",description:"Todos los campos obligatorios deben ser completados.",variant:"destructive"});return}if(!x.signatureData){ne({title:"Error",description:"Se requiere la firma digital para completar la instalación.",variant:"destructive"});return}const D=t.find(be=>be.id===d);if(!D){ne({title:"Error",description:"No se pudo encontrar la máquina seleccionada.",variant:"destructive"});return}try{const be=parseInt(x.lastCounter)||D.currentCounter;await e(fg({machineId:d,clientId:g,installationData:{responsibleName:x.responsibleName,responsibleId:x.responsibleId,acceptedTerms:x.acceptedTerms,acceptedResponsibility:!0,acceptanceDate:new Date().toISOString(),installationDate:x.installationDate,installationCounter:be,location:"N/A",observations:"Firma digital registrada",technician:x.technician}})).unwrap(),await e(mr({machineId:d,newCounter:be,source:"installation",notes:`Instalación en cliente ID: ${g}`})),console.log("Signature data stored:",{machineId:d,clientId:g,type:"installation",date:new Date().toISOString(),signatureData:x.signatureData}),ne({title:"¡Máquina instalada!",description:"La máquina ha sido instalada exitosamente con firma digital.",icon:i.jsx(Vl,{className:"h-5 w-5 text-green-500"}),duration:3e3}),f(!1),M(),e(Vn())}catch(be){console.error("Error al instalar la máquina:",be),ne({title:"Error",description:"No se pudo instalar la máquina. Por favor, intente nuevamente.",variant:"destructive"})}},U=async N=>{if(N.preventDefault(),!h||!C.toClientId){ne({title:"Error",description:"Por favor selecciona un cliente destino válido.",variant:"destructive"});return}if(C.fromClientId===C.toClientId){ne({title:"Error",description:"El cliente origen y destino no pueden ser el mismo.",variant:"destructive"});return}if(!C.responsibleName||!C.responsibleId||!C.technician){ne({title:"Error",description:"Todos los campos obligatorios deben ser completados.",variant:"destructive"});return}if(!C.signatureData){ne({title:"Error",description:"Se requiere la firma digital para completar el traslado.",variant:"destructive"});return}try{const D=parseInt(C.currentCounter)||0;await e(mg({machineId:h,fromClientId:C.fromClientId,toClientId:C.toClientId,transferData:{responsibleName:C.responsibleName,responsibleId:C.responsibleId,transferDate:C.transferDate,currentCounter:D,observations:C.observations||"Traslado estándar",technician:C.technician,signatureData:C.signatureData}})).unwrap(),await e(mr({machineId:h,newCounter:D,source:"transfer",notes:`Traslado desde cliente ID: ${C.fromClientId} a cliente ID: ${C.toClientId}`})),ne({title:"¡Máquina trasladada!",description:"La máquina ha sido trasladada exitosamente al nuevo cliente.",icon:i.jsx(Vl,{className:"h-5 w-5 text-green-500"}),duration:3e3}),v(!1),O(),e(Vn())}catch(D){console.error("Error al trasladar la máquina:",D),ne({title:"Error",description:"No se pudo trasladar la máquina. Por favor, intente nuevamente.",variant:"destructive"})}},M=()=>{m(null),w(null),b({responsibleName:"",responsibleId:"",acceptedTerms:!1,installationDate:new Date().toISOString().split("T")[0],lastCounter:"",signatureData:"",technician:""})},O=()=>{j(null),E({fromClientId:0,toClientId:null,responsibleName:"",responsibleId:"",transferDate:new Date().toISOString().split("T")[0],currentCounter:"",observations:"",technician:"",signatureData:""})},_=async N=>{if(window.confirm("¿Estás seguro de que deseas eliminar esta máquina?"))try{await e(dg(N)).unwrap(),ne({title:"Máquina eliminada",description:"La máquina ha sido eliminada correctamente.",duration:3e3})}catch(D){console.error("Error al eliminar la máquina:",D),ne({title:"Error",description:"No se pudo eliminar la máquina.",variant:"destructive"})}},K=N=>{B(N),e(pg(N)),L(!0)},Se=N=>({arcade:"Arcade",pinball:"Pinball",redemption:"Redención",darts:"Diana Electrónica",foosball:"Futbolín",billiards:"Billar",other:"Otro"})[N]||"Desconocido",Jt=N=>{if(!N)return"-";const D=n.find(be=>be.id.toString()===N);return D?D.name:`Cliente ID: ${N}`};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Máquinas"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona tu inventario de máquinas"})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[i.jsxs("div",{className:"space-x-2",children:[i.jsxs(tt,{open:o,onOpenChange:s,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"})," Nueva Máquina"]})}),i.jsxs(ze,{className:"sm:max-w-[600px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Añadir Nueva Máquina"}),i.jsx(Be,{children:"Por favor, completa los datos de la nueva máquina."})]}),i.jsxs("form",{onSubmit:se,className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"serialNumber",children:"Número de Serie"}),i.jsx(F,{id:"serialNumber",placeholder:"Número de serie único",value:c.serialNumber,onChange:N=>l(D=>({...D,serialNumber:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"type",children:"Tipo de Máquina"}),i.jsxs("select",{id:"type","aria-label":"Tipo de máquina",value:c.type,onChange:N=>l(D=>({...D,type:N.target.value})),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar tipo"}),i.jsx("option",{value:"arcade",children:"Arcade"}),i.jsx("option",{value:"pinball",children:"Pinball"}),i.jsx("option",{value:"redemption",children:"Redención"}),i.jsx("option",{value:"darts",children:"Diana Electrónica"}),i.jsx("option",{value:"foosball",children:"Futbolín"}),i.jsx("option",{value:"billiards",children:"Billar"}),i.jsx("option",{value:"other",children:"Otro"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"model",children:"Modelo"}),i.jsx(F,{id:"model",placeholder:"Modelo de la máquina",value:c.model,onChange:N=>l(D=>({...D,model:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"brand",children:"Marca"}),i.jsx(F,{id:"brand",placeholder:"Marca del fabricante",value:c.brand,onChange:N=>l(D=>({...D,brand:N.target.value})),required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"purchasePrice",children:"Precio de Compra (€)"}),i.jsx(F,{id:"purchasePrice",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:c.purchasePrice,onChange:N=>l(D=>({...D,purchasePrice:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"purchaseDate",children:"Fecha de Compra"}),i.jsx(F,{id:"purchaseDate",type:"date",value:c.purchaseDate,onChange:N=>l(D=>({...D,purchaseDate:N.target.value})),required:!0})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"initialCounter",children:"Contador Inicial"}),i.jsx(F,{id:"initialCounter",type:"number",min:"0",placeholder:"0",value:c.initialCounter,onChange:N=>l(D=>({...D,initialCounter:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"description",children:"Descripción"}),i.jsx("textarea",{id:"description",rows:3,placeholder:"Descripción detallada de la máquina...",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:c.description,onChange:N=>l(D=>({...D,description:N.target.value}))})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{children:"Documentación"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"hasManual","aria-label":"Tiene manual de usuario",className:"h-4 w-4 rounded border-gray-300",checked:c.hasManual,onChange:N=>l(D=>({...D,hasManual:N.target.checked}))}),i.jsx(P,{htmlFor:"hasManual",className:"text-sm font-normal",children:"Manual de usuario"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"hasWarrantyDoc","aria-label":"Tiene documento de garantía",className:"h-4 w-4 rounded border-gray-300",checked:c.hasWarrantyDoc,onChange:N=>l(D=>({...D,hasWarrantyDoc:N.target.checked}))}),i.jsx(P,{htmlFor:"hasWarrantyDoc",className:"text-sm font-normal",children:"Documento de garantía"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(A,{type:"button",variant:"outline",onClick:()=>{s(!1),l({serialNumber:"",type:"arcade",model:"",brand:"",purchasePrice:"",purchaseDate:"",initialCounter:"",description:"",hasManual:!1,hasWarrantyDoc:!1})},children:"Cancelar"}),i.jsx(A,{type:"submit",variant:"default",children:"Guardar Máquina"})]})]})]})]}),i.jsxs(tt,{open:u,onOpenChange:f,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"outline",children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"})," Instalación"]})}),i.jsxs(ze,{className:"sm:max-w-[600px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Instalar Máquina en Cliente"}),i.jsx(Be,{children:"Selecciona una máquina y un cliente para realizar la instalación."})]}),i.jsxs("form",{onSubmit:R,className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"machine",children:"Máquina"}),i.jsxs("select",{id:"machine","aria-label":"Seleccionar máquina para instalar",value:d||"",onChange:N=>m(N.target.value||null),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar máquina"}),W.map(N=>i.jsxs("option",{value:N.id,children:[N.serialNumber," - ",N.model," (",N.brand,")"]},N.id))]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"client",children:"Cliente"}),i.jsxs("select",{id:"client","aria-label":"Seleccionar cliente para instalar",value:g||"",onChange:N=>w(N.target.value?parseInt(N.target.value):null),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar cliente"}),n.map(N=>i.jsx("option",{value:N.id,children:N.name},N.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"responsibleName",children:"Nombre del Responsable"}),i.jsx(F,{id:"responsibleName",placeholder:"Nombre completo",value:x.responsibleName,onChange:N=>b(D=>({...D,responsibleName:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"responsibleId",children:"DNI/NIE del Responsable"}),i.jsx(F,{id:"responsibleId",placeholder:"Documento de identidad",value:x.responsibleId,onChange:N=>b(D=>({...D,responsibleId:N.target.value})),required:!0})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"installationDate",children:"Fecha de Instalación"}),i.jsx(F,{id:"installationDate",type:"date",value:x.installationDate,onChange:N=>b(D=>({...D,installationDate:N.target.value})),required:!0})]}),i.jsx(rE,{machineId:d,value:x.lastCounter,onChange:N=>b(D=>({...D,lastCounter:N})),label:"Último Contador Registrado",required:!0}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"technician",children:"Técnico Responsable"}),i.jsx(F,{id:"technician",placeholder:"Nombre del técnico que realiza la instalación",value:x.technician,onChange:N=>b(D=>({...D,technician:N.target.value})),required:!0})]}),i.jsx(Ko,{value:x.signatureData,onChange:N=>b(D=>({...D,signatureData:N})),label:"Firma Digital del Responsable"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"acceptedTerms","aria-label":"Aceptar términos de instalación",className:"h-4 w-4 rounded border-gray-300",checked:x.acceptedTerms,onChange:N=>b(D=>({...D,acceptedTerms:N.target.checked})),required:!0}),i.jsx(P,{htmlFor:"acceptedTerms",className:"text-sm font-normal",children:"El cliente acepta las condiciones de instalación y uso de la máquina"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(A,{type:"button",variant:"outline",onClick:()=>{f(!1),M()},children:"Cancelar"}),i.jsx(A,{type:"submit",variant:"default",children:"Completar Instalación"})]})]})]})]}),i.jsx(tt,{open:y,onOpenChange:v,children:i.jsxs(ze,{className:"sm:max-w-[600px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Trasladar Máquina a Otro Cliente"}),i.jsx(Be,{children:"Completa la información para trasladar la máquina a un nuevo cliente."})]}),i.jsxs("form",{onSubmit:U,className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{children:"Máquina a Trasladar"}),i.jsx("div",{className:"p-3 bg-muted rounded-md",children:h&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"font-medium",children:[(Ge=t.find(N=>N.id===h))==null?void 0:Ge.serialNumber," -",(Zt=t.find(N=>N.id===h))==null?void 0:Zt.model]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cliente actual: ",Jt((xn=t.find(N=>N.id===h))==null?void 0:xn.clientId)]})]})})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"toClientId",children:"Cliente Destino"}),i.jsxs("select",{id:"toClientId","aria-label":"Seleccionar cliente destino para traslado",value:C.toClientId||"",onChange:N=>E(D=>({...D,toClientId:N.target.value?parseInt(N.target.value):null})),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar cliente destino"}),n.filter(N=>N.id!==C.fromClientId).map(N=>i.jsx("option",{value:N.id,children:N.name},N.id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"transferResponsibleName",children:"Nombre del Responsable"}),i.jsx(F,{id:"transferResponsibleName",placeholder:"Nombre completo",value:C.responsibleName,onChange:N=>E(D=>({...D,responsibleName:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"transferResponsibleId",children:"DNI/NIE del Responsable"}),i.jsx(F,{id:"transferResponsibleId",placeholder:"Documento de identidad",value:C.responsibleId,onChange:N=>E(D=>({...D,responsibleId:N.target.value})),required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"transferDate",children:"Fecha de Traslado"}),i.jsx(F,{id:"transferDate",type:"date",value:C.transferDate,onChange:N=>E(D=>({...D,transferDate:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"currentCounter",children:"Contador Actual"}),i.jsx(F,{id:"currentCounter",type:"number",min:"0",placeholder:"Contador actual",value:C.currentCounter,onChange:N=>E(D=>({...D,currentCounter:N.target.value})),required:!0})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"transferTechnician",children:"Técnico Responsable"}),i.jsx(F,{id:"transferTechnician",placeholder:"Nombre del técnico que realiza el traslado",value:C.technician,onChange:N=>E(D=>({...D,technician:N.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"transferObservations",children:"Observaciones"}),i.jsx("textarea",{id:"transferObservations",rows:2,placeholder:"Observaciones sobre el traslado...",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:C.observations,onChange:N=>E(D=>({...D,observations:N.target.value}))})]}),i.jsx(Ko,{value:C.signatureData,onChange:N=>E(D=>({...D,signatureData:N})),label:"Firma Digital del Responsable"}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(A,{type:"button",variant:"outline",onClick:()=>{v(!1),O()},children:"Cancelar"}),i.jsx(A,{type:"submit",variant:"default",children:"Completar Traslado"})]})]})]})})]}),i.jsxs("div",{className:"space-x-2",children:[i.jsxs(A,{variant:"violet",children:[i.jsx(_d,{className:"mr-2 h-4 w-4"})," Importar"]}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ci,{className:"mr-2 h-4 w-4"})," Exportar"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(Us,{className:"h-5 w-5 text-muted-foreground"}),i.jsx(F,{placeholder:"Buscar por número de serie, modelo o marca...",value:r,onChange:N=>a(N.target.value),className:"max-w-sm"})]}),i.jsx(tt,{open:S!==null,onOpenChange:N=>!N&&T(null),children:i.jsxs(ze,{className:"sm:max-w-md",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Código QR de la Máquina"}),i.jsx(Be,{children:"Escanea o imprime el código QR para acceder a la información de la máquina"})]}),i.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[i.jsx("div",{className:"w-72 h-72 bg-violet-500 rounded-xl p-2 shadow-lg flex items-center justify-center",children:i.jsx("div",{className:"w-[80%] h-[80%] bg-white rounded-lg flex items-center justify-center",children:i.jsx("div",{className:"w-full h-full",children:S&&i.jsx(nE,{machine:S})})})}),i.jsxs("div",{className:"w-full space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Código:"}),i.jsx("p",{className:"text-muted-foreground",children:S==null?void 0:S.serialNumber})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Tipo:"}),i.jsx("p",{className:"text-muted-foreground",children:S==null?void 0:S.type})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Modelo:"}),i.jsx("p",{className:"text-muted-foreground",children:S==null?void 0:S.model})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Estado:"}),i.jsx("p",{className:"text-muted-foreground",children:S&&Dl(S.status).label})]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>window.print(),children:[i.jsx(ru,{className:"mr-2 h-4 w-4"}),"Imprimir QR"]}),i.jsxs(A,{variant:"outline",className:"w-full",onClick:()=>{ne({title:"Compartir",description:"Función de compartir en desarrollo"})},children:[i.jsx(pS,{className:"mr-2 h-4 w-4"}),"Compartir QR"]})]})]})]})]})}),i.jsx(tt,{open:$,onOpenChange:L,children:i.jsxs(ze,{className:"sm:max-w-[800px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Historial de Recaudaciones"}),i.jsxs(Be,{children:[V&&((ba=t.find(N=>N.id===V))==null?void 0:ba.serialNumber)," -",V&&((Hs=t.find(N=>N.id===V))==null?void 0:Hs.model)]})]}),V&&i.jsx(Ld,{clientId:null,machineId:V})]})}),i.jsxs(ee,{className:"bg-card",children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{children:"Listado de Máquinas"})}),i.jsx(te,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full table-auto",children:[i.jsx("thead",{className:"text-sm text-muted-foreground",children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"px-4 py-3 text-left w-8",children:"QR"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Código"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Tipo"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Modelo"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Cliente Asignado"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Estado"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),i.jsx("tbody",{children:ue.map(N=>i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsx(A,{size:"icon",className:"bg-lime-500 hover:bg-lime-600 text-blue-900",onClick:()=>T(N),children:i.jsx(uS,{className:"h-4 w-4"})})}),i.jsx("td",{className:"px-4 py-3",children:N.serialNumber}),i.jsx("td",{className:"px-4 py-3",children:N.type}),i.jsx("td",{className:"px-4 py-3",children:N.model}),i.jsx("td",{className:"px-4 py-3",children:Jt(N.clientId)}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:Dl(N.status).className,children:Dl(N.status).label})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[N.status==="installed"&&i.jsxs(A,{variant:"outline",size:"sm",onClick:()=>K(N.id),children:[i.jsx(mx,{className:"mr-1 h-4 w-4"}),"Historial"]}),N.status==="warehouse"?i.jsx(A,{className:"bg-lime-500 hover:bg-lime-600 text-violet-700",size:"sm",onClick:()=>{m(N.id),f(!0)},children:"Instalación"}):i.jsxs(A,{className:"bg-lime-500 hover:bg-lime-600 text-violet-700",size:"sm",onClick:()=>{j(N.id),v(!0)},children:[i.jsx(KN,{className:"mr-1 h-3 w-3"}),"Traslado"]}),i.jsx(A,{variant:"violet",size:"icon",onClick:()=>{ne({title:"Editar",description:"Función de edición en desarrollo"})},children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:i.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})})}),i.jsx(A,{variant:"violet",size:"icon",onClick:()=>_(N.id),children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[i.jsx("path",{d:"M3 6h18"}),i.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),i.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})})]})})]},N.id))})]})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[i.jsxs(ee,{className:"bg-card",children:[i.jsxs(ve,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[i.jsxs(ge,{className:"text-xl font-bold",children:[i.jsx(JN,{className:"inline-block mr-2 h-5 w-5 text-violet-500"}),"Máquinas Instaladas"]}),i.jsx("span",{className:"text-2xl font-bold text-violet-500",children:H.length})]}),i.jsx(te,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(G).filter(([N,D])=>D.installed>0).map(([N,D])=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-violet-50 dark:bg-violet-900/20",children:[i.jsx("span",{className:"font-medium",children:Se(N)}),i.jsx("span",{className:"font-bold text-violet-600 dark:text-violet-300",children:D.installed})]},`installed-${N}`))}),H.length>0?i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Últimas instalaciones"}),i.jsx("div",{className:"space-y-2",children:H.sort((N,D)=>new Date(D.updatedAt).getTime()-new Date(N.updatedAt).getTime()).slice(0,3).map(N=>i.jsxs("div",{className:"flex justify-between items-center p-2 rounded-md bg-background border border-border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:N.serialNumber}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.model," (",N.brand,")"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Cliente: ",Jt(N.clientId)]})})]},`recent-${N.id}`))})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[i.jsx("p",{className:"text-muted-foreground",children:"No hay máquinas instaladas"}),i.jsxs(A,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>f(!0),children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Instalar máquina"]})]})]})})]}),i.jsxs(ee,{className:"bg-card",children:[i.jsxs(ve,{className:"pb-2 flex flex-row items-center justify-between space-y-0",children:[i.jsxs(ge,{className:"text-xl font-bold",children:[i.jsx(lS,{className:"inline-block mr-2 h-5 w-5 text-lime-500"}),"Máquinas en Almacén"]}),i.jsx("span",{className:"text-2xl font-bold text-lime-500",children:W.length})]}),i.jsx(te,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(G).filter(([N,D])=>D.warehouse>0).map(([N,D])=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-lime-50 dark:bg-lime-900/20",children:[i.jsx("span",{className:"font-medium",children:Se(N)}),i.jsx("span",{className:"font-bold text-lime-600 dark:text-lime-300",children:D.warehouse})]},`warehouse-${N}`))}),W.length>0?i.jsxs("div",{className:"mt-4",children:[i.jsx("h4",{className:"text-sm font-medium mb-2",children:"Disponibles para instalación"}),i.jsx("div",{className:"space-y-2",children:W.sort((N,D)=>new Date(D.createdAt).getTime()-new Date(N.createdAt).getTime()).slice(0,3).map(N=>i.jsxs("div",{className:"flex justify-between items-center p-2 rounded-md bg-background border border-border",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:N.serialNumber}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[N.model," (",N.brand,")"]})]}),i.jsx(A,{size:"sm",className:"bg-lime-500 hover:bg-lime-600 text-violet-700",onClick:()=>{m(N.id),f(!0)},children:"Instalar"})]},`available-${N.id}`))})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center py-6 text-center",children:[i.jsx("p",{className:"text-muted-foreground",children:"No hay máquinas en almacén"}),i.jsxs(A,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>s(!0),children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"}),"Añadir máquina"]})]})]})})]})]})]})},iE=({onSuccess:e,onCancel:t})=>{const n=hn(),{machines:r}=fe(h=>h.machines),{clients:a}=fe(h=>h.clients),[o,s]=p.useState(null),[c,l]=p.useState([]),[u,f]=p.useState([]),[d,m]=p.useState({date:new Date().toISOString().split("T")[0],staffMember:"",collectionMethod:"cash",notes:"",ticketNumber:mn().substring(0,8).toUpperCase(),invoiceNumber:"",signatureData:"",distributionPercentage:50}),[g,w]=p.useState({});p.useEffect(()=>{n(Vn()),n(dr()),n(fr())},[n]),p.useEffect(()=>{m(h=>({...h,ticketNumber:mn().substring(0,8).toUpperCase()}))},[]),p.useEffect(()=>{if(o){const h=r.filter(j=>j.status==="installed"&&j.clientId===o.toString());l(h),f([]),w({})}else l([]),f([]),w({})},[o,r]);const x=h=>{if(u.includes(h)){f(C=>C.filter(E=>E!==h));const j={...g};delete j[h],w(j)}else{f(C=>[...C,h]);const j=r.find(C=>C.id===h);j&&w(C=>({...C,[h]:{previousCounter:j.currentCounter||0,currentCounter:j.currentCounter||0,difference:0,amount:0}}))}},b=(h,j)=>{const C=r.find($=>$.id===h);if(!C)return;const E=C.currentCounter||0,S=bj(E,j),T=Bi(S,d.distributionPercentage);w($=>({...$,[h]:{previousCounter:E,currentCounter:j,difference:S,amount:T}}))},y=()=>Object.values(g).reduce((h,j)=>h+j.amount,0),v=async h=>{if(h.preventDefault(),!o||u.length===0){ne({title:"Error",description:"Por favor selecciona un cliente y al menos una máquina.",variant:"destructive"});return}if(!d.staffMember){ne({title:"Error",description:"Por favor ingresa el nombre del técnico.",variant:"destructive"});return}if(!d.signatureData){ne({title:"Error",description:"Se requiere la firma digital para completar la recaudación.",variant:"destructive"});return}try{for(const j of u){const C=g[j];if(!C)continue;await n(mr({machineId:j,newCounter:C.currentCounter,source:"collection",notes:`Recaudación: ${C.amount}€`}));const E={machineId:j,clientId:o,amount:C.amount,date:d.date,previousCounter:C.previousCounter,currentCounter:C.currentCounter,staffMember:d.staffMember,collectionMethod:d.collectionMethod,notes:d.notes||void 0,ticketNumber:d.ticketNumber||void 0,invoiceNumber:d.invoiceNumber||void 0,signatureData:d.signatureData,distributionPercentage:d.distributionPercentage};await n(vg(E)).unwrap()}ne({title:"¡Recaudación registrada!",description:`Se han registrado ${u.length} recaudaciones exitosamente.`,duration:3e3}),e&&e()}catch(j){console.error("Error al registrar la recaudación:",j),ne({title:"Error",description:"No se pudo registrar la recaudación. Por favor, intente nuevamente.",variant:"destructive"})}};return i.jsxs("form",{onSubmit:v,className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"date",children:"Fecha de Recaudación"}),i.jsx(F,{id:"date",type:"date",value:d.date,onChange:h=>m(j=>({...j,date:h.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"client",children:"Cliente"}),i.jsxs("select",{id:"client",title:"Seleccionar cliente",value:o||"",onChange:h=>s(h.target.value?parseInt(h.target.value):null),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar cliente"}),a.map(h=>i.jsx("option",{value:h.id,children:h.name},h.id))]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"distributionPercentage",children:"Porcentaje de Distribución"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"distributionPercentage",value:"40",checked:d.distributionPercentage===40,onChange:()=>{m(j=>({...j,distributionPercentage:40}));const h={...g};Object.keys(h).forEach(j=>{const C=h[j];h[j]={...C,amount:Bi(C.difference,40)}}),w(h)},className:"h-4 w-4 text-primary"}),i.jsx("span",{children:"40%"})]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"distributionPercentage",value:"50",checked:d.distributionPercentage===50,onChange:()=>{m(j=>({...j,distributionPercentage:50}));const h={...g};Object.keys(h).forEach(j=>{const C=h[j];h[j]={...C,amount:Bi(C.difference,50)}}),w(h)},className:"h-4 w-4 text-primary"}),i.jsx("span",{children:"50%"})]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"distributionPercentage",value:"60",checked:d.distributionPercentage===60,onChange:()=>{m(j=>({...j,distributionPercentage:60}));const h={...g};Object.keys(h).forEach(j=>{const C=h[j];h[j]={...C,amount:Bi(C.difference,60)}}),w(h)},className:"h-4 w-4 text-primary"}),i.jsx("span",{children:"60%"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Porcentaje de ingresos que corresponde al operador"})]}),o&&c.length>0?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Máquinas Instaladas"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:c.map(h=>{var j,C,E,S,T;return i.jsxs("div",{className:`border rounded-md p-4 ${u.includes(h.id)?"border-primary bg-primary/5":"border-border"}`,children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:h.serialNumber}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.brand," ",h.model]})]}),i.jsx("input",{type:"checkbox",title:`Seleccionar máquina ${h.serialNumber}`,checked:u.includes(h.id),onChange:()=>x(h.id),className:"h-5 w-5"})]}),u.includes(h.id)&&i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(P,{htmlFor:`prev-counter-${h.id}`,children:"Contador Anterior"}),i.jsx(F,{id:`prev-counter-${h.id}`,type:"number",value:((j=g[h.id])==null?void 0:j.previousCounter)||0,readOnly:!0,className:"bg-muted"})]}),i.jsxs("div",{children:[i.jsx(P,{htmlFor:`curr-counter-${h.id}`,children:"Contador Actual"}),i.jsx(F,{id:`curr-counter-${h.id}`,type:"number",min:((C=g[h.id])==null?void 0:C.previousCounter)||0,value:((E=g[h.id])==null?void 0:E.currentCounter)||0,onChange:$=>b(h.id,parseInt($.target.value)||0),required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(P,{children:"Diferencia"}),i.jsx("div",{className:"h-10 flex items-center px-3 border rounded-md bg-muted",children:((S=g[h.id])==null?void 0:S.difference)||0})]}),i.jsxs("div",{children:[i.jsxs(P,{children:["Importe (",d.distributionPercentage,"%)"]}),i.jsx("div",{className:"h-10 flex items-center px-3 border rounded-md bg-muted font-medium",children:rn(((T=g[h.id])==null?void 0:T.amount)||0)})]})]})]})]},h.id)})})]}):o?i.jsx("div",{className:"py-4 text-center text-muted-foreground",children:"No hay máquinas instaladas para este cliente."}):null,u.length>0&&i.jsxs("div",{className:"space-y-4 border-t pt-4 mt-4",children:[i.jsx("h3",{className:"text-lg font-medium",children:"Detalles de la Recaudación"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"staffMember",children:"Técnico"}),i.jsx(F,{id:"staffMember",placeholder:"Nombre del técnico que realiza la recaudación",value:d.staffMember,onChange:h=>m(j=>({...j,staffMember:h.target.value})),required:!0})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"collectionMethod",children:"Método de Recaudación"}),i.jsxs("select",{id:"collectionMethod",title:"Seleccionar método de recaudación",value:d.collectionMethod,onChange:h=>m(j=>({...j,collectionMethod:h.target.value})),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"cash",children:"Efectivo"}),i.jsx("option",{value:"transfer",children:"Transferencia"}),i.jsx("option",{value:"card",children:"Tarjeta"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"ticketNumber",children:"Número de Ticket"}),i.jsx(F,{id:"ticketNumber",value:d.ticketNumber,onChange:h=>m(j=>({...j,ticketNumber:h.target.value}))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Generado automáticamente, puede modificarse"})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"invoiceNumber",children:"Número de Factura"}),i.jsx(F,{id:"invoiceNumber",placeholder:"Opcional",value:d.invoiceNumber,onChange:h=>m(j=>({...j,invoiceNumber:h.target.value}))})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"notes",children:"Notas"}),i.jsx("textarea",{id:"notes",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Observaciones adicionales",value:d.notes,onChange:h=>m(j=>({...j,notes:h.target.value}))})]}),i.jsxs("div",{className:"bg-muted p-4 rounded-md",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"font-medium",children:"Total a Recaudar:"}),i.jsx("span",{className:"text-xl font-bold",children:rn(y())})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Suma de todos los importes calculados con ",d.distributionPercentage,"% de distribución"]})]}),i.jsx(Ko,{value:d.signatureData,onChange:h=>m(j=>({...j,signatureData:h})),label:"Firma Digital del Responsable"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t&&i.jsx(A,{type:"button",variant:"outline",onClick:t,children:"Cancelar"}),i.jsx(A,{type:"submit",variant:"default",disabled:u.length===0,children:"Guardar Recaudación"})]})]})},oE=()=>{const{collections:e}=fe(s=>s.collections),{machines:t}=fe(s=>s.machines),{clients:n}=fe(s=>s.clients),r=[...e].sort((s,c)=>new Date(c.createdAt).getTime()-new Date(s.createdAt).getTime()),a=s=>{const c=n.find(l=>l.id===s);return c?c.name:"Cliente desconocido"},o=s=>{const c=t.find(l=>l.id===s);return c?c.serialNumber:"Máquina desconocida"};return i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted",children:i.jsxs("tr",{className:"border-b",children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Fecha"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Acción"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Detalles"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium",children:"Usuario"})]})}),i.jsxs("tbody",{children:[r.map(s=>i.jsxs("tr",{className:"border-b",children:[i.jsx("td",{className:"px-4 py-2 text-sm",children:qr(s.createdAt,!0)}),i.jsx("td",{className:"px-4 py-2 text-sm",children:"Recaudación registrada"}),i.jsxs("td",{className:"px-4 py-2 text-sm",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:a(s.clientId)})," -",i.jsx("span",{className:"ml-1",children:o(s.machineId)})]}),i.jsxs("div",{className:"text-xs text-muted-foreground",children:["Contador: ",s.previousCounter," → ",s.currentCounter," | Distribución: ",s.distributionPercentage||50,"%"]})]}),i.jsx("td",{className:"px-4 py-2 text-sm",children:s.staffMember})]},s.id)),r.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-muted-foreground",children:"No hay registros de auditoría disponibles."})})]})]})})})},sE=()=>{var qd,Yd,Gd;const e=hn(),{collections:t,filteredCollections:n,filters:r}=fe(k=>k.collections),{machines:a}=fe(k=>k.machines),{clients:o}=fe(k=>k.clients),[s,c]=p.useState(""),[l,u]=p.useState(!1),[f,d]=p.useState(!1),[m,g]=p.useState({startDate:r.startDate||"",endDate:r.endDate||"",clientId:((qd=r.clientId)==null?void 0:qd.toString())||"",machineId:r.machineId||"",minAmount:((Yd=r.minAmount)==null?void 0:Yd.toString())||"",maxAmount:((Gd=r.maxAmount)==null?void 0:Gd.toString())||"",staffMember:r.staffMember||""}),[w,x]=p.useState(!1),[b,y]=p.useState(null),[v,h]=p.useState(null),[j,C]=p.useState(!1),[E,S]=p.useState("client"),[T,$]=p.useState("month"),[L,V]=p.useState(""),[B,ue]=p.useState(""),[W,H]=p.useState(""),[G,se]=p.useState(""),[R,U]=p.useState(!1),[M,O]=p.useState(null),[_,K]=p.useState(null),[Se,Jt]=p.useState(!1),[Ge,Zt]=p.useState("date"),[xn,ba]=p.useState("desc");p.useEffect(()=>{e(Vn()),e(dr()),e(fo()),e(fr())},[e]);const N=[...n.filter(k=>{var Me,Re;const q=((Me=o.find(en=>en.id===k.clientId))==null?void 0:Me.name)||"",Qe=((Re=a.find(en=>en.id===k.machineId))==null?void 0:Re.serialNumber)||"";return q.toLowerCase().includes(s.toLowerCase())||Qe.toLowerCase().includes(s.toLowerCase())||k.staffMember.toLowerCase().includes(s.toLowerCase())||k.id.toLowerCase().includes(s.toLowerCase())})].sort((k,q)=>{const Qe=Ge,Me=k[Qe],Re=q[Qe];if(Qe==="date"||Qe==="createdAt"){const Tt=new Date(Me).getTime(),er=new Date(Re).getTime();return!isNaN(Tt)&&!isNaN(er)?xn==="asc"?Tt-er:er-Tt:0}if(typeof Me=="number"&&typeof Re=="number")return xn==="asc"?Me-Re:Re-Me;if(typeof Me=="string"&&typeof Re=="string")return xn==="asc"?Me.toLowerCase().localeCompare(Re.toLowerCase()):Re.toLowerCase().localeCompare(Me.toLowerCase());const en=String(Me??""),me=String(Re??"");return xn==="asc"?en.localeCompare(me):me.localeCompare(en)});p.useEffect(()=>{if(b){const k=t.find(q=>q.id===b);k&&h(k)}else h(null)},[b,t]);const D=k=>{k===Ge?ba(xn==="asc"?"desc":"asc"):(Zt(k),ba("asc"))},be=k=>{k.preventDefault();const q={startDate:m.startDate||null,endDate:m.endDate||null,clientId:m.clientId?parseInt(m.clientId,10):null,machineId:m.machineId||null,minAmount:m.minAmount?parseFloat(m.minAmount):null,maxAmount:m.maxAmount?parseFloat(m.maxAmount):null,staffMember:m.staffMember||null};e(Kj(q)),d(!1)},yn=()=>{e(Xj()),g({startDate:"",endDate:"",clientId:"",machineId:"",minAmount:"",maxAmount:"",staffMember:""}),d(!1)},by=()=>{var Re,en;const k={startDate:L||null,endDate:B||null,clientId:W?parseInt(W):null,machineId:G||null},Qe=t.filter(me=>!(k.startDate&&new Date(me.date)<new Date(k.startDate)||k.endDate&&new Date(me.date)>new Date(k.endDate)||k.clientId&&me.clientId!==k.clientId||k.machineId&&me.machineId!==k.machineId)).map(me=>{const Tt=a.find(qs=>qs.id===me.machineId),er=o.find(qs=>qs.id===me.clientId);return{ID:me.id,Fecha:qr(me.date),Cliente:(er==null?void 0:er.name)||"Desconocido",Máquina:(Tt==null?void 0:Tt.serialNumber)||"Desconocida","Contador Anterior":me.previousCounter,"Contador Actual":me.currentCounter,Diferencia:me.currentCounter-me.previousCounter,Distribución:me.distributionPercentage||50,Importe:me.amount,Técnico:me.staffMember,"Método de Pago":me.collectionMethod||"Efectivo",Notas:me.notes||""}});let Me="Informe_Recaudaciones";if(k.clientId){const me=(Re=o.find(Tt=>Tt.id===k.clientId))==null?void 0:Re.name;Me+=`_Cliente_${me}`}if(k.machineId){const me=(en=a.find(Tt=>Tt.id===k.machineId))==null?void 0:en.serialNumber;Me+=`_Maquina_${me}`}(k.startDate||k.endDate)&&(Me+=`_${k.startDate||"Inicio"}_a_${k.endDate||"Fin"}`),Tm(Qe,Me),ne({title:"Informe generado",description:"El informe ha sido generado y descargado como CSV.",duration:3e3}),C(!1)},Bd=k=>{const q=o.find(Qe=>Qe.id===k);return q?q.name:"Cliente desconocido"},Vd=k=>{const q=a.find(Qe=>Qe.id===k);return q?q.serialNumber:"Máquina desconocida"},Hd=n.reduce((k,q)=>k+q.amount,0),jy=n.length>0?Hd/n.length:0,Cy=n.length>0?Math.max(...n.map(k=>k.amount)):0;return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Recaudaciones"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona los registros de recaudación de tus máquinas."})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs(ee,{children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{className:"text-sm font-medium",children:"Total Recaudado"})}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:rn(Hd)}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[n.length," recaudaciones"]})]})]}),i.jsxs(ee,{children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{className:"text-sm font-medium",children:"Promedio por Recaudación"})}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:rn(jy)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Por cada recaudación registrada"})]})]}),i.jsxs(ee,{children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{className:"text-sm font-medium",children:"Mayor Recaudación"})}),i.jsxs(te,{children:[i.jsx("div",{className:"text-2xl font-bold",children:rn(Cy)}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Valor más alto registrado"})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[i.jsxs("div",{className:"space-x-2",children:[i.jsxs(tt,{open:l,onOpenChange:u,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"})," Nueva Recaudación"]})}),i.jsxs(ze,{className:"sm:max-w-[700px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Registrar Nueva Recaudación"}),i.jsx(Be,{children:"Ingresa los datos de la recaudación realizada."})]}),i.jsx(iE,{onSuccess:()=>u(!1),onCancel:()=>u(!1)})]})]}),i.jsxs(tt,{open:f,onOpenChange:d,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"outline",children:[i.jsx(nS,{className:"mr-2 h-4 w-4"})," Filtros"]})}),i.jsxs(ze,{className:"sm:max-w-[500px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Filtrar Recaudaciones"}),i.jsx(Be,{children:"Aplica filtros para encontrar recaudaciones específicas."})]}),i.jsxs("form",{onSubmit:be,className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"startDate",children:"Fecha Inicio"}),i.jsx(F,{id:"startDate",type:"date",value:m.startDate,onChange:k=>g(q=>({...q,startDate:k.target.value}))})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"endDate",children:"Fecha Fin"}),i.jsx(F,{id:"endDate",type:"date",value:m.endDate,onChange:k=>g(q=>({...q,endDate:k.target.value}))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"clientId",children:"Cliente"}),i.jsxs("select",{id:"clientId","aria-label":"Filtrar por cliente",value:m.clientId,onChange:k=>g(q=>({...q,clientId:k.target.value})),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Todos los clientes"}),o.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"machineId",children:"Máquina"}),i.jsxs("select",{id:"machineId","aria-label":"Filtrar por máquina",value:m.machineId,onChange:k=>g(q=>({...q,machineId:k.target.value})),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Todas las máquinas"}),a.map(k=>i.jsxs("option",{value:k.id,children:[k.serialNumber," - ",k.model]},k.id))]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"minAmount",children:"Importe Mínimo (€)"}),i.jsx(F,{id:"minAmount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:m.minAmount,onChange:k=>g(q=>({...q,minAmount:k.target.value}))})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"maxAmount",children:"Importe Máximo (€)"}),i.jsx(F,{id:"maxAmount",type:"number",min:"0",step:"0.01",placeholder:"0.00",value:m.maxAmount,onChange:k=>g(q=>({...q,maxAmount:k.target.value}))})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"staffMember",children:"Técnico"}),i.jsx(F,{id:"staffMember",placeholder:"Nombre del técnico",value:m.staffMember,onChange:k=>g(q=>({...q,staffMember:k.target.value}))})]}),i.jsxs("div",{className:"flex justify-between pt-4",children:[i.jsx(A,{type:"button",variant:"outline",onClick:yn,children:"Limpiar Filtros"}),i.jsxs("div",{className:"space-x-2",children:[i.jsx(A,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),i.jsx(A,{type:"submit",variant:"default",children:"Aplicar Filtros"})]})]})]})]})]}),i.jsxs(tt,{open:j,onOpenChange:C,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"outline",children:[i.jsx(XN,{className:"mr-2 h-4 w-4"})," Informes"]})}),i.jsxs(ze,{className:"sm:max-w-[500px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Generar Informe"}),i.jsx(Be,{children:"Configura los parámetros para generar un informe de recaudaciones."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"reportType",children:"Tipo de Informe"}),i.jsxs("select",{id:"reportType","aria-label":"Seleccionar tipo de informe",value:E,onChange:k=>S(k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"client",children:"Por Cliente"}),i.jsx("option",{value:"machine",children:"Por Máquina"}),i.jsx("option",{value:"period",children:"Por Período"}),i.jsx("option",{value:"comparative",children:"Comparativo"})]})]}),E==="client"&&i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"reportClientId",children:"Cliente"}),i.jsxs("select",{id:"reportClientId","aria-label":"Seleccionar cliente para informe",value:W,onChange:k=>H(k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Todos los clientes"}),o.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),E==="machine"&&i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"reportMachineId",children:"Máquina"}),i.jsxs("select",{id:"reportMachineId","aria-label":"Seleccionar máquina para informe",value:G,onChange:k=>se(k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Todas las máquinas"}),a.map(k=>i.jsxs("option",{value:k.id,children:[k.serialNumber," - ",k.model]},k.id))]})]}),(E==="period"||E==="comparative")&&i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"reportPeriod",children:"Período"}),i.jsxs("select",{id:"reportPeriod","aria-label":"Seleccionar período para informe",value:T,onChange:k=>$(k.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"day",children:"Diario"}),i.jsx("option",{value:"week",children:"Semanal"}),i.jsx("option",{value:"month",children:"Mensual"}),i.jsx("option",{value:"year",children:"Anual"}),i.jsx("option",{value:"custom",children:"Personalizado"})]})]}),T==="custom"&&i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"reportStartDate",children:"Fecha Inicio"}),i.jsx(F,{id:"reportStartDate",type:"date",value:L,onChange:k=>V(k.target.value)})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"reportEndDate",children:"Fecha Fin"}),i.jsx(F,{id:"reportEndDate",type:"date",value:B,onChange:k=>ue(k.target.value)})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(A,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Cancelar"}),i.jsx(A,{type:"button",variant:"default",onClick:by,children:"Generar Informe"})]})]})]})]}),i.jsxs(tt,{open:R,onOpenChange:U,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"outline",children:[i.jsx(ZN,{className:"mr-2 h-4 w-4"})," Historial"]})}),i.jsxs(ze,{className:"sm:max-w-[700px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Historial de Recaudaciones"}),i.jsx(Be,{children:"Visualiza el historial de recaudaciones por máquina o cliente."})]}),i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"historyClientId",children:"Cliente"}),i.jsxs("select",{id:"historyClientId","aria-label":"Seleccionar cliente para historial",value:_||"",onChange:k=>K(k.target.value?parseInt(k.target.value):null),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Todos los clientes"}),o.map(k=>i.jsx("option",{value:k.id,children:k.name},k.id))]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"historyMachineId",children:"Máquina"}),i.jsxs("select",{id:"historyMachineId","aria-label":"Seleccionar máquina para historial",value:M||"",onChange:k=>O(k.target.value||null),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Todas las máquinas"}),a.map(k=>i.jsxs("option",{value:k.id,children:[k.serialNumber," - ",k.model]},k.id))]})]})]}),i.jsx(Ld,{clientId:_,machineId:M})]})]})]}),i.jsxs(tt,{open:Se,onOpenChange:Jt,children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"outline",children:[i.jsx(nu,{className:"mr-2 h-4 w-4"})," Auditoría"]})}),i.jsxs(ze,{className:"sm:max-w-[700px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Auditoría de Recaudaciones"}),i.jsx(Be,{children:"Registro de cambios y actividades en las recaudaciones."})]}),i.jsx("div",{className:"py-4",children:i.jsx(oE,{})})]})]})]}),i.jsxs("div",{className:"space-x-2",children:[i.jsxs(A,{variant:"violet",onClick:()=>{const k=N.map(q=>{const Qe=a.find(Re=>Re.id===q.machineId),Me=o.find(Re=>Re.id===q.clientId);return{ID:q.id,Fecha:qr(q.date),Cliente:(Me==null?void 0:Me.name)||"Desconocido",Máquina:(Qe==null?void 0:Qe.serialNumber)||"Desconocida","Contador Anterior":q.previousCounter,"Contador Actual":q.currentCounter,Diferencia:q.currentCounter-q.previousCounter,Distribución:q.distributionPercentage||50,Importe:q.amount,Técnico:q.staffMember,"Método de Pago":q.collectionMethod||"Efectivo",Notas:q.notes||""}});Tm(k,"Recaudaciones"),ne({title:"Exportación completada",description:"Los datos han sido exportados a CSV.",duration:3e3})},children:[i.jsx(Ci,{className:"mr-2 h-4 w-4"})," Exportar"]}),i.jsxs(A,{variant:"violet",children:[i.jsx(ru,{className:"mr-2 h-4 w-4"})," Imprimir"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(Us,{className:"h-5 w-5 text-muted-foreground"}),i.jsx(F,{placeholder:"Buscar por cliente, máquina, técnico o ID...",value:s,onChange:k=>c(k.target.value),className:"max-w-sm"})]}),i.jsx(tt,{open:w,onOpenChange:x,children:i.jsxs(ze,{className:"sm:max-w-[600px]",children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Detalles de Recaudación"}),i.jsx(Be,{children:"Información completa de la recaudación seleccionada."})]}),v&&i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"ID de Recaudación"}),i.jsx("p",{className:"text-sm",children:v.id})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Fecha"}),i.jsx("p",{className:"text-sm",children:qr(v.date,!0)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Cliente"}),i.jsx("p",{className:"text-sm",children:Bd(v.clientId)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Máquina"}),i.jsx("p",{className:"text-sm",children:Vd(v.machineId)})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Contador Anterior"}),i.jsx("p",{className:"text-sm",children:v.previousCounter})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Contador Actual"}),i.jsx("p",{className:"text-sm",children:v.currentCounter})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Diferencia"}),i.jsx("p",{className:"text-sm",children:v.currentCounter-v.previousCounter})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Importe"}),i.jsx("p",{className:"text-sm font-bold",children:rn(v.amount)})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Distribución"}),i.jsxs("p",{className:"text-sm",children:[v.distributionPercentage||50,"%"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Técnico"}),i.jsx("p",{className:"text-sm",children:v.staffMember})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Método de Pago"}),i.jsx("p",{className:"text-sm",children:v.collectionMethod||"Efectivo"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Ticket"}),i.jsx("p",{className:"text-sm",children:v.ticketNumber||"-"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Factura"}),i.jsx("p",{className:"text-sm",children:v.invoiceNumber||"-"})]})]}),v.notes&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Notas"}),i.jsx("p",{className:"text-sm",children:v.notes})]}),v.signatureData&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium",children:"Firma Digital"}),i.jsx("div",{className:"mt-2 border rounded-md p-2 bg-background",children:i.jsx("img",{src:v.signatureData,alt:"Firma digital",className:"max-h-[100px] mx-auto"})})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(A,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cerrar"}),i.jsxs(A,{type:"button",variant:"default",onClick:()=>{ne({title:"Impresión",description:"Enviando a impresora...",duration:3e3})},children:[i.jsx(ru,{className:"mr-2 h-4 w-4"})," Imprimir"]})]})]})]})}),i.jsxs(ee,{className:"bg-card",children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{children:"Registro de Recaudaciones"})}),i.jsx(te,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full table-auto",children:[i.jsx("thead",{className:"text-sm text-muted-foreground",children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"px-4 py-3 text-left",children:i.jsxs("button",{className:"flex items-center",onClick:()=>D("id"),children:["ID ",Ge==="id"&&i.jsx(Bl,{className:"ml-1 h-3 w-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left",children:i.jsxs("button",{className:"flex items-center",onClick:()=>D("date"),children:["Fecha ",Ge==="date"&&i.jsx(Bl,{className:"ml-1 h-3 w-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Cliente"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Máquina"}),i.jsx("th",{className:"px-4 py-3 text-right",children:i.jsxs("button",{className:"flex items-center ml-auto",onClick:()=>D("amount"),children:["Importe ",Ge==="amount"&&i.jsx(Bl,{className:"ml-1 h-3 w-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Técnico"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),i.jsxs("tbody",{children:[N.map(k=>i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(nu,{className:"h-4 w-4 mr-2 text-muted-foreground"}),k.id.substring(0,8)]})}),i.jsx("td",{className:"px-4 py-3",children:qr(k.date)}),i.jsx("td",{className:"px-4 py-3 font-medium",children:Bd(k.clientId)}),i.jsx("td",{className:"px-4 py-3",children:Vd(k.machineId)}),i.jsx("td",{className:"px-4 py-3 text-right font-medium",children:rn(k.amount)}),i.jsx("td",{className:"px-4 py-3",children:k.staffMember}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(A,{variant:"violet",size:"sm",onClick:()=>{ne({title:"Editar",description:"Función de edición en desarrollo",duration:3e3})},children:"Editar"}),i.jsx(A,{variant:"default",size:"sm",onClick:()=>{y(k.id),x(!0)},children:"Detalle"})]})})]},k.id)),N.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-muted-foreground",children:"No se encontraron recaudaciones con los filtros aplicados."})})]})]})})})]})]})},lE=[{id:"G001",date:"2023-06-02",description:"Compra de repuestos",category:"Repuestos",amount:250,technician:"Carlos Gómez"},{id:"G002",date:"2023-06-05",description:"Combustible para rutas",category:"Transporte",amount:80,technician:"María López"},{id:"G003",date:"2023-06-08",description:"Reparación máquina PAC-003",category:"Reparaciones",amount:120,technician:"Carlos Gómez"},{id:"G004",date:"2023-06-10",description:"Material de oficina",category:"Administración",amount:45,technician:"María López"},{id:"G005",date:"2023-06-15",description:"Herramientas nuevas",category:"Equipamiento",amount:200,technician:"Carlos Gómez"}],cE=()=>{const[e]=p.useState(lE),[t,n]=p.useState(""),r=e.filter(s=>s.description.toLowerCase().includes(t.toLowerCase())||s.category.toLowerCase().includes(t.toLowerCase())||s.technician.toLowerCase().includes(t.toLowerCase())||s.id.toLowerCase().includes(t.toLowerCase())),a=s=>{const c={year:"numeric",month:"long",day:"numeric"};return new Date(s).toLocaleDateString("es-ES",c)},o=s=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(s);return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-between items-center",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Gastos"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona los gastos operativos de tu negocio."})]})}),i.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[i.jsx("div",{className:"space-x-2",children:i.jsxs(tt,{children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"mr-2 h-4 w-4"})," Nuevo Gasto"]})}),i.jsxs(ze,{children:[i.jsxs(Ue,{children:[i.jsx(We,{children:"Registrar Nuevo Gasto"}),i.jsx(Be,{children:"Ingresa los datos del gasto realizado."})]}),i.jsxs("form",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"date",children:"Fecha"}),i.jsx(F,{id:"date",type:"date"})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"description",children:"Descripción"}),i.jsx(F,{id:"description",placeholder:"Descripción del gasto"})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"category",children:"Categoría"}),i.jsxs("select",{id:"category",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar categoría"}),i.jsx("option",{value:"Repuestos",children:"Repuestos"}),i.jsx("option",{value:"Transporte",children:"Transporte"}),i.jsx("option",{value:"Reparaciones",children:"Reparaciones"}),i.jsx("option",{value:"Administración",children:"Administración"}),i.jsx("option",{value:"Equipamiento",children:"Equipamiento"})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"amount",children:"Importe"}),i.jsx(F,{id:"amount",type:"number",min:"0",step:"0.01",placeholder:"0.00"})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"technician",children:"Técnico"}),i.jsxs("select",{id:"technician",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[i.jsx("option",{value:"",children:"Seleccionar técnico"}),i.jsx("option",{value:"Carlos Gómez",children:"Carlos Gómez"}),i.jsx("option",{value:"María López",children:"María López"})]})]}),i.jsxs("div",{className:"grid w-full gap-1.5",children:[i.jsx(P,{htmlFor:"notes",children:"Notas"}),i.jsx("textarea",{id:"notes",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Observaciones adicionales"})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[i.jsx(A,{variant:"outline",children:"Cancelar"}),i.jsx(A,{variant:"default",children:"Guardar"})]})]})]})]})}),i.jsxs("div",{className:"space-x-2",children:[i.jsxs(A,{variant:"violet",children:[i.jsx(tS,{className:"mr-2 h-4 w-4"})," Generar Informe"]}),i.jsxs(A,{variant:"violet",children:[i.jsx(_d,{className:"mr-2 h-4 w-4"})," Importar"]}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ci,{className:"mr-2 h-4 w-4"})," Exportar"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[i.jsx(Us,{className:"h-5 w-5 text-muted-foreground"}),i.jsx(F,{placeholder:"Buscar por descripción, categoría o técnico...",value:t,onChange:s=>n(s.target.value),className:"max-w-sm"})]}),i.jsxs(ee,{className:"bg-card",children:[i.jsx(ve,{className:"pb-2",children:i.jsx(ge,{children:"Registro de Gastos"})}),i.jsx(te,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full table-auto",children:[i.jsx("thead",{className:"text-sm text-muted-foreground",children:i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("th",{className:"px-4 py-3 text-left",children:"ID"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Fecha"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Descripción"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Categoría"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Importe"}),i.jsx("th",{className:"px-4 py-3 text-left",children:"Técnico"}),i.jsx("th",{className:"px-4 py-3 text-right",children:"Acciones"})]})}),i.jsx("tbody",{children:r.map(s=>i.jsxs("tr",{className:"border-b border-border",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(nu,{className:"h-4 w-4 mr-2 text-muted-foreground"}),s.id]})}),i.jsx("td",{className:"px-4 py-3",children:a(s.date)}),i.jsx("td",{className:"px-4 py-3 font-medium",children:s.description}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("span",{className:"px-2 py-1 rounded-full bg-muted text-muted-foreground text-xs font-medium",children:s.category})}),i.jsx("td",{className:"px-4 py-3 text-right font-medium",children:o(s.amount)}),i.jsx("td",{className:"px-4 py-3",children:s.technician}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(A,{variant:"violet",size:"sm",children:"Editar"}),i.jsx(A,{variant:"default",size:"sm",children:"Detalle"})]})})]},s.id))})]})})})]})]})},uE=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Analysis"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(ee,{children:[i.jsx(ve,{children:i.jsx(ge,{children:"Revenue Analysis"})}),i.jsx(te,{className:"h-64 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Revenue charts will appear here"})})]}),i.jsxs(ee,{children:[i.jsx(ve,{children:i.jsx(ge,{children:"Expense Analysis"})}),i.jsx(te,{className:"h-64 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Expense charts will appear here"})})]}),i.jsxs(ee,{children:[i.jsx(ve,{children:i.jsx(ge,{children:"Machine Performance"})}),i.jsx(te,{className:"h-64 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Machine performance data will appear here"})})]}),i.jsxs(ee,{children:[i.jsx(ve,{children:i.jsx(ge,{children:"Client Analysis"})}),i.jsx(te,{className:"h-64 flex items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Client analysis data will appear here"})})]})]})]});async function sp(){try{const e=await Y(),t=await Jv(),n=new Blob([t],{type:"application/json"}),r=mn(),a=new Date().toISOString();return await e.add("backups",{id:r,data:n,metadata:{timestamp:a,size:n.size,version:"1.0"},createdAt:a}),console.log(`Backup created with ID: ${r}`),r}catch(e){throw console.error("Error creating backup:",e),e}}async function dE(){try{return(await(await Y()).getAll("backups")).map(n=>({id:n.id,metadata:n.metadata,createdAt:n.createdAt}))}catch(e){throw console.error("Error listing backups:",e),e}}async function fE(e){try{const n=await(await Y()).get("backups",e);if(!n)throw new Error(`Backup with ID ${e} not found`);const r=await n.data.text();return await aC(()=>Promise.resolve().then(()=>Ub),void 0).then(a=>a.importDBFromJSON(r)),console.log(`Backup ${e} restored successfully`),!0}catch(t){throw console.error("Error restoring backup:",t),t}}async function mE(e){try{return await(await Y()).delete("backups",e),console.log(`Backup ${e} deleted successfully`),!0}catch(t){throw console.error("Error deleting backup:",t),t}}async function pE(e=24){await sp();const t=e*60*60*1e3;setInterval(async()=>{try{await sp(),console.log("Automatic backup created"),await hE(7)}catch(n){console.error("Error in automatic backup:",n)}},t),console.log(`Automatic backup scheduled every ${e} hours`)}async function hE(e){try{const t=await dE();if(t.sort((n,r)=>new Date(r.createdAt).getTime()-new Date(n.createdAt).getTime()),t.length>e){const n=t.slice(e);for(const r of n)await mE(r.id),console.log(`Old backup ${r.id} deleted`)}}catch(t){console.error("Error cleaning up old backups:",t)}}async function vE(e){try{const n=await(await Y()).get("backups",e);if(!n)throw new Error(`Backup with ID ${e} not found`);const r=await n.data.text(),o=new Date(n.metadata.timestamp).toISOString().split("T")[0];jj(r,`backup_${o}_${e.substring(0,8)}.json`,"application/json"),console.log(`Backup ${e} downloaded successfully`)}catch(t){throw console.error("Error downloading backup:",t),t}}async function gE(e){return fE(e)}function Nr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function st(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Xt(e){st(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||wr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function xE(e,t){st(2,arguments);var n=Xt(e).getTime(),r=Nr(t);return new Date(n+r)}var yE={};function Ws(){return yE}function wE(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function bE(e){return st(1,arguments),e instanceof Date||wr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function jE(e){if(st(1,arguments),!bE(e)&&typeof e!="number")return!1;var t=Xt(e);return!isNaN(Number(t))}function CE(e,t){st(2,arguments);var n=Nr(t);return xE(e,-n)}var NE=864e5;function SE(e){st(1,arguments);var t=Xt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/NE)+1}function Jo(e){st(1,arguments);var t=1,n=Xt(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function Yx(e){st(1,arguments);var t=Xt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=Jo(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Jo(o);return t.getTime()>=a.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function EE(e){st(1,arguments);var t=Yx(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Jo(n);return r}var kE=6048e5;function PE(e){st(1,arguments);var t=Xt(e),n=Jo(t).getTime()-EE(t).getTime();return Math.round(n/kE)+1}function Zo(e,t){var n,r,a,o,s,c,l,u;st(1,arguments);var f=Ws(),d=Nr((n=(r=(a=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:f.weekStartsOn)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Xt(e),g=m.getUTCDay(),w=(g<d?7:0)+g-d;return m.setUTCDate(m.getUTCDate()-w),m.setUTCHours(0,0,0,0),m}function Gx(e,t){var n,r,a,o,s,c,l,u;st(1,arguments);var f=Xt(e),d=f.getUTCFullYear(),m=Ws(),g=Nr((n=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:m.firstWeekContainsDate)!==null&&r!==void 0?r:(l=m.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var w=new Date(0);w.setUTCFullYear(d+1,0,g),w.setUTCHours(0,0,0,0);var x=Zo(w,t),b=new Date(0);b.setUTCFullYear(d,0,g),b.setUTCHours(0,0,0,0);var y=Zo(b,t);return f.getTime()>=x.getTime()?d+1:f.getTime()>=y.getTime()?d:d-1}function ME(e,t){var n,r,a,o,s,c,l,u;st(1,arguments);var f=Ws(),d=Nr((n=(r=(a=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(s=t.locale)===null||s===void 0||(c=s.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&r!==void 0?r:(l=f.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=Gx(e,t),g=new Date(0);g.setUTCFullYear(m,0,d),g.setUTCHours(0,0,0,0);var w=Zo(g,t);return w}var TE=6048e5;function DE(e,t){st(1,arguments);var n=Xt(e),r=Zo(n,t).getTime()-ME(n,t).getTime();return Math.round(r/TE)+1}function re(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var IE={y:function(t,n){var r=t.getUTCFullYear(),a=r>0?r:1-r;return re(n==="yy"?a%100:a,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):re(r+1,2)},d:function(t,n){return re(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return re(t.getUTCHours()%12||12,n.length)},H:function(t,n){return re(t.getUTCHours(),n.length)},m:function(t,n){return re(t.getUTCMinutes(),n.length)},s:function(t,n){return re(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,a=t.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return re(o,n.length)}};const jn=IE;var Or={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},OE={G:function(t,n,r){var a=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var a=t.getUTCFullYear(),o=a>0?a:1-a;return r.ordinalNumber(o,{unit:"year"})}return jn.y(t,n)},Y:function(t,n,r,a){var o=Gx(t,a),s=o>0?o:1-o;if(n==="YY"){var c=s%100;return re(c,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):re(s,n.length)},R:function(t,n){var r=Yx(t);return re(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return re(r,n.length)},Q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return re(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,n,r){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return re(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,n,r){var a=t.getUTCMonth();switch(n){case"M":case"MM":return jn.M(t,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,n,r){var a=t.getUTCMonth();switch(n){case"L":return String(a+1);case"LL":return re(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,n,r,a){var o=DE(t,a);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):re(o,n.length)},I:function(t,n,r){var a=PE(t);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):re(a,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):jn.d(t,n)},D:function(t,n,r){var a=SE(t);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):re(a,n.length)},E:function(t,n,r){var a=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,n,r,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return re(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,a){var o=t.getUTCDay(),s=(o-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return re(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var a=t.getUTCDay(),o=a===0?7:a;switch(n){case"i":return String(o);case"ii":return re(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,n,r){var a=t.getUTCHours(),o=a/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var a=t.getUTCHours(),o;switch(a===12?o=Or.noon:a===0?o=Or.midnight:o=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var a=t.getUTCHours(),o;switch(a>=17?o=Or.evening:a>=12?o=Or.afternoon:a>=4?o=Or.morning:o=Or.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return jn.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):jn.H(t,n)},K:function(t,n,r){var a=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):re(a,n.length)},k:function(t,n,r){var a=t.getUTCHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):re(a,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):jn.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):jn.s(t,n)},S:function(t,n){return jn.S(t,n)},X:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return cp(s);case"XXXX":case"XX":return ar(s);case"XXXXX":case"XXX":default:return ar(s,":")}},x:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(n){case"x":return cp(s);case"xxxx":case"xx":return ar(s);case"xxxxx":case"xxx":default:return ar(s,":")}},O:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+lp(s,":");case"OOOO":default:return"GMT"+ar(s,":")}},z:function(t,n,r,a){var o=a._originalDate||t,s=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+lp(s,":");case"zzzz":default:return"GMT"+ar(s,":")}},t:function(t,n,r,a){var o=a._originalDate||t,s=Math.floor(o.getTime()/1e3);return re(s,n.length)},T:function(t,n,r,a){var o=a._originalDate||t,s=o.getTime();return re(s,n.length)}};function lp(e,t){var n=e>0?"-":"+",r=Math.abs(e),a=Math.floor(r/60),o=r%60;if(o===0)return n+String(a);var s=t||"";return n+String(a)+s+re(o,2)}function cp(e,t){if(e%60===0){var n=e>0?"-":"+";return n+re(Math.abs(e)/60,2)}return ar(e,t)}function ar(e,t){var n=t||"",r=e>0?"-":"+",a=Math.abs(e),o=re(Math.floor(a/60),2),s=re(a%60,2);return r+o+n+s}const RE=OE;var up=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Qx=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},AE=function(t,n){var r=t.match(/(P+)(p+)?/)||[],a=r[1],o=r[2];if(!o)return up(t,n);var s;switch(a){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",up(a,n)).replace("{{time}}",Qx(o,n))},_E={p:Qx,P:AE};const LE=_E;var FE=["D","DD"],$E=["YY","YYYY"];function zE(e){return FE.indexOf(e)!==-1}function UE(e){return $E.indexOf(e)!==-1}function dp(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var WE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BE=function(t,n,r){var a,o=WE[t];return typeof o=="string"?a=o:n===1?a=o.one:a=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};const VE=BE;function ra(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var HE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GE={date:ra({formats:HE,defaultWidth:"full"}),time:ra({formats:qE,defaultWidth:"full"}),dateTime:ra({formats:YE,defaultWidth:"full"})};const QE=GE;var KE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XE=function(t,n,r,a){return KE[t]};const JE=XE;function qt(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",a;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):o;a=e.formattingValues[s]||e.formattingValues[o]}else{var c=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[l]||e.values[c]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var ZE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ek={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tk={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ak={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ik=function(t,n){var r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ok={ordinalNumber:ik,era:qt({values:ZE,defaultWidth:"wide"}),quarter:qt({values:ek,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:qt({values:tk,defaultWidth:"wide"}),day:qt({values:nk,defaultWidth:"wide"}),dayPeriod:qt({values:rk,defaultWidth:"wide",formattingValues:ak,defaultFormattingWidth:"wide"})};const sk=ok;function Yt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?ck(c,function(d){return d.test(s)}):lk(c,function(d){return d.test(s)}),u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;var f=t.slice(s.length);return{value:u,rest:f}}}function lk(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function ck(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Kx(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var a=r[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;var c=t.slice(a.length);return{value:s,rest:c}}}var uk=/^(\d+)(th|st|nd|rd)?/i,dk=/\d+/i,fk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mk={any:[/^b/i,/^(a|c)/i]},pk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hk={any:[/1/i,/2/i,/3/i,/4/i]},vk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gk={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},xk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bk={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jk={ordinalNumber:Kx({matchPattern:uk,parsePattern:dk,valueCallback:function(t){return parseInt(t,10)}}),era:Yt({matchPatterns:fk,defaultMatchWidth:"wide",parsePatterns:mk,defaultParseWidth:"any"}),quarter:Yt({matchPatterns:pk,defaultMatchWidth:"wide",parsePatterns:hk,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Yt({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:gk,defaultParseWidth:"any"}),day:Yt({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),dayPeriod:Yt({matchPatterns:wk,defaultMatchWidth:"any",parsePatterns:bk,defaultParseWidth:"any"})};const Ck=jk;var Nk={code:"en-US",formatDistance:VE,formatLong:QE,formatRelative:JE,localize:sk,match:Ck,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Sk=Nk;var Ek=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kk=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pk=/^'([^]*?)'?$/,Mk=/''/g,Tk=/[a-zA-Z]/;function Dk(e,t,n){var r,a,o,s,c,l,u,f,d,m,g,w,x,b,y,v,h,j;st(2,arguments);var C=String(t),E=Ws(),S=(r=(a=n==null?void 0:n.locale)!==null&&a!==void 0?a:E.locale)!==null&&r!==void 0?r:Sk,T=Nr((o=(s=(c=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(u=n.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:E.firstWeekContainsDate)!==null&&s!==void 0?s:(d=E.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var $=Nr((g=(w=(x=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(y=n.locale)===null||y===void 0||(v=y.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&x!==void 0?x:E.weekStartsOn)!==null&&w!==void 0?w:(h=E.locale)===null||h===void 0||(j=h.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&g!==void 0?g:0);if(!($>=0&&$<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var L=Xt(e);if(!jE(L))throw new RangeError("Invalid time value");var V=wE(L),B=CE(L,V),ue={firstWeekContainsDate:T,weekStartsOn:$,locale:S,_originalDate:L},W=C.match(kk).map(function(H){var G=H[0];if(G==="p"||G==="P"){var se=LE[G];return se(H,S.formatLong)}return H}).join("").match(Ek).map(function(H){if(H==="''")return"'";var G=H[0];if(G==="'")return Ik(H);var se=RE[G];if(se)return!(n!=null&&n.useAdditionalWeekYearTokens)&&UE(H)&&dp(H,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&zE(H)&&dp(H,t,String(e)),se(B,H,S.localize,ue);if(G.match(Tk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+G+"`");return H}).join("");return W}function Ik(e){var t=e.match(Pk);return t?t[1].replace(Mk,"'"):e}var Ok={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Rk=function(t,n,r){var a,o=Ok[t];return typeof o=="string"?a=o:n===1?a=o.one:a=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+a:"hace "+a:a};const Ak=Rk;var _k={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Lk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Fk={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$k={date:ra({formats:_k,defaultWidth:"full"}),time:ra({formats:Lk,defaultWidth:"full"}),dateTime:ra({formats:Fk,defaultWidth:"full"})};const zk=$k;var Uk={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Wk={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Bk=function(t,n,r,a){return n.getUTCHours()!==1?Wk[t]:Uk[t]};const Vk=Bk;var Hk={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},qk={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Yk={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Gk={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},Qk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Kk={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Xk=function(t,n){var r=Number(t);return r+"º"},Jk={ordinalNumber:Xk,era:qt({values:Hk,defaultWidth:"wide"}),quarter:qt({values:qk,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:qt({values:Yk,defaultWidth:"wide"}),day:qt({values:Gk,defaultWidth:"wide"}),dayPeriod:qt({values:Qk,defaultWidth:"wide",formattingValues:Kk,defaultFormattingWidth:"wide"})};const Zk=Jk;var eP=/^(\d+)(º)?/i,tP=/\d+/i,nP={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},rP={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},aP={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},iP={any:[/1/i,/2/i,/3/i,/4/i]},oP={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},sP={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},lP={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},cP={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},uP={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},dP={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},fP={ordinalNumber:Kx({matchPattern:eP,parsePattern:tP,valueCallback:function(t){return parseInt(t,10)}}),era:Yt({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:rP,defaultParseWidth:"any"}),quarter:Yt({matchPatterns:aP,defaultMatchWidth:"wide",parsePatterns:iP,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Yt({matchPatterns:oP,defaultMatchWidth:"wide",parsePatterns:sP,defaultParseWidth:"any"}),day:Yt({matchPatterns:lP,defaultMatchWidth:"wide",parsePatterns:cP,defaultParseWidth:"any"}),dayPeriod:Yt({matchPatterns:uP,defaultMatchWidth:"any",parsePatterns:dP,defaultParseWidth:"any"})};const mP=fP;var pP={code:"es",formatDistance:Ak,formatLong:zk,formatRelative:Vk,localize:Zk,match:mP,options:{weekStartsOn:1,firstWeekContainsDate:1}};const hP=pP,vP=()=>{const[e,t]=p.useState([]),[n,r]=p.useState(!0),[a,o]=p.useState(null);p.useEffect(()=>{s()},[]);const s=async()=>{try{const f=await(await Y()).getAll("backups");t(f)}catch(u){o("Error al cargar los backups"),console.error(u)}finally{r(!1)}},c=async u=>{try{await vE(u)}catch(f){o("Error al descargar el backup"),console.error(f)}},l=async u=>{if(window.confirm("¿Estás seguro de que deseas restaurar este backup? Se sobrescribirán todos los datos actuales."))try{await gE(u),window.location.reload()}catch(f){o("Error al restaurar el backup"),console.error(f)}};return n?i.jsx("div",{children:"Cargando backups..."}):i.jsxs(ee,{children:[i.jsxs(ve,{children:[i.jsx(ge,{children:"Gestión de Backups"}),i.jsx(br,{children:"Realiza copias de seguridad y restaura datos de backups anteriores"})]}),i.jsxs(te,{children:[a&&i.jsxs("div",{className:"mb-4 p-3 bg-red-50 text-red-500 rounded-md flex items-center",children:[i.jsx(QN,{className:"mr-2 h-4 w-4"}),a]}),i.jsx("div",{className:"space-y-4",children:e.length===0?i.jsx("p",{className:"text-muted-foreground",children:"No hay backups disponibles"}):e.map(u=>i.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:["Backup del ",Dk(new Date(u.metadata.timestamp),"PPpp",{locale:hP})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Tamaño: ",(u.metadata.size/1024).toFixed(2)," KB"]})]}),i.jsxs("div",{className:"space-x-2",children:[i.jsxs(A,{variant:"outline",size:"sm",onClick:()=>c(u.id),children:[i.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Descargar"]}),i.jsxs(A,{variant:"outline",size:"sm",onClick:()=>l(u.id),children:[i.jsx(fS,{className:"mr-2 h-4 w-4"}),"Restaurar"]})]})]},u.id))})]})]})},gP=()=>{const e=hn(),{profile:t}=fe(l=>l.companyProfile),[n,r]=p.useState({name:"",address:"",phone:"",email:"",taxId:"",logo:"",vatPercentage:0});p.useEffect(()=>{e(mo())},[e]),p.useEffect(()=>{t&&r({name:t.name||"",address:t.address||"",phone:t.phone||"",email:t.email||"",taxId:t.taxId||"",logo:t.logo||"",vatPercentage:t.vatPercentage||0})},[t]);const a=l=>{const{name:u,value:f}=l.target;r(d=>({...d,[u]:f}))},o=l=>{l.preventDefault(),e(xg(n))},s=l=>{var f;const u=(f=l.target.files)==null?void 0:f[0];if(u){const d=new FileReader;d.onload=m=>{const g=m.target;g&&g.result&&r(w=>({...w,logo:g.result}))},d.readAsDataURL(u)}},c=()=>{};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Configuración"}),i.jsx("p",{className:"text-muted-foreground",children:"Gestiona la configuración de tu empresa y datos"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs(ee,{children:[i.jsxs(ve,{children:[i.jsx(ge,{children:"Perfil de Empresa"}),i.jsx(br,{children:"Configura los datos de tu empresa"})]}),i.jsx(te,{children:i.jsxs("form",{onSubmit:o,className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col justify-center items-center mb-6",children:[i.jsx("div",{className:"h-24 w-24 rounded-full overflow-hidden border border-border mb-2",children:n.logo?i.jsx("img",{src:n.logo,alt:"Logo de la empresa",className:"w-full h-full object-cover"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-muted text-muted-foreground",children:"Logo"})}),i.jsx(P,{htmlFor:"logo",className:"cursor-pointer text-violet hover:text-violet/90",children:"Cambiar Logo"}),i.jsx(F,{id:"logo",type:"file",accept:"image/*",onChange:s,className:"hidden"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"name",children:"Nombre de la Empresa"}),i.jsx(F,{id:"name",name:"name",value:n.name,onChange:a,placeholder:"Nombre de tu empresa"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"taxId",children:"NIF/CIF"}),i.jsx(F,{id:"taxId",name:"taxId",value:n.taxId,onChange:a,placeholder:"Número de identificación fiscal"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"address",children:"Dirección"}),i.jsx(F,{id:"address",name:"address",value:n.address,onChange:a,placeholder:"Dirección completa"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"phone",children:"Teléfono"}),i.jsx(F,{id:"phone",name:"phone",value:n.phone,onChange:a,placeholder:"Número de contacto"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(P,{htmlFor:"email",children:"Correo Electrónico"}),i.jsx(F,{id:"email",name:"email",type:"email",value:n.email,onChange:a,placeholder:"correo@ejemplo.com"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2",children:[i.jsx(A,{variant:"outline",type:"button",onClick:c,children:"Cancelar"}),i.jsx(A,{variant:"default",type:"submit",children:"Guardar Cambios"})]})]})})]}),i.jsx(vP,{})]})]})},xP=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Installations"}),i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add Installation"]})]}),i.jsx(ee,{children:i.jsxs(te,{className:"py-8 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No installations found"}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Record your first installation"]})]})})]}),yP=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Maintenance"}),i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add Maintenance Record"]})]}),i.jsx(ee,{children:i.jsxs(te,{className:"py-8 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No maintenance records found"}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Record your first maintenance"]})]})})]}),wP=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Spare Parts"}),i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add Spare Part"]})]}),i.jsx(ee,{children:i.jsxs(te,{className:"py-8 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No spare parts found"}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add your first spare part"]})]})})]}),bP=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Routes"}),i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create Route"]})]}),i.jsx(ee,{children:i.jsxs(te,{className:"py-8 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No routes found"}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Create your first route"]})]})})]}),jP=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Payments"}),i.jsxs(A,{variant:"default",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Add Payment"]})]}),i.jsx(ee,{children:i.jsxs(te,{className:"py-8 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"No payments found"}),i.jsxs(A,{variant:"violet",children:[i.jsx(Ve,{className:"h-4 w-4 mr-2"}),"Record your first payment"]})]})})]}),CP=()=>{const e=wa(),t=hn(),{user:n}=fe(s=>s.auth),{profile:r}=fe(s=>s.companyProfile),a=()=>{t(Ij())},o=[{label:"Panel",path:"/",icon:i.jsx(aS,{size:20})},{label:"Clientes",path:"/clients",icon:i.jsx(gS,{size:20})},{label:"Máquinas",path:"/machines",icon:i.jsx(sS,{size:20})},{label:"Recaudaciones",path:"/collections",icon:i.jsx(xS,{size:20})},{label:"Gastos",path:"/expenses",icon:i.jsx(dS,{size:20})},{label:"Mantenimiento",path:"/maintenance",icon:i.jsx(yS,{size:20})},{label:"Ubicaciones",path:"/locations",icon:i.jsx(oS,{size:20})},{label:"Ajustes",path:"/settings",icon:i.jsx(mS,{size:20})}];return i.jsxs("aside",{className:"w-64 bg-card border-r border-border h-full flex flex-col",children:[i.jsx("div",{className:"h-16 border-b border-border flex items-center justify-center p-4",children:r!=null&&r.logo?i.jsx("img",{src:r.logo,alt:r.name||"Rekreativ@",className:"h-10 w-10 object-contain rounded border border-gray-100 shadow-sm"}):i.jsxs("div",{className:"font-bold text-xl",children:[i.jsx("span",{className:"text-brand",children:"Rekreativ"}),i.jsx("span",{className:"text-brand-accent",children:"@"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:i.jsx("nav",{className:"space-y-1 px-2",children:o.map(s=>i.jsxs(bd,{to:s.path,className:oe("flex items-center px-3 py-2 text-sm font-medium rounded-md group",e.pathname===s.path?"bg-brand text-white":"text-foreground hover:bg-muted"),children:[i.jsx("span",{className:"mr-3",children:s.icon}),s.label]},s.path))})}),i.jsx("div",{className:"p-4 border-t border-border",children:i.jsxs("div",{className:"flex items-center px-3 py-2 text-sm font-medium text-foreground",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Conectado como"}),i.jsx("p",{className:"font-medium",children:n==null?void 0:n.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:(n==null?void 0:n.role)==="admin"?"Administrador":"Técnico"})]}),i.jsx(A,{variant:"ghost",size:"sm",onClick:a,className:"ml-auto",children:i.jsx(iS,{size:18})})]})})]})},NP=()=>i.jsxs("div",{className:"flex h-screen bg-background",children:[i.jsx(CP,{}),i.jsx("main",{className:"flex-1 overflow-auto p-6",children:i.jsx(t2,{})})]});function SP(e){const t=e+"CollectionProvider",[n,r]=$s(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=g=>{const{scope:w,children:x}=g,b=pt.useRef(null),y=pt.useRef(new Map).current;return i.jsx(a,{scope:w,itemMap:y,collectionRef:b,children:x})};s.displayName=t;const c=e+"CollectionSlot",l=pt.forwardRef((g,w)=>{const{scope:x,children:b}=g,y=o(c,x),v=yt(w,y.collectionRef);return i.jsx(ma,{ref:v,children:b})});l.displayName=c;const u=e+"CollectionItemSlot",f="data-radix-collection-item",d=pt.forwardRef((g,w)=>{const{scope:x,children:b,...y}=g,v=pt.useRef(null),h=yt(w,v),j=o(u,x);return pt.useEffect(()=>(j.itemMap.set(v,{ref:v,...y}),()=>void j.itemMap.delete(v))),i.jsx(ma,{[f]:"",ref:h,children:b})});d.displayName=u;function m(g){const w=o(e+"CollectionConsumer",g);return pt.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const y=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((j,C)=>y.indexOf(j.ref.current)-y.indexOf(C.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},m,r]}var EP="VisuallyHidden",$d=p.forwardRef((e,t)=>i.jsx(Ye.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));$d.displayName=EP;var zd="ToastProvider",[Ud,kP,PP]=SP("Toast"),[Xx,ZP]=$s("Toast",[PP]),[MP,Bs]=Xx(zd),Jx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:s}=e,[c,l]=p.useState(null),[u,f]=p.useState(0),d=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${zd}\`. Expected non-empty \`string\`.`),i.jsx(Ud.Provider,{scope:t,children:i.jsx(MP,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:p.useCallback(()=>f(g=>g+1),[]),onToastRemove:p.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:m,children:s})})};Jx.displayName=zd;var Zx="ToastViewport",TP=["F8"],au="toast.viewportPause",iu="toast.viewportResume",ey=p.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=TP,label:a="Notifications ({hotkey})",...o}=e,s=Bs(Zx,n),c=kP(n),l=p.useRef(null),u=p.useRef(null),f=p.useRef(null),d=p.useRef(null),m=yt(t,d,s.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=s.toastCount>0;p.useEffect(()=>{const b=y=>{var h;r.length!==0&&r.every(j=>y[j]||y.code===j)&&((h=d.current)==null||h.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=l.current,y=d.current;if(w&&b&&y){const v=()=>{if(!s.isClosePausedRef.current){const E=new CustomEvent(au);y.dispatchEvent(E),s.isClosePausedRef.current=!0}},h=()=>{if(s.isClosePausedRef.current){const E=new CustomEvent(iu);y.dispatchEvent(E),s.isClosePausedRef.current=!1}},j=E=>{!b.contains(E.relatedTarget)&&h()},C=()=>{b.contains(document.activeElement)||h()};return b.addEventListener("focusin",v),b.addEventListener("focusout",j),b.addEventListener("pointermove",v),b.addEventListener("pointerleave",C),window.addEventListener("blur",v),window.addEventListener("focus",h),()=>{b.removeEventListener("focusin",v),b.removeEventListener("focusout",j),b.removeEventListener("pointermove",v),b.removeEventListener("pointerleave",C),window.removeEventListener("blur",v),window.removeEventListener("focus",h)}}},[w,s.isClosePausedRef]);const x=p.useCallback(({tabbingDirection:b})=>{const v=c().map(h=>{const j=h.ref.current,C=[j,...BP(j)];return b==="forwards"?C:C.reverse()});return(b==="forwards"?v.reverse():v).flat()},[c]);return p.useEffect(()=>{const b=d.current;if(b){const y=v=>{var C,E,S;const h=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!h){const T=document.activeElement,$=v.shiftKey;if(v.target===b&&$){(C=u.current)==null||C.focus();return}const B=x({tabbingDirection:$?"backwards":"forwards"}),ue=B.findIndex(W=>W===T);Yl(B.slice(ue+1))?v.preventDefault():$?(E=u.current)==null||E.focus():(S=f.current)==null||S.focus()}};return b.addEventListener("keydown",y),()=>b.removeEventListener("keydown",y)}},[c,x]),i.jsxs(F2,{ref:l,role:"region","aria-label":a.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&i.jsx(ou,{ref:u,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"forwards"});Yl(b)}}),i.jsx(Ud.Slot,{scope:n,children:i.jsx(Ye.ol,{tabIndex:-1,...o,ref:m})}),w&&i.jsx(ou,{ref:f,onFocusFromOutsideViewport:()=>{const b=x({tabbingDirection:"backwards"});Yl(b)}})]})});ey.displayName=Zx;var ty="ToastFocusProxy",ou=p.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=Bs(ty,n);return i.jsx($d,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:s=>{var u;const c=s.relatedTarget;!((u=o.viewport)!=null&&u.contains(c))&&r()}})});ou.displayName=ty;var Vs="Toast",DP="toast.swipeStart",IP="toast.swipeMove",OP="toast.swipeCancel",RP="toast.swipeEnd",ny=p.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...s}=e,[c=!0,l]=Og({prop:r,defaultProp:a,onChange:o});return i.jsx(ji,{present:n||c,children:i.jsx(LP,{open:c,...s,ref:t,onClose:()=>l(!1),onPause:zt(e.onPause),onResume:zt(e.onResume),onSwipeStart:Ie(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(e.onSwipeMove,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ie(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(e.onSwipeEnd,u=>{const{x:f,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});ny.displayName=Vs;var[AP,_P]=Xx(Vs,{onClose(){}}),LP=p.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:s,onEscapeKeyDown:c,onPause:l,onResume:u,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:m,onSwipeEnd:g,...w}=e,x=Bs(Vs,n),[b,y]=p.useState(null),v=yt(t,W=>y(W)),h=p.useRef(null),j=p.useRef(null),C=a||x.duration,E=p.useRef(0),S=p.useRef(C),T=p.useRef(0),{onToastAdd:$,onToastRemove:L}=x,V=zt(()=>{var H;(b==null?void 0:b.contains(document.activeElement))&&((H=x.viewport)==null||H.focus()),s()}),B=p.useCallback(W=>{!W||W===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(V,W))},[V]);p.useEffect(()=>{const W=x.viewport;if(W){const H=()=>{B(S.current),u==null||u()},G=()=>{const se=new Date().getTime()-E.current;S.current=S.current-se,window.clearTimeout(T.current),l==null||l()};return W.addEventListener(au,G),W.addEventListener(iu,H),()=>{W.removeEventListener(au,G),W.removeEventListener(iu,H)}}},[x.viewport,C,l,u,B]),p.useEffect(()=>{o&&!x.isClosePausedRef.current&&B(C)},[o,C,x.isClosePausedRef,B]),p.useEffect(()=>($(),()=>L()),[$,L]);const ue=p.useMemo(()=>b?cy(b):null,[b]);return x.viewport?i.jsxs(i.Fragment,{children:[ue&&i.jsx(FP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ue}),i.jsx(AP,{scope:n,onClose:V,children:bi.createPortal(i.jsx(Ud.ItemSlot,{scope:n,children:i.jsx(L2,{asChild:!0,onEscapeKeyDown:Ie(c,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(Ye.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":x.swipeDirection,...w,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ie(e.onKeyDown,W=>{W.key==="Escape"&&(c==null||c(W.nativeEvent),W.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ie(e.onPointerDown,W=>{W.button===0&&(h.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ie(e.onPointerMove,W=>{if(!h.current)return;const H=W.clientX-h.current.x,G=W.clientY-h.current.y,se=!!j.current,R=["left","right"].includes(x.swipeDirection),U=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,M=R?U(0,H):0,O=R?0:U(0,G),_=W.pointerType==="touch"?10:2,K={x:M,y:O},Se={originalEvent:W,delta:K};se?(j.current=K,Qi(IP,d,Se,{discrete:!1})):fp(K,x.swipeDirection,_)?(j.current=K,Qi(DP,f,Se,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(H)>_||Math.abs(G)>_)&&(h.current=null)}),onPointerUp:Ie(e.onPointerUp,W=>{const H=j.current,G=W.target;if(G.hasPointerCapture(W.pointerId)&&G.releasePointerCapture(W.pointerId),j.current=null,h.current=null,H){const se=W.currentTarget,R={originalEvent:W,delta:H};fp(H,x.swipeDirection,x.swipeThreshold)?Qi(RP,g,R,{discrete:!0}):Qi(OP,m,R,{discrete:!0}),se.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),FP=e=>{const{__scopeToast:t,children:n,...r}=e,a=Bs(Vs,t),[o,s]=p.useState(!1),[c,l]=p.useState(!1);return UP(()=>s(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:i.jsx(Sd,{asChild:!0,children:i.jsx($d,{...r,children:o&&i.jsxs(i.Fragment,{children:[a.label," ",n]})})})},$P="ToastTitle",ry=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Ye.div,{...r,ref:t})});ry.displayName=$P;var zP="ToastDescription",ay=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return i.jsx(Ye.div,{...r,ref:t})});ay.displayName=zP;var iy="ToastAction",oy=p.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?i.jsx(ly,{altText:n,asChild:!0,children:i.jsx(Wd,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${iy}\`. Expected non-empty \`string\`.`),null)});oy.displayName=iy;var sy="ToastClose",Wd=p.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=_P(sy,n);return i.jsx(ly,{asChild:!0,children:i.jsx(Ye.button,{type:"button",...r,ref:t,onClick:Ie(e.onClick,a.onClose)})})});Wd.displayName=sy;var ly=p.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return i.jsx(Ye.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function cy(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),WP(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...cy(r))}}),t}function Qi(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Tg(a,o):a.dispatchEvent(o)}var fp=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function UP(e=()=>{}){const t=zt(e);hi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function WP(e){return e.nodeType===e.ELEMENT_NODE}function BP(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Yl(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var VP=Jx,uy=ey,dy=ny,fy=ry,my=ay,py=oy,hy=Wd;const HP=VP,vy=p.forwardRef(({className:e,...t},n)=>i.jsx(uy,{ref:n,className:oe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));vy.displayName=uy.displayName;const qP=Cd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gy=p.forwardRef(({className:e,variant:t,...n},r)=>i.jsx(dy,{ref:r,className:oe(qP({variant:t}),e),...n}));gy.displayName=dy.displayName;const YP=p.forwardRef(({className:e,...t},n)=>i.jsx(py,{ref:n,className:oe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));YP.displayName=py.displayName;const xy=p.forwardRef(({className:e,...t},n)=>i.jsx(hy,{ref:n,className:oe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:i.jsx(px,{className:"h-4 w-4"})}));xy.displayName=hy.displayName;const yy=p.forwardRef(({className:e,...t},n)=>i.jsx(fy,{ref:n,className:oe("text-sm font-semibold",e),...t}));yy.displayName=fy.displayName;const wy=p.forwardRef(({className:e,...t},n)=>i.jsx(my,{ref:n,className:oe("text-sm opacity-90",e),...t}));wy.displayName=my.displayName;function GP(){const{toasts:e}=Fd();return i.jsxs(HP,{children:[e.map(function({id:t,title:n,description:r,action:a,icon:o,...s}){return i.jsxs(gy,{...s,children:[i.jsxs("div",{className:"grid gap-1",children:[o&&i.jsx("span",{className:"h-5 w-5",children:o}),n&&i.jsx(yy,{children:n}),r&&i.jsx(wy,{children:r})]}),a,i.jsx(xy,{})]},t)}),i.jsx(vy,{})]})}function QP(){const e=hn(),{user:t}=fe(n=>n.auth);return p.useEffect(()=>{(async()=>{try{await hd(),console.log("Database initialized successfully"),e(fr())}catch(r){console.error("Error initializing database:",r)}})()},[e]),i.jsxs(u2,{children:[i.jsxs(r2,{children:[i.jsx(Je,{path:"/login",element:t?i.jsx($m,{to:"/"}):i.jsx(j2,{})}),i.jsx(Je,{path:"/register",element:t?i.jsx($m,{to:"/"}):i.jsx(C2,{})}),i.jsxs(Je,{path:"/",element:i.jsx(NP,{}),children:[i.jsx(Je,{index:!0,element:i.jsx(N2,{})}),i.jsx(Je,{path:"clients",element:i.jsx(FS,{})}),i.jsx(Je,{path:"machines",element:i.jsx(aE,{})}),i.jsx(Je,{path:"collections",element:i.jsx(sE,{})}),i.jsx(Je,{path:"expenses",element:i.jsx(cE,{})}),i.jsx(Je,{path:"analysis",element:i.jsx(uE,{})}),i.jsx(Je,{path:"settings",element:i.jsx(gP,{})}),i.jsx(Je,{path:"installations",element:i.jsx(xP,{})}),i.jsx(Je,{path:"maintenance",element:i.jsx(yP,{})}),i.jsx(Je,{path:"spare-parts",element:i.jsx(wP,{})}),i.jsx(Je,{path:"routes",element:i.jsx(bP,{})}),i.jsx(Je,{path:"payments",element:i.jsx(jP,{})})]})]}),i.jsx(GP,{})]})}hd().then(async()=>{await Ej(),await pE(),Gl.createRoot(document.getElementById("root")).render(i.jsx(pt.StrictMode,{children:i.jsx(F1,{store:uC,children:i.jsx(QP,{})})}))}).catch(e=>{console.error("Failed to initialize the database:",e),document.getElementById("root").innerHTML=`
    <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
      <div style="text-align: center; color: red;">
        <h1>Error al inicializar la aplicación</h1>
        <p>Por favor, recarga la página o contacta al administrador.</p>
      </div>
    </div>
  `});
